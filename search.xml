<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ssh-config</title>
      <link href="/2024/02/02/2024-02-02-ssh-config/"/>
      <url>/2024/02/02/2024-02-02-ssh-config/</url>
      
        <content type="html"><![CDATA[<h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><p>Host lty<br>    HostName 59.72.98.55<br>    User lty<br>    Port 22<br>Host blog<br>    HostName 47.113.199.161<br>    User root<br>    Port 22<br>Host mac<br>    HostName 192.168.3.45<br>    User zhanghzhiyu<br>    Port 22</p><p>Host user<br>    HostName 222.27.79.35<br>    #HostName 192.168.3.10<br>    User user<br>    Port 22</p><p>Host zhangzhiyu<br>    HostName 222.27.79.35<br>    #HostName 192.168.3.10<br>    User zhangzhiyu<br>    Port 22</p><p>Host ubuntu<br>    HostName 192.168.3.32<br>    User zhangzhiyu<br>    Port 22</p><p>Host NAS<br>    HostName 192.168.3.26<br>    User ssh<br>    Port 22</p><p>UserKnownHostsFile ~/.ssh/known_hosts<br>ForwardX11Trusted yes</p><h1 id="1-生成密钥和公钥"><a href="#1-生成密钥和公钥" class="headerlink" title="1 生成密钥和公钥"></a>1 生成密钥和公钥</h1><h1 id="ssh-keygen-t-rsa"><a href="#ssh-keygen-t-rsa" class="headerlink" title="$ ssh-keygen -t rsa"></a>$ ssh-keygen -t rsa</h1><h1 id="上传公钥"><a href="#上传公钥" class="headerlink" title="上传公钥"></a>上传公钥</h1><h1 id="ssh-copy-id-i-ssh-id-rsa-pub-erbiaoger"><a href="#ssh-copy-id-i-ssh-id-rsa-pub-erbiaoger" class="headerlink" title="$ ssh-copy-id -i ~/.ssh/id_rsa.pub erbiaoger"></a>$ ssh-copy-id -i ~/.ssh/id_rsa.pub erbiaoger</h1><h1 id="ssh-copy-id-erbiaoger"><a href="#ssh-copy-id-erbiaoger" class="headerlink" title="$ ssh-copy-id erbiaoger"></a>$ ssh-copy-id erbiaoger</h1>]]></content>
      
      
      <categories>
          
          <category> computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Map</title>
      <link href="/2024/01/20/2024-01-20-google-map/"/>
      <url>/2024/01/20/2024-01-20-google-map/</url>
      
        <content type="html"><![CDATA[<h2 id="Google-Map"><a href="#Google-Map" class="headerlink" title="Google Map"></a>Google Map</h2><p>Google 地图（Google Maps）是一种提供街道地图、卫星图像、街景服务以及路线规划工具的网络地图服务。它由 Google 公司开发，用户可以通过网站或手机应用程序访问这项服务。Google 地图支持步行、汽车、自行车和公共交通工具的导航，为全球数十亿用户提供便利。此外，它还提供了商业搜索、地点评价和实时交通情况等功能。</p><iframe src="https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d1437.8308257517574!2d125.306201!3d43.8835614!3m2!1i1024!2i768!4f13.1!5e0!3m2!1szh-CN!2shk!4v1705718615119!5m2!1szh-CN!2shk" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sphotos-23-12-27</title>
      <link href="/2023/12/27/2023-12-27-photosphotos-23-12-27/"/>
      <url>/2023/12/27/2023-12-27-photosphotos-23-12-27/</url>
      
        <content type="html"><![CDATA[<h2 id="CBA"><a href="#CBA" class="headerlink" title="CBA"></a>CBA</h2><p>2023.12.27 长春</p><p>CBA 常规赛 </p><p>吉林-四川</p><p>在2023年12月27日的CBA常规赛中，吉林东北虎队与四川蓝鲸队的比赛结果是吉林东北虎以117比101战胜四川蓝鲸。比赛的四个小节得分为26:35, 39:22, 32:26, 20:18，显示了一场激烈且充满变化的对决​ </p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231219_140747000_iOS.jpg" alt="20231219_140747000_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231220_105426010_iOS.jpg" alt="20231220_105426010_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231220_111854830_iOS.jpg" alt="20231220_111854830_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231220_111922710_iOS.jpg" alt="20231220_111922710_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231220_123037710_iOS.jpg" alt="20231220_123037710_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231220_124536750_iOS.jpg" alt="20231220_124536750_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231220_124549080_iOS.jpg" alt="20231220_124549080_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231224_100635200_iOS.jpg" alt="20231224_100635200_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231224_101702090_iOS%201.jpg" alt="20231224_101702090_iOS 1"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231225_032506930_iOS.jpg" alt="20231225_032506930_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231225_032513550_iOS.jpg" alt="20231225_032513550_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231225_032810490_iOS.jpg" alt="20231225_032810490_iOS"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-2520231225_032900500_iOS.jpg" alt="20231225_032900500_iOS"></p>]]></content>
      
      
      
        <tags>
            
            <tag> life </tag>
            
            <tag> photo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker</title>
      <link href="/2023/12/27/2023-12-27-docker/"/>
      <url>/2023/12/27/2023-12-27-docker/</url>
      
        <content type="html"><![CDATA[<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo docker pull ubuntu:22.04</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 ubuntu 镜像启动一个容器，参数为以命令行模式进入该容器</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo dockere run -it ubuntu /bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有的容器</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker ps -a</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">后台运行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -itd --name ubuntu-test ubuntu /bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">停止一个容器</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stop &lt;容器 ID&gt;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker restart &lt;容器 ID&gt;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">导出容器</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">export</span> 1e560fca3906 &gt; ubuntu.tar</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">导入容器快照</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> docker/ubuntu.tar | docker import - <span class="built_in">test</span>/ubuntu:v1</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker import http://example.com/exampleimage.tgz example/imagerepo</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出本地主机上的镜像</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker images</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取一个新的镜像</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker pull ubuntu:22.04</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">登录和退出</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo docker login -u erbiaoger -p Zhang1511</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo docker <span class="built_in">logout</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">推送镜像</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker push</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">把宿主机上的文件复制到docker容器内部</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">cp</span> /path/filename 容器<span class="built_in">id</span>或名称:/path/filename</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="Docker-Dockerfile"><a href="#Docker-Dockerfile" class="headerlink" title="Docker Dockerfile"></a>Docker Dockerfile</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FROM nginx</span><br><span class="line">RUN echo '这是一个本地构建的nginx镜像' &gt; /usr/share/nginx/html/index.html</span><br></pre></td></tr></tbody></table></figure><h3 id="开始构建镜像"><a href="#开始构建镜像" class="headerlink" title="开始构建镜像"></a>开始构建镜像</h3><p>在 Dockerfile 文件的存放目录下，执行构建动作。</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker build -t nginx:v3 .</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开题报告</title>
      <link href="/2023/12/27/2023-12-27-kai-ti-bao-gao/"/>
      <url>/2023/12/27/2023-12-27-kai-ti-bao-gao/</url>
      
        <content type="html"><![CDATA[<h2 id="开题报告"><a href="#开题报告" class="headerlink" title="开题报告"></a>开题报告</h2><p>2023.12.27</p><p>主要是硕士开题报告的内容</p><p>2023年12月27日，我将进行我的硕士开题报告，报告的主题涉及我选定的研究方向以及预期的学术贡献。以下是我计划报告的主要内容：</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25%E6%88%AA%E5%B1%8F2023-12-27%2014.15.20.png" alt="截屏2023-12-27 14.15.20"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25%E6%88%AA%E5%B1%8F2023-12-27%2014.15.54.png" alt="截屏2023-12-27 14.15.54"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25%E6%88%AA%E5%B1%8F2023-12-27%2014.16.04.png" alt="截屏2023-12-27 14.16.04"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25%E6%88%AA%E5%B1%8F2023-12-27%2014.16.18.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> DAS </tag>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>李志的歌</title>
      <link href="/2023/12/20/2023-12-20-li-zhi-de-ge/"/>
      <url>/2023/12/20/2023-12-20-li-zhi-de-ge/</url>
      
        <content type="html"><![CDATA[<h2 id="李志的歌"><a href="#李志的歌" class="headerlink" title="李志的歌"></a>李志的歌</h2><p>李志的南无**菩萨</p><p><a href="https://1drv.ms/f/s!AtLlzQNYR7acguhw-RGm-uve6B5_hQ?e=PbgPmV">https://1drv.ms/f/s!AtLlzQNYR7acguhw-RGm-uve6B5_hQ?e=PbgPmV</a></p><h2 id="点击下面按钮"><a href="#点击下面按钮" class="headerlink" title="点击下面按钮"></a>点击下面按钮</h2><audio controls="" height="100" width="100">    <source src="https://erbiaoger.site/music/05%20思念观世音.wav" type="audio/mpeg">    <source src="horse.ogg" type="audio/ogg">    <embed height="50" width="100" src="https://erbiaoger.site/music/05%20思念观世音.wav"></audio>]]></content>
      
      
      
        <tags>
            
            <tag> Music </tag>
            
            <tag> 李志 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>conda</title>
      <link href="/2023/12/19/2023-12-10-conda/"/>
      <url>/2023/12/19/2023-12-10-conda/</url>
      
        <content type="html"><![CDATA[<p>要将Python的Conda环境依赖导出成Conda的<code>environment.yml</code>文件，你可以遵循以下步骤：</p><ol><li><p><strong>激活你的Conda环境</strong>：首先，确保你已经激活了你想要导出依赖的Conda环境。你可以使用以下命令来激活环境：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate your_env_name</span><br></pre></td></tr></tbody></table></figure><p>其中<code>your_env_name</code>是你的Conda环境的名称。</p></li><li><p><strong>导出环境文件</strong>：一旦环境被激活，你可以使用<code>conda env export</code>命令来导出环境的依赖。为了将这些依赖保存到<code>environment.yml</code>文件中，你可以使用以下命令：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda <span class="built_in">env</span> <span class="built_in">export</span> &gt; environment.yml</span><br></pre></td></tr></tbody></table></figure><p>这个命令会创建一个名为<code>environment.yml</code>的文件，其中包含了你的Conda环境的所有依赖。</p></li><li><p><strong>检查<code>environment.yml</code>文件</strong>：导出后，你可以检查<code>environment.yml</code>文件以确保它包含了所有必要的依赖。这个文件通常包含环境名称、依赖的列表以及可能的其他配置。</p></li><li><p><strong>使用<code>environment.yml</code>创建新环境</strong>：你可以使用这个<code>environment.yml</code>文件在另一台机器或者另一个环境中重建相同的Conda环境。使用以下命令来创建环境：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda <span class="built_in">env</span> create -f environment.yml</span><br></pre></td></tr></tbody></table></figure></li></ol><p>这样，你就可以轻松地共享你的Python环境配置，或者在不同的机器上重建相同的环境了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> install </tag>
            
            <tag> computer </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>极大似然</title>
      <link href="/2023/12/19/2023-08-21-ji-da-si-ran/"/>
      <url>/2023/12/19/2023-08-21-ji-da-si-ran/</url>
      
        <content type="html"><![CDATA[<p>对于这个函数:$p(x|\theta)$输入有两个：$x$表示某一个具体的数据；$\theta$表示模型的参数</p><p>如果$\theta$是已知确定的，$x$是变量，这个函数叫做概率函数(probabilityfunction)，它描述对于不同的样本点$x$，其出现概率是多少。</p><p>如果$x$是已知确定的，$\theta$是变量，这个函数叫做似然函数(likelihoodfunction),它描述对于不同的模型参数，出现$x$这个样本点的概率是多少。</p><p>假如有一个罐子，里面有黑白两种颜色的球，数目多少不知，两种颜色的比例也不知。我们想知道罐中白球和黑球的比例，但我们不能把罐中的球全部拿出来数。现在我们可以每次任意从已经摇匀的罐中拿一个球出来，记录球的颜色，然后把拿出来的球再放回罐中。这个过程可以重复，我们可以用记录的球的颜色来估计罐中黑白球的比例。假如在前面的一百次重复记录中，有七十次是白球，请问罐中白球所占的比例最有可能是多少？</p><p><strong>很多人马上就有答案了：70%。而其后的理论支撑是什么呢？</strong></p><p>我们假设罐中白球的比例是p，那么黑球的比例就是1-p。因为每抽一个球出来，在记录颜色之后，我们把抽出的球放回了罐中并摇匀，<strong>所以每次抽出来的球的颜色服从同一独立分布。</strong></p><p>这里我们把一次抽出来球的颜色称为一次抽样。题目中在一百次抽样中，七十次是白球的,三十次为黑球事件的概率是P(样本结果|Model)。</p><p>如果第一次抽象的结果记为x1,第二次抽样的结果记为x2….那么样本结果为(x1,x2…..,x100)。这样，我们可以得到如下表达式：</p><p>P(样本结果|Model)</p><p>　　=P(x1,x2,…,x100|Model)</p><p>　　=P(x1|Mel)P(x2|M)…P(x100|M)</p><p>　　=p^70(1-p)^30.</p><p>好的，我们已经有了观察样本结果出现的概率表达式了。那么我们要求的模型的参数，也就是求的式中的p。</p><p>那么我们怎么来求这个p呢？</p><p>不同的p，直接导致P（样本结果|Model）的不同。</p><p>好的，我们的p实际上是有无数多种分布的。如下：</p><p><img src="https://pic2.zhimg.com/v2-19c3773b9b9a6130dc2d8be535add249_r.jpg" alt="img"></p><p>那么求出p^70(1-p)^30为7.8*10^(-31)</p><p>p的分布也可以是如下：</p><p><img src="https://pic3.zhimg.com/v2-66fe8b6dc2b50ad0d220b4ecc01ad45a_r.jpg" alt="img"></p><p>那么也可以求出p^70(1-p)^30为2.95*10^(-27)</p><p><strong>那么问题来了，既然有无数种分布可以选择，极大似然估计应该按照什么原则去选取这个分布呢？</strong></p><p><strong>答：采取的方法是让这个样本结果出现的可能性最大，也就是使得p^70(1-p)^30值最大，那么我们就可以看成是p的方程，求导即可！</strong></p><p>那么既然事情已经发生了，为什么不让这个出现的结果的可能性最大呢？<strong>这也就是最大似然估计的核心。</strong></p><p><strong>我们想办法让观察样本出现的概率最大，转换为数学问题就是使得：</strong></p><p>p^70(1-p)^30最大，这太简单了，未知数只有一个p，我们令其导数为0，即可求出p为70%，与我们一开始认为的70%是一致的。其中蕴含着我们的数学思想在里面。</p>]]></content>
      
      
      
        <tags>
            
            <tag> math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>chatGPT_prompt</title>
      <link href="/2023/12/10/2023-12-10-chatgpt-prompt/"/>
      <url>/2023/12/10/2023-12-10-chatgpt-prompt/</url>
      
        <content type="html"><![CDATA[<h2 id="遵循五段式框架书写prompt"><a href="#遵循五段式框架书写prompt" class="headerlink" title="遵循五段式框架书写prompt"></a>遵循五段式框架书写prompt</h2><ol><li>任务设定和方向引导</li><li>具体任务步骤</li><li>样本示例</li><li>注意事项</li><li>输出要求和思维链引导</li></ol><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你擅长将Matlab代码转成python代码。你的任务是将下面的Matlab代码转成python。</span><br></pre></td></tr></tbody></table></figure><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">你是深度学习，机器学习的专家，擅长神经网络的解释和说明。你的任务是解释和说明该图片中的网络结构，包括每一步的作用。</span><br><span class="line"></span><br><span class="line">具体任务步骤是：</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 了解图片中神经网络每一层是什么</span><br><span class="line"><span class="bullet">2.</span> 解释说明神经网络每一层的作用</span><br></pre></td></tr></tbody></table></figure><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你是深度学习，机器学习和论文编写的专家，你擅长自然语言处理任务，擅长文本摘要总结汇总。你的任务是将下面的文字使用流畅的语言表达成一段话，要求有连贯性。</span><br></pre></td></tr></tbody></table></figure><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你擅长将python代码的解读。你的任务是将下面的python代码逐句解读并添加中文注释。</span><br></pre></td></tr></tbody></table></figure><p>完整例子：</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">你擅长自然语言处理任务，擅长实体识别、文本摘要，精通incontext-learning。你的任务是：对下面短横线隔开的Text文本先做命名实体识别再做文本摘要，然后对文本摘要质量打分。</span><br><span class="line"></span><br><span class="line">具体任务步骤是（如果你不知道具体步骤，你可以让chatgpt设计然后根据实际需求改）：</span><br><span class="line"></span><br><span class="line">1、完整阅读，全面掌握文本的主题、风格、和重点信息</span><br><span class="line">2、提取命名实体，如时间、地点、人物等关键信息</span><br><span class="line">3、做文本摘要，不要丢失关键信息</span><br><span class="line">4、对文本摘要质量打分</span><br><span class="line">命名实体示例：["孙悟空", "贾宝玉","太白山"]</span><br><span class="line"></span><br><span class="line">请仔细阅读注意事项，：</span><br><span class="line"></span><br><span class="line">1、参考命名实体示例，学习识别文本中其它实体</span><br><span class="line">2、不要用指示词，类似'基于这章节信息','基于背景知识','本文',等不要使用</span><br><span class="line">3、文本摘要不能丢失关键信息</span><br><span class="line">4、一个高质量的文本摘要应该确保：1) 2) 3)，给出1-10分的得分。</span><br><span class="line"></span><br><span class="line">我要求你做结构化输出，你的输出必须是json格式，有两个字段 "实体", "文本摘要"，输出示例如下：（）</span><br><span class="line"></span><br><span class="line">参考上面的任务要求、具体步骤、小样本示例、注意事项、输出要求，充分理解后，制定策略完成任务。不用输出每一步策略，只需输出最终结果。</span><br><span class="line"></span><br><span class="line">let's think step by step.</span><br><span class="line"></span><br><span class="line">Text: -----</span><br><span class="line"></span><br><span class="line">\------</span><br></pre></td></tr></tbody></table></figure><pre><code>注：示例不完善，参考框架，根据自己实际任务编写prompt</code></pre><ul><li>1：用“” &lt;&gt;等符号显式的指出输入文本。不要用较短的模糊的prompt试图阐明意图，用较长的更具体的prompt，可以得到更相关和更详细的输出。</li><li>2：要求结构化输出，如json格式，这样可以更好的用python读存</li><li>3：要求模型检验前提假设是否满足。</li><li>4：few-shot prompt，给模型一些示例。</li><li>5：明确任务所需步骤，并显式的要求模型按步进行</li><li>6：迭代prompt，1）分析为什么结果不满意。2）按照前面5条重新阐明。3）用小批数据实验prompt。</li></ul><p>1、你是[某个领域]的专家，概述一种逐步解决问题的方法来有效应对[插入你的问题]</p><p>2、我想学习[插入主题]，你需要告诉我最重要的20%知识，我只需学习这些重要知识，能够让我对该领域的80%有充分和扎实的理解。</p><p>3、我希望学习或提高[插入所需技能]。作为一个[初学者/进阶学习者]，你需要给我定制30天学习计划来启动我的学习，以掌握这项技能。</p><p>4、我正在学习[插入主题]。现需要你对我做测试，找出我知识上的不足，并做解释加强我的知识理解，开始对我学习的主题进行提问。</p><p>5、想象一下你是[插入著名人物]。对我下面双引号“”中的论点提出你的评论，然后从[人物]的角度提出你的论点。</p><p>6、你是[某个领域]的专家，请对下面这段文章做同行评议。纠正语法、字词使用、逻辑错误，并提出改善文章的建议。</p><p>所谓 few-shot prompt就是用一些样本示例提示模型学习。</p><p>举例如：”你擅长利用大模型做意图识别，你需要帮我完成句子情感意图识别。在下面大括号中我给你一些小样本示例：{“我今天心情很差”——“负面情绪”，“天气太好了吧！”——“正面情绪”，“你是个好人，我配不上你”——“负面情绪”}。你要利用自己丰富的预训练知识和思维链，认真仔细思考，并结合小样本示例，完成下面这句话的情感意图识别：[插入句子]”</p><p>再举例如：”你擅长利用大模型学习，尤其精通零样本、小样本学习。你的任务是按照示例的回答风格回答问题。示例如下：{query: “教我什么是耐心”，answer：“那条雕刻出最深沉峡谷的河流，源自一处恬静的泉眼；最宏伟的交响乐，始于一音之启；最复杂繁华的挂毯，始自一丝细线。”}，你要认真学习上面小样本示例的回答风格，利用你丰富的预训练知识，回答下面的问题：[插入问题]”</p><h2 id="1-术语翻译"><a href="#1-术语翻译" class="headerlink" title="1 术语翻译"></a>1 术语翻译</h2><p>作用：在英文翻译中，让术语更加地道和准确。</p><p>**prompt 命令 ：</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在xxx领域，xx的术语翻译是什么？</span><br></pre></td></tr></tbody></table></figure><h2 id="2-论文润色"><a href="#2-论文润色" class="headerlink" title="2 论文润色"></a>2 论文润色</h2><h3 id="2-1-SCI润色"><a href="#2-1-SCI润色" class="headerlink" title="2.1 SCI润色"></a>2.1 SCI润色</h3><p><strong>作用</strong>：ChatGPT可以成为sci论文的润色工具，从语法、用词、结构、语气等各方面进行修改<a href="https://zhuanlan.zhihu.com/p/618795297#ref_1">1</a>。</p><p><strong>prompt命令（语言翻译）</strong>：</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As a professional academic English editor , you are asked to translate the following paragraph into English</span><br></pre></td></tr></tbody></table></figure><p>建议可以使用deepl和谷歌翻译进行翻译</p><p><img src="https://pic1.zhimg.com/v2-bbf6b38ee55b050d8417eb1d7926fa70_r.jpg" alt="img"></p><p><strong>prompt 命令（语法修改)</strong> ：</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As a professional academic English editor, you are asked to revise the grammar of the following passage <span class="keyword">and</span> <span class="built_in">list</span> the changes made to each section</span><br></pre></td></tr></tbody></table></figure><p><img src="https://pic4.zhimg.com/v2-dcd5c32c663dc599d19322ba7fe85b87_r.jpg" alt="img"></p><p>注意：语法的使用必须还要仔细确认，最后也可以使用grammarly再确认一遍。</p><p><strong>prompt 命令（语言润色）</strong> ：</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As a professional academic English editor, you are asked to revise the following passage using academic language <span class="keyword">and</span> logic, <span class="keyword">and</span> <span class="built_in">list</span> the changes made to each section</span><br></pre></td></tr></tbody></table></figure><p>也可以使用<strong>quillbot</strong>进行润色</p><p><img src="https://pic4.zhimg.com/v2-6cef36e9ae8d699e4e8efc92d19e226b_r.jpg" alt="img"></p><p>除此之外，我们甚至可以让chatgpt从固定期刊的角度进行润色，需要自己挖掘prompt语句。如：</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Yo<span class="string">u're a top university professor and a reviewer from AIC journal. l will provide you with my written text. You need to do the tasksbelow:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1.List proofread suggestions for improvement.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. Write me a polished version according to the writing and wording styles of abovejournals.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Do you understand?</span></span><br></pre></td></tr></tbody></table></figure><p><img src="https://pic2.zhimg.com/v2-94fa41277bbc7f0c6811fc41dd0cafc1_r.jpg" alt="img"></p><h3 id="2-2-中文润色"><a href="#2-2-中文润色" class="headerlink" title="2.2 中文润色"></a>2.2 中文润色</h3><p><strong>作用：</strong>ChatGPT可以成为中文论文的润色工具，从语法、用词、结构、语气等各方面进行修改。</p><p><strong>prompt 命令（润色完善） ：</strong>用学术逻辑和语言，列出下段话需要修改的部分</p><p>下面以随便截取的一段话为例进行润色：</p><p><img src="https://pic2.zhimg.com/v2-3fe8f2f1876ae1e5f27e03bd7888bb85_r.jpg" alt="img"></p><p><strong>prompt 命令（修改语句） ：</strong>请你扮演一个学术编辑，下面这段话有问题吗，直接列出需要修改的每一部分</p><p>下面以随便截取的一段话为例进行修改：</p><p><img src="https://pic1.zhimg.com/v2-c2ae824c28a813e296a1b3b5eda88a64_r.jpg" alt="img"></p><p>此外，笔者发现chagpt，喜欢将<strong>目的和问题置于显眼位置</strong>，这对于书面表达非常重要，即总分结构。例如，“为了提高安全管理的水平，xxxxxx”</p><h2 id="3-研究思路辅助"><a href="#3-研究思路辅助" class="headerlink" title="3 研究思路辅助"></a>3 研究思路辅助</h2><p>在研究中可以尽可能形成假设，然后利用chatgpt强大的知识体系作证其可行性，在进行研究。此外，也可以利用chatgpt细化研究步骤。</p><h3 id="3-1-思路验证"><a href="#3-1-思路验证" class="headerlink" title="3.1 思路验证"></a>3.1 思路验证</h3><p><img src="https://pic4.zhimg.com/v2-80ef382f18b69026dbe6bd7be38efe13_r.jpg" alt="img"></p><p>思路作证</p><h3 id="3-2-思路细化"><a href="#3-2-思路细化" class="headerlink" title="3.2 思路细化"></a>3.2 思路细化</h3><p><img src="https://pic4.zhimg.com/v2-8728e1d6fb1375fba3170316efdc497f_r.jpg" alt="img"></p><p>细化研究思路</p><h2 id="4-编程辅助"><a href="#4-编程辅助" class="headerlink" title="4 编程辅助"></a>4 编程辅助</h2><h3 id="4-1-数据制图辅助"><a href="#4-1-数据制图辅助" class="headerlink" title="4.1 数据制图辅助"></a>4.1 数据制图辅助</h3><p>数据制图当然可以用github ciopilot（AI编程插件）、origin（软件）来实现。</p><p>也可以由chatgpt直接生成完整代码后，输入到vscode或者pycharm中进行绘制。</p><p><img src="https://pic1.zhimg.com/v2-9949073a524c5352022be1ca043b7964_r.jpg" alt="img"></p><p>chatgpt生成代码</p><p><img src="https://pic4.zhimg.com/v2-52d1ca3672208e048a0b24574cd1632b_r.jpg" alt="img"></p><p>编译器绘制</p><p><img src="https://pic1.zhimg.com/v2-a5becae8ad2764a7aaaf6272ca045bbc_r.jpg" alt="img"></p><p>进一步修改</p><p><img src="https://pic4.zhimg.com/v2-1072fabb5a0ef629852f514f116a2b53_r.jpg" alt="img"></p><p>修改绘制</p><h3 id="4-2-代码辅助"><a href="#4-2-代码辅助" class="headerlink" title="4.2 代码辅助"></a>4.2 代码辅助</h3><p>chatgpt可广泛用于科研中代码辅助，本文以管科中最常用的AHP为例进行示范。</p><p><img src="https://pic1.zhimg.com/v2-d8540a786c36667e5f989f1c30f291e8_r.jpg" alt="img"></p><p>通过代码验证，发现consistency_ratio是不是算错了，要gpt进行改正。</p><p><img src="https://pic4.zhimg.com/v2-2f0c84cb34366b85f144d04dd0414383_r.jpg" alt="img"></p><p>运行结果如下：</p><p><img src="https://pic1.zhimg.com/v2-f8bcf6b06b09905c4c9b85cf99a65138_r.jpg" alt="img"></p><p>当然，这是最简单的代码辅助，chatgpt还可以对代码进行改进、复现。亲测可用于计算机视觉，自然语言处理、智能优化算法等。此外，语言也包括matlab、python、c等是多种语言。</p><p>然而，本人更倾向于使用github ciopilot（AI编程插件），只要理清思路，写好注释来一步一步生成代码，这样代码的准确率才能够提升。</p><h2 id="5-数据分析辅助"><a href="#5-数据分析辅助" class="headerlink" title="5 数据分析辅助"></a>5 数据分析辅助</h2><p>以随便一篇论文中的数据为例：</p><p><img src="https://pic1.zhimg.com/v2-8bcfdc88058c050291786397123fb754_r.jpg" alt="img"></p><p>论文数据</p><p><img src="https://pic3.zhimg.com/v2-5027d9aa8677d43315e56eab6a025436_r.jpg" alt="img"></p><p>数据分析</p><p><strong>注意：数据分析</strong>具体还是要结合自己实验的具体情况进行分析，chatgpt可提供数据分析的<strong>语言逻辑参考</strong>。</p><h2 id="6-其他尝试场景"><a href="#6-其他尝试场景" class="headerlink" title="6 其他尝试场景"></a>6 其他尝试场景</h2><h3 id="6-1-总结论文综述"><a href="#6-1-总结论文综述" class="headerlink" title="6.1 总结论文综述"></a>6.1 总结论文综述</h3><p>可以按照<strong>一定的句式</strong>让chatgpt<strong>仿写文献综述。</strong></p><h3 id="6-2-缩写论文段落。"><a href="#6-2-缩写论文段落。" class="headerlink" title="6.2 缩写论文段落。"></a>6.2 缩写论文段落。</h3><p>直接使用命令缩写论文中某一章节的部分。当然，可以扩写，但是需要自己把握内容，这里不进行演示。</p><h3 id="6-3-示意图绘制"><a href="#6-3-示意图绘制" class="headerlink" title="6.3 示意图绘制"></a>6.3 示意图绘制</h3><p>可以结合chatgpt+midjourney两种AI工具进行科研绘图。这里不进行展示。</p><h3 id="6-4-专属知识数据库"><a href="#6-4-专属知识数据库" class="headerlink" title="6.4 专属知识数据库"></a>6.4 专属知识数据库</h3><p>可以搭建个人知识库，将阅读的论文、数据集等文字形式知识，并利用newbing、或者chatgptAPI搭建专属的领域专家。</p>]]></content>
      
      
      
        <tags>
            
            <tag> computer </tag>
            
            <tag> GPT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ssh -X</title>
      <link href="/2023/09/21/2023-09-21-ssh-x-user/"/>
      <url>/2023/09/21/2023-09-21-ssh-x-user/</url>
      
        <content type="html"><![CDATA[<p>ssh -R 6050:127.0.0.1:6000 -p 22 ubuntu</p><p>exprot DISPLAY=”127.0.0.1:50</p><p>ssh -X ubuntu</p><p>export DISPLAY=localhost:10.0</p><h3 id="mac端："><a href="#mac端：" class="headerlink" title="mac端："></a>mac端：</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></tbody></table></figure><p>添加：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ForwardX11Trusted</span><br></pre></td></tr></tbody></table></figure><p>安装 <strong>XQuartz</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install xquartz --cask</span><br></pre></td></tr></tbody></table></figure><h3 id="Linux端："><a href="#Linux端：" class="headerlink" title="Linux端："></a>Linux端：</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/ssh/sshd_config</span><br></pre></td></tr></tbody></table></figure><p>添加：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X11Forwarding yes</span><br><span class="line">X11DisplayOffset 10</span><br><span class="line">X11UseLocalhost yes</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br></pre></td></tr></tbody></table></figure><p>添加：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export DISPLAY=localhost:10.0</span><br></pre></td></tr></tbody></table></figure><p>​书中带言：<code>DISPLAY=:0</code> 表示 Linux 端本地使用GUI </p><h3 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -X ubuntu</span><br></pre></td></tr></tbody></table></figure><h3 id="如果此登陆方式使用-pyqt-有问题"><a href="#如果此登陆方式使用-pyqt-有问题" class="headerlink" title="如果此登陆方式使用 pyqt 有问题"></a>如果此登陆方式使用 pyqt 有问题</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">qt.qpa.plugin: Could not find the Qt platform plugin "xcb" in ""</span><br><span class="line">This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>可以在 <code>.zshrc</code> 中添加：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export QT_DEBUG_PLUGINS=1</span><br></pre></td></tr></tbody></table></figure><p>再运行，查看具体原因</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">qt.core.library: "/home/zhangzhiyu/miniconda3/lib/python3.11/site-packages/PyQt6/Qt6/plugins/platforms/libqxcb.so" cannot load: Cannot load library /home/zhangzhiyu/miniconda3/lib/python3.11/site-packages/PyQt6/Qt6/plugins/platforms/libqxcb.so: (libxcb-cursor.so.0: cannot open shared object file: No such file or directory)</span><br><span class="line">qt.core.plugin.loader: QLibraryPrivate::loadPlugin failed on "/home/zhangzhiyu/miniconda3/lib/python3.11/site-packages/PyQt6/Qt6/plugins/platforms/libqxcb.so" : "Cannot load library /home/zhangzhiyu/miniconda3/lib/python3.11/site-packages/PyQt6/Qt6/plugins/platforms/libqxcb.so: (libxcb-cursor.so.0: cannot open shared object file: No such file or directory)"</span><br><span class="line">qt.qpa.plugin: Could not load the Qt platform plugin "xcb" in "" even though it was found.</span><br><span class="line">This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libxcb-cursor-dev</span><br></pre></td></tr></tbody></table></figure><h1 id="ssh-user"><a href="#ssh-user" class="headerlink" title="ssh user"></a>ssh user</h1><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@222.27.79.35</span><br></pre></td></tr></tbody></table></figure><p>PassWord: lj523245</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image-20230826212353986.png"></p><h2 id="新建文件夹"><a href="#新建文件夹" class="headerlink" title="新建文件夹"></a>新建文件夹</h2><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> CSIM</span><br><span class="line"><span class="built_in">mkdir</span> -p zhangzhiyu</span><br><span class="line"><span class="built_in">cd</span> zhangzhiyu; <span class="built_in">ls</span> -lh</span><br></pre></td></tr></tbody></table></figure><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image-20230826212555254.png"></p><h2 id="Jupyter"><a href="#Jupyter" class="headerlink" title="Jupyter"></a>Jupyter</h2><p>参照：<br><a href="https://dummerfu.top/p/64572.html">https://dummerfu.top/p/64572.html</a></p><ul><li><a href="#ssh-user">ssh user</a><ul><li><a href="#%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9">新建文件夹</a></li><li><a href="#jupyter">Jupyter</a></li><li><a href="#-colab-%E5%AE%9E%E7%8E%B0%E6%9C%AC%E5%9C%B0%E8%BF%9E%E6%8E%A5">$ colab 实现本地连接</a><ul><li><a href="#-%E5%AE%89%E8%A3%85-jupyter">$ 安装 jupyter</a></li><li><a href="#-%E5%90%AF%E7%94%A8jupyter_http_over_ws-jupyter-%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E8%BF%9E%E6%8E%A5%E5%88%B0%E6%9C%AC%E5%9C%B0%E9%9C%80%E8%A6%81">$ <code>启用jupyter_http_over_ws jupyter 扩展程序（连接到本地需要</code></a></li><li><a href="#-%E5%90%AF%E5%8A%A8jupyter-%E6%9C%80%E5%90%8E%E4%B8%80%E8%A1%8C%E5%8F%82%E6%95%B0%E6%98%AF%E4%B8%BA%E4%BA%86%E6%8C%82%E8%BD%BD%E5%88%B0%E6%9C%AC%E5%9C%B0%E5%90%8E%E8%83%BD%E6%89%93%E5%BC%80%E8%87%AA%E5%B7%B1%E7%9A%84%E6%96%87%E4%BB%B6">$ 启动jupyter 最后一行参数是为了挂载到本地后能打开自己的文件</a></li></ul></li><li><a href="#-%E4%BC%98%E5%8C%96">$ 优化</a><ul><li><a href="#%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">生成配置文件</a></li><li><a href="#%E6%9B%B4%E6%94%B9%E5%8F%82%E6%95%B0">更改参数</a></li><li><a href="#%E6%9B%B4%E6%94%B9token">更改token</a></li><li><a href="#%E5%8F%96%E6%B6%88%E8%87%AA%E5%8A%A8%E9%87%8D%E5%AE%9A%E5%90%91">取消自动重定向</a></li><li><a href="#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C">后台运行</a></li></ul></li><li><a href="#jupyter-notebook-%E6%8F%92%E4%BB%B6">Jupyter notebook 插件</a><ul><li><a href="#1-%E5%AE%89%E8%A3%85%E5%B9%B6%E6%BF%80%E6%B4%BB-jupyter_contrib_nbextensions">1. 安装并激活 <strong>jupyter_contrib_nbextensions</strong>，</a></li><li><a href="#2-%E5%AE%89%E8%A3%85%E5%B9%B6%E5%90%AF%E7%94%A8-jupyter-nbextensions-configurator">2. 安装并启用 <strong>Jupyter Nbextensions Configurator</strong></a></li></ul></li><li><a href="#matlab">Matlab</a></li></ul></li></ul><h2 id="colab-实现本地连接"><a href="#colab-实现本地连接" class="headerlink" title="$ colab 实现本地连接"></a>$ colab 实现本地连接</h2><h3 id="安装-jupyter"><a href="#安装-jupyter" class="headerlink" title="$ 安装 jupyter"></a>$ 安装 jupyter</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install notebook</span><br></pre></td></tr></tbody></table></figure><h3 id="启用jupyter-http-over-ws-jupyter-扩展程序（连接到本地需要"><a href="#启用jupyter-http-over-ws-jupyter-扩展程序（连接到本地需要" class="headerlink" title="$ 启用jupyter_http_over_ws jupyter 扩展程序（连接到本地需要"></a>$ <code>启用jupyter_http_over_ws jupyter 扩展程序（连接到本地需要</code></h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyter_http_over_ws jupyter serverextension <span class="built_in">enable</span> --py jupyter_http_over_ws</span><br></pre></td></tr></tbody></table></figure><h3 id="启动jupyter-最后一行参数是为了挂载到本地后能打开自己的文件"><a href="#启动jupyter-最后一行参数是为了挂载到本地后能打开自己的文件" class="headerlink" title="$ 启动jupyter 最后一行参数是为了挂载到本地后能打开自己的文件"></a>$ 启动jupyter 最后一行参数是为了挂载到本地后能打开自己的文件</h3><p>虽然缺乏安全性，但是是最快解决403的方法，有时间再找找其他替代方案</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --NotebookApp.allow_origin=<span class="string">'&lt;https://colab.research.google.com&gt;'</span> --port=8899 --NotebookApp.port_retries=0 --NotebookApp.disable_check_xsrf=True</span><br></pre></td></tr></tbody></table></figure><h2 id="优化"><a href="#优化" class="headerlink" title="$ 优化"></a>$ 优化</h2><h3 id="生成配置文件"><a href="#生成配置文件" class="headerlink" title="生成配置文件"></a>生成配置文件</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br><span class="line">cd .jupyter</span><br><span class="line">vim jupyter_config.py</span><br></pre></td></tr></tbody></table></figure><h3 id="更改参数"><a href="#更改参数" class="headerlink" title="更改参数"></a>更改参数</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.allow_origin=<span class="string">'&lt;https://colab.research.google.com&gt;'</span></span><br><span class="line">c.port=<span class="number">8888</span></span><br><span class="line">c.NotebookApp.port_retries=<span class="number">0</span></span><br><span class="line">c.NotebookApp.disable_check_xsrf=<span class="literal">True</span></span><br><span class="line"> </span><br><span class="line">c.Notebook_dir=<span class="string">'/Users/erbiaoger/DAS'</span><span class="comment"># 更改自己的工作路径</span></span><br></pre></td></tr></tbody></table></figure><h3 id="更改token"><a href="#更改token" class="headerlink" title="更改token"></a>更改token</h3><p>因为每次连接到本地运行都要输入token，可以将token设置为固定值也相当于password了</p><p>不过这样运行的时候命令行里面不会显示token具体值</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.token=<span class="string">'http://localhost:8888/?token=erbiaoger'</span></span><br></pre></td></tr></tbody></table></figure><h3 id="取消自动重定向"><a href="#取消自动重定向" class="headerlink" title="取消自动重定向"></a>取消自动重定向</h3><p>每次打开一个new tab很烦人<del>我又不用jupyter写代码</del></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.open_browser = <span class="literal">False</span></span><br></pre></td></tr></tbody></table></figure><h3 id="后台运行"><a href="#后台运行" class="headerlink" title="后台运行"></a>后台运行</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在上述命令的最后加一个 &amp; ，则该命令产生的进程在后台运行，不会影响当前终端的使用（我们在只有一个bash的环境下）。</span></span><br><span class="line"><span class="comment"># ctrl c之后还在运行，但是关掉窗口就会停止</span></span><br><span class="line">jupyter notebook &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在命令的开头加一个nohup，忽略所有的挂断信号，如果当前bash关闭，则当前进程会挂载到init进程下，成为其子进程，这样即使退出当前bash，其8000端口也可以使用。</span></span><br><span class="line">nohup jupyter notebook &amp;</span><br></pre></td></tr></tbody></table></figure><h2 id="Jupyter-notebook-插件"><a href="#Jupyter-notebook-插件" class="headerlink" title="Jupyter notebook 插件"></a>Jupyter notebook 插件</h2><h3 id="1-安装并激活-jupyter-contrib-nbextensions，"><a href="#1-安装并激活-jupyter-contrib-nbextensions，" class="headerlink" title="1. 安装并激活 jupyter_contrib_nbextensions，"></a>1. 安装并激活 <strong>jupyter_contrib_nbextensions</strong>，</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple flask</span><br><span class="line">pip install jupyter_contrib_nbextensions </span><br><span class="line">jupyter contrib nbextension install --user</span><br></pre></td></tr></tbody></table></figure><h3 id="2-安装并启用-Jupyter-Nbextensions-Configurator"><a href="#2-安装并启用-Jupyter-Nbextensions-Configurator" class="headerlink" title="2. 安装并启用 Jupyter Nbextensions Configurator"></a>2. 安装并启用 <strong>Jupyter Nbextensions Configurator</strong></h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyter_nbextensions_configurator</span><br><span class="line">jupyter nbextensions_configurator enable --user</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh -NL 8888:localhost:8891 zhangzhiyu</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="Matlab"><a href="#Matlab" class="headerlink" title="Matlab"></a>Matlab</h2><p>\</p>]]></content>
      
      
      
        <tags>
            
            <tag> computer </tag>
            
            <tag> Linux </tag>
            
            <tag> ssh </tag>
            
            <tag> GUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>seisflow_流程</title>
      <link href="/2023/09/08/2023-09-08-seisflow-liu-cheng/"/>
      <url>/2023/09/08/2023-09-08-seisflow-liu-cheng/</url>
      
        <content type="html"><![CDATA[<figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">=================================================== ================================</span><br><span class="line"><span class="code">                          设置反演工作流程</span></span><br><span class="line"><span class="code">=================================================== ================================</span></span><br><span class="line"><span class="code">2023-09-08 10:10:41 (D) | 正在运行模块“system.Workstation”的安装程序</span></span><br><span class="line"><span class="code">2023-09-08 10:10:43 (D) | 将 par/log 文件复制到：/home/zhangzhiyu/MyProjects/Seisflows/Seisflow/example12/logs/sflog_001.txt</span></span><br><span class="line"><span class="code">2023-09-08 10:10:43 (D) | 将 par/log 文件复制到：/home/zhangzhiyu/MyProjects/Seisflows/Seisflow/example12/logs/parameters_001.yaml</span></span><br><span class="line"><span class="code">2023-09-08 10:10:43 (D) | 正在运行模块“solver.Specfem2D”的设置</span></span><br><span class="line"><span class="code">2023-09-08 10:10:43 (一) | 初始化 20 个求解器目录</span></span><br><span class="line"><span class="code">2023-09-08 10:10:43 (D) | 初始化解算器目录源：001</span></span><br><span class="line"><span class="code">2023-09-08 10:10:51 (D) | 将源“001”链接为“mainsolver”</span></span><br><span class="line"><span class="code">2023-09-08 10:10:51 (D) | 初始化求解器目录来源：002</span></span><br><span class="line"><span class="code">2023-09-08 10:11:01 (D) | 初始化解算器目录来源：003</span></span><br><span class="line"><span class="code">2023-09-08 10:11:10 (D) | 初始化解算器目录来源：004</span></span><br><span class="line"><span class="code">2023-09-08 10:11:17 (D) | 初始化求解器目录来源：005</span></span><br><span class="line"><span class="code">2023-09-08 10:11:21 (D) | 初始化求解器目录来源：006</span></span><br><span class="line"><span class="code">2023-09-08 10:11:28 (D) | 初始化求解器目录来源：007</span></span><br><span class="line"><span class="code">2023-09-08 10:11:35 (D) | 初始化求解器目录来源：008</span></span><br><span class="line"><span class="code">2023-09-08 10:11:45 (D) | 初始化求解器目录来源：009</span></span><br><span class="line"><span class="code">2023-09-08 10:11:51 (D) | 初始化解算器目录来源：010</span></span><br><span class="line"><span class="code">2023-09-08 10:11:55 (D) | 初始化求解器目录来源：011</span></span><br><span class="line"><span class="code">2023-09-08 10:12:00 (日) | 初始化求解器目录来源：012</span></span><br><span class="line"><span class="code">2023-09-08 10:12:07 (D) | 初始化解算器目录来源：013</span></span><br><span class="line"><span class="code">2023-09-08 10:12:14 (D) | 初始化解算器目录来源：014</span></span><br><span class="line"><span class="code">2023-09-08 10:12:22 (D) | 初始化求解器目录来源：015</span></span><br><span class="line"><span class="code">2023-09-08 10:12:29 (D) | 初始化求解器目录来源：016</span></span><br><span class="line"><span class="code">2023-09-08 10:12:35 (D) | 初始化求解器目录来源：017</span></span><br><span class="line"><span class="code">2023-09-08 10:12:44 (D) | 初始化求解器目录来源：018</span></span><br><span class="line"><span class="code">2023-09-08 10:12:53 (D) | 初始化求解器目录来源：019</span></span><br><span class="line"><span class="code">2023-09-08 10:13:04 (D) | 初始化求解器目录来源：020</span></span><br><span class="line"><span class="code">2023-09-08 10:13:15 (D) | 正在运行模块“preprocess.Default”的设置</span></span><br><span class="line"><span class="code">2023-09-08 10:13:15 (D) | 正在运行模块“optimize.Gradient”的设置</span></span><br><span class="line"><span class="code">2023-09-08 10:13:16 (一) | 没有找到优化检查点，假设第一次运行</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 从检查点重新加载优化模块</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） |</span></span><br><span class="line"><span class="code">/////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="code">                               运行迭代01</span></span><br><span class="line"><span class="code">/////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） |</span></span><br><span class="line"><span class="code">=================================================== ================================</span></span><br><span class="line"><span class="code">                            运行反转工作流程</span></span><br><span class="line"><span class="code">=================================================== ================================</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） |</span></span><br><span class="line"><span class="code">/////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="code">                       评估初始模型的不适合度</span></span><br><span class="line"><span class="code">/////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 检查初始模型参数</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 590.00 &lt;= 副总裁 &lt;= 590.00</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 355.00 &lt;= 与 &lt;= 355.00</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 检查真实/目标模型参数</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 570.00 &lt;= 副总裁 &lt;= 590.00</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 345.00 &lt;= 与 &lt;= 355.00</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 为源 001 准备观测数据</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18（一） | 使用 001 的目标模型进行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:13:18 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:19 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:22 (一) | 评估源 001 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:13:22 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:13:22 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:23 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:26 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:13:26 (一) | 为源 002 准备观测数据</span></span><br><span class="line"><span class="code">2023-09-08 10:13:26 (一) | 使用 002 的目标模型进行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:13:26 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:27 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:30 (一) | 评估源 002 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:13:30 (日) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:13:30 (日) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:31 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:13:34 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:13:35 (一) | 为源 003 准备观测数据</span></span><br><span class="line"><span class="code">2023-09-08 10:13:35 (一) | 使用 003 的目标模型进行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:13:35 (D) | 运行可执行文件w</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////</span><br><span class="line"><span class="code">                               跑步路线搜索</span></span><br><span class="line"><span class="code">/////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="code">2023-09-08 10:18:54 (一) | 初始化“回溯”线搜索</span></span><br><span class="line"><span class="code">2023-09-08 10:18:54 (一) | 实施最大步长保护</span></span><br><span class="line"><span class="code">2023-09-08 10:18:54 (D) | 步长 = 0.00E+00</span></span><br><span class="line"><span class="code">2023-09-08 10:18:54 (D) | 失配值 = 9.98E-04</span></span><br><span class="line"><span class="code">2023-09-08 10:18:54 (一) | try：第一次评估，尝试猜测步长，alpha=2.86E+03</span></span><br><span class="line"><span class="code">2023-09-08 10:18:54 (D) | 覆盖初始步长，alpha_new=5.20E+05</span></span><br><span class="line"><span class="code">2023-09-08 10:18:54 (一) | 试用模型'm_try'参数：</span></span><br><span class="line"><span class="code">2023-09-08 10:18:55 (一) | 步数增加 -&gt; 1</span></span><br><span class="line"><span class="code">2023-09-08 10:18:55 (一) |</span></span><br><span class="line"><span class="code">线搜索步数 01</span></span><br><span class="line"><span class="code">-------------------------------------------------- ------------------------------------------</span></span><br><span class="line"><span class="code">2023-09-08 10:18:55 (一) | 评估源 001 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:18:55 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:18:55 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:18:55 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:18:58 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:18:59 (一) | 评估源 002 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:18:59 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:18:59 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:18:59 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:02 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:03 (一) | 评估源 003 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:03 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:03 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:04 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:07 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:07 (一) | 评估源 004 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:07 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:07 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:08 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:11 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:11 (一) | 评估源 005 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:11 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:11 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:12 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:15 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:16 (一) | 评估源 006 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:16 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:16 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:16 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:19 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:20（一） | 评估源 007 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:20 (日) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:20 (日) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:20 (日) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:24 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:24 (一) | 评估源 008 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:24 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:24 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:25 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:28 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:28（一） | 评估源 009 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:28 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:28 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:29 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:32 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:33 (一) | 评估源 010 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:33 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:33 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:33 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:37 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:37 (一) | 评估源 011 的目标函数</span></span><br><span class="line"><span class="code">2023-09-08 10:19:37 (D) | 使用“Specfem2D”运行正向模拟</span></span><br><span class="line"><span class="code">2023-09-08 10:19:37 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xmeshfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:38 (D) | 使用 cmd 运行可执行文件：“mpirun -n 4 bin/xspecfem2D”</span></span><br><span class="line"><span class="code">2023-09-08 10:19:41 (D) | 量化与“默认”的不匹配</span></span><br><span class="line"><span class="code">2023-09-08 10:19:41 (一) | 评估源 012 的目标函数</span></span><br><span class="line"><span class="code">2023年9月8日 1</span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> specfem </tag>
            
            <tag> inversion </tag>
            
            <tag> computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>re</title>
      <link href="/2023/08/22/2023-08-22-re/"/>
      <url>/2023/08/22/2023-08-22-re/</url>
      
        <content type="html"><![CDATA[<p>正则表达式（Regular Expression，简称为 RegExp 或 RegEx）是一种用于匹配和操作文本的表达式。它允许您通过定义一些模式来查找、提取、替换和验证文本中的内容。Python 中的 <code>re</code> 模块提供了对正则表达式的支持，允许您在字符串中进行高级的模式匹配和操作。</p><p>以下是一些常用的正则表达式元字符和模式示例：</p><ol><li><p><strong>普通字符匹配</strong>：</p><ul><li><code>a</code>: 匹配字符 “a”。</li><li><code>hello</code>: 匹配字符串 “hello”。</li></ul></li><li><p><strong>元字符</strong>：</p><ul><li><code>.</code>: 匹配任意一个字符（除了换行符）。</li><li><code>\d</code>: 匹配任意一个数字。</li><li><code>\w</code>: 匹配任意一个字母、数字或下划线。</li><li><code>\s</code>: 匹配任意一个空白字符（空格、制表符、换行等）。</li></ul></li><li><p><strong>量词</strong>：</p><ul><li><code>*</code>: 匹配前一个元素零次或多次。</li><li><code>+</code>: 匹配前一个元素一次或多次。</li><li><code>?</code>: 匹配前一个元素零次或一次。</li><li><code>{n}</code>: 匹配前一个元素恰好 n 次。</li><li><code>{n,}</code>: 匹配前一个元素至少 n 次。</li><li><code>{n,m}</code>: 匹配前一个元素至少 n 次但不超过 m 次。</li></ul></li><li><p><strong>字符类</strong>：</p><ul><li><code>[abc]</code>: 匹配字符 “a”、”b” 或 “c” 中的一个。</li><li><code>[a-z]</code>: 匹配任意一个小写字母。</li><li><code>[A-Z]</code>: 匹配任意一个大写字母。</li></ul></li><li><p><strong>边界匹配</strong>：</p><ul><li><code>^</code>: 匹配字符串的开头。</li><li><code>$</code>: 匹配字符串的结尾。</li><li><code>\b</code>: 匹配单词边界。</li></ul></li><li><p><strong>转义字符</strong>：</p><ul><li><code>\\</code>: 转义字符，用于匹配特殊字符本身（如 <code>\.</code> 匹配 “.”）。</li></ul></li><li><p><strong>分组和捕获</strong>：</p><ul><li><code>(pattern)</code>: 创建一个捕获组，将匹配的内容提取出来。</li></ul></li><li><p><strong>反义</strong>：</p><ul><li><code>[^abc]</code>: 匹配除 “a”、”b” 和 “c” 之外的任意一个字符。</li></ul></li></ol><p>正则表达式的语法和用法非常丰富，以上只是一些基本示例。在使用正则表达式时，可以结合具体的需求来构建适合的模式。在 Python 中，可以使用 <code>re</code> 模块的函数如 <code>re.match()</code>、<code>re.search()</code>、<code>re.findall()</code>、<code>re.sub()</code> 等来执行相应的匹配和操作。</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## re 使用</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找匹配的字符串</span></span><br><span class="line">text = <span class="string">"Hello, my email is example@example.com"</span></span><br><span class="line">pattern = <span class="string">r"\w+@\w+\.\w+"</span>  <span class="comment"># 正则表达式模式</span></span><br><span class="line">matches = re.findall(pattern, text)</span><br><span class="line"><span class="built_in">print</span>(matches)  <span class="comment"># 输出: ['example@example.com']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 替换字符串中的文本</span></span><br><span class="line">text = <span class="string">"Hello, my name is John. Hello, my name is Alice."</span></span><br><span class="line">pattern = <span class="string">r"Hello"</span>  <span class="comment"># 要替换的模式</span></span><br><span class="line">replacement = <span class="string">"Hi"</span>  <span class="comment"># 替换后的文本</span></span><br><span class="line">new_text = re.sub(pattern, replacement, text)</span><br><span class="line"><span class="built_in">print</span>(new_text)  <span class="comment"># 输出: "Hi, my name is John. Hi, my name is Alice."</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 分割字符串</span></span><br><span class="line">text = <span class="string">"apple,banana,grape,orange"</span></span><br><span class="line">pattern = <span class="string">r","</span>  <span class="comment"># 以逗号分割</span></span><br><span class="line">items = re.split(pattern, text)</span><br><span class="line"><span class="built_in">print</span>(items)  <span class="comment"># 输出: ['apple', 'banana', 'grape', 'orange']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配文本开头</span></span><br><span class="line">text = <span class="string">"Hello, world!"</span></span><br><span class="line">pattern = <span class="string">r"^Hello"</span>  <span class="comment"># 以 "Hello" 开头</span></span><br><span class="line"><span class="keyword">if</span> re.<span class="keyword">match</span>(pattern, text):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Match found!"</span>)  <span class="comment"># 输出: "Match found!"</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 查找多个匹配项</span></span><br><span class="line">text = <span class="string">"apple banana apple apple orange"</span></span><br><span class="line">pattern = <span class="string">r"apple"</span>  <span class="comment"># 要查找的模式</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">match</span> <span class="keyword">in</span> re.finditer(pattern, text):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Match found at:"</span>, <span class="keyword">match</span>.start())  <span class="comment"># 输出: "Match found at: 0", "Match found at: 12", "Match found at: 18"</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> computer </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dasQt-使用说明</title>
      <link href="/2023/08/10/2023-08-10-dasqt-shi-yong-shuo-ming/"/>
      <url>/2023/08/10/2023-08-10-dasqt-shi-yong-shuo-ming/</url>
      
        <content type="html"><![CDATA[<h1 id="数据处理及可视化-DAS-数据处理及可视化软件-使用说明"><a href="#数据处理及可视化-DAS-数据处理及可视化软件-使用说明" class="headerlink" title="数据处理及可视化-        DAS 数据处理及可视化软件   -    使用说明"></a>数据处理及可视化-        DAS 数据处理及可视化软件   -    使用说明</h1><table><thead><tr><th>版本</th><th>1.0</th></tr></thead><tbody><tr><td>文档状态:</td><td>编辑</td></tr><tr><td>作者:</td><td>张志宇</td></tr><tr><td>负责人:</td><td>张志宇</td></tr><tr><td>建日期:</td><td>2023年8月01日</td></tr><tr><td>更新日期:</td><td>2023年8月10日</td></tr></tbody></table><p>修订历史</p><table><thead><tr><th><strong>日期</strong></th><th><strong>版本</strong></th><th><strong>修改者</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>2023-8-01</td><td>0.8</td><td>张志宇</td><td>完善了产品简介</td></tr><tr><td>2023-8-10</td><td>1.0</td><td>张志宇</td><td>完善了使用说明</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><p>目录</p><h1 id="1-简介"><a href="#1-简介" class="headerlink" title="1  简介"></a>1  简介</h1><p>分布式光纤声波传感（Distributed Fiber Optic Acoustic Sensing）是一种先进的技术，利用光纤作为传感元件来实现对声波信号的实时监测和定位。它通过利用光纤的敏感性，以及光信号与声波相互作用的原理，实现对声波事件的分布式监测和分析。</p><p>这项技术的核心是光纤的布里渊散射效应。当声波在光纤附近传播时，它会导致光纤中的光子发生布里渊散射，这会导致光信号的频率发生变化。通过分析这种频率变化，可以确定声波的产生、传播方向、幅度等信息。</p><p>分布式光纤声波传感的工作原理如下：</p><ol><li><strong>激光光源：</strong> 一个激光器通过光纤发送激光信号，作为传感的基础。</li><li><strong>光纤传感区域：</strong> 光纤被布置在需要监测的区域，声波在这个区域内产生并传播。</li><li><strong>声波与光相互作用：</strong> 声波的存在导致光纤中的光子发生布里渊散射，这会引起光信号的频率偏移。</li><li><strong>频率分析：</strong> 通过对返回的光信号进行频率分析，可以确定声波的性质，如频率、强度和传播方向。</li><li><strong>数据处理与可视化：</strong> 收集到的数据可以通过算法进行处理，以生成声波事件的分布图、频谱图等可视化结果。</li></ol><p>这种技术在许多领域都有应用，包括但不限于：</p><p>·    <strong>地震监测：</strong> 可以用于监测地壳的地震活动，提供早期警报和地震事件分析。</p><p>·    <strong>管道泄漏检测：</strong> 可以检测沿着光纤布置的管道上的泄漏事件，有助于保护环境和资源。</p><p>·    <strong>智能交通系统：</strong> 可以用于交通流量监测、车辆定位等，改善交通管理。</p><p>·    <strong>结构健康监测：</strong> 可以监测建筑物、桥梁等基础设施的结构变化，提前发现可能的问题。</p><p>·    <strong>军事和安全应用：</strong> 可以用于监测敌方活动、侦测爆炸声等。</p><h2 id="1-1-编写目的"><a href="#1-1-编写目的" class="headerlink" title="1.1  编写目的"></a>1.1  编写目的</h2><p>本文档为使用说明文档，为产品的使用与维护提供信息基础。</p><h2 id="1-2-使用对象"><a href="#1-2-使用对象" class="headerlink" title="1.2  使用对象"></a>1.2  使用对象</h2><p>本文档的使用对象主要为产品测试与使用人员。</p><h2 id="1-3-产品范围"><a href="#1-3-产品范围" class="headerlink" title="1.3  产品范围"></a>1.3  产品范围</h2><p>本软件通过精密的数据处理和分析，提供了一系列强大的功能，包括：</p><ol><li><strong>数据管理与处理：</strong> DAS 数据处理及可视化软件能够高效管理和处理来自DAS采集的大量数据，确保数据的准确性和完整性。</li><li><strong>数据可视化：</strong> 软件提供直观的数据可视化工具，将复杂的探测数据转化为易于理解的图像和图表，助力用户更深入地探索地下信息。</li><li><strong>数据挑选：</strong>为了更好地聚焦分析，DAS 数据处理及可视化软件提供数据挑选功能，使用户能够选择感兴趣的数据子集进行进一步的处理和研究。通过设定特定的参数和条件，用户可以从大量数据中筛选出与其研究目标相关的数据，从而提高效率并准确地针对性地分析。</li></ol><h1 id="2-使用说明"><a href="#2-使用说明" class="headerlink" title="2  使用说明"></a>2  使用说明</h1><h2 id="2-1-安装"><a href="#2-1-安装" class="headerlink" title="2.1   安装"></a>2.1   安装</h2><ol><li>安装依赖库</li></ol><p>使用 <strong>pip install -r requirements.txt</strong></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image002.jpg" alt="img"></p><ol start="2"><li>安装dasQt</li></ol><p>使用 <strong>pip install -e .</strong></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image004.jpg" alt="img"></p><h2 id="2-2-启动dasQt"><a href="#2-2-启动dasQt" class="headerlink" title="2.2   启动dasQt"></a>2.2   启动dasQt</h2><p>在命令行中输入 dasQt 即可启动程序</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image006.jpg" alt="img"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image008.jpg" alt="图形用户界面, 文本, 应用程序  描述已自动生成"></p><h2 id="2-3-数据导入"><a href="#2-3-数据导入" class="headerlink" title="2.3   数据导入"></a>2.3   数据导入</h2><p>鼠标悬停在<strong>导入数据</strong>按钮上可查看可导入数据类型</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-252023-11-25clip_image010.jpg" alt="图形用户界面, 文本, 应用程序  描述已自动生成"></p><p>点击示例数据，打开</p><p>![img](Users/zhiyuzhang/Library/Group Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image012.jpg)</p><h2 id="2-4-数据可视化"><a href="#2-4-数据可视化" class="headerlink" title="2.4   数据可视化"></a>2.4   数据可视化</h2><h3 id="2-4-1-能量图"><a href="#2-4-1-能量图" class="headerlink" title="2.4.1   能量图"></a>2.4.1   能量图</h3><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image014.jpg" alt="img"></p><h3 id="2-4-2-震动记录"><a href="#2-4-2-震动记录" class="headerlink" title="2.4.2   震动记录"></a>2.4.2   震动记录</h3><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image016.jpg" alt="img"></p><h3 id="2-4-3-开始动图"><a href="#2-4-3-开始动图" class="headerlink" title="2.4.3   开始动图"></a>2.4.3   开始动图</h3><p>点击 start Animation 按钮，数据开始以动图形式呈现。</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image018.jpg" alt="img"></p><h3 id="2-4-4-调节动图速度"><a href="#2-4-4-调节动图速度" class="headerlink" title="2.4.4   调节动图速度"></a>2.4.4   调节动图速度</h3><p>拉动Speed 滑块</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image020.jpg" alt="img"></p><h3 id="2-4-5-调节图片颜色尺度"><a href="#2-4-5-调节图片颜色尺度" class="headerlink" title="2.4.5   调节图片颜色尺度"></a>2.4.5   调节图片颜色尺度</h3><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image022.jpg" alt="img"></p><h3 id="2-4-6-调节图片时间"><a href="#2-4-6-调节图片时间" class="headerlink" title="2.4.6   调节图片时间"></a>2.4.6   调节图片时间</h3><p>点击Prev time，表示前一个时刻；点击Next time，表示后一个时刻。</p><h3 id="2-4-7-局部放大"><a href="#2-4-7-局部放大" class="headerlink" title="2.4.7   局部放大"></a>2.4.7   局部放大</h3><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image024.jpg" alt="img"></p><h2 id="2-5-数据处理"><a href="#2-5-数据处理" class="headerlink" title="2.5   数据处理"></a>2.5   数据处理</h2><h3 id="2-5-1-滤波"><a href="#2-5-1-滤波" class="headerlink" title="2.5.1   滤波"></a>2.5.1   滤波</h3><p>进行2～30Hz带通滤波，可以明显看出差异。</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image026.jpg" alt="img"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image028.jpg" alt="img"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image030.jpg" alt="img"></p><h3 id="2-5-2-坏道切除"><a href="#2-5-2-坏道切除" class="headerlink" title="2.5.2   坏道切除"></a>2.5.2   坏道切除</h3><p>。</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image032.jpg" alt="img"></p><h2 id="2-6-Pick-Points"><a href="#2-6-Pick-Points" class="headerlink" title="2.6   Pick Points"></a>2.6   Pick Points</h2><p>拾取DAS数据中的车辆信号。</p><h3 id="2-6-1-打开Pick-Points模块"><a href="#2-6-1-打开Pick-Points模块" class="headerlink" title="2.6.1   打开Pick Points模块"></a>2.6.1   打开Pick Points模块</h3><p>点击Pick Points</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image034.jpg" alt="img"></p><h3 id="2-6-2-导入数据集"><a href="#2-6-2-导入数据集" class="headerlink" title="2.6.2   导入数据集"></a>2.6.2   导入数据集</h3><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image036.jpg" alt="img"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image038.jpg" alt="img"></p><h3 id="2-6-3-数据可视化"><a href="#2-6-3-数据可视化" class="headerlink" title="2.6.3   数据可视化"></a>2.6.3   数据可视化</h3><p>点击数据名称</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image040.jpg" alt="img"></p><h3 id="2-6-4-调节图片颜色尺度"><a href="#2-6-4-调节图片颜色尺度" class="headerlink" title="2.6.4   调节图片颜色尺度"></a>2.6.4   调节图片颜色尺度</h3><p>拉动滑块，调节颜色范围。</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image042.jpg" alt="img"></p><h3 id="2-6-5-绘点"><a href="#2-6-5-绘点" class="headerlink" title="2.6.5   绘点"></a>2.6.5   绘点</h3><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image044.jpg" alt="img"></p><h3 id="2-6-6-下一个数据"><a href="#2-6-6-下一个数据" class="headerlink" title="2.6.6   下一个数据"></a>2.6.6   下一个数据</h3><p>点击Next</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/2023-11-25clip_image046.jpg" alt="img"></p>]]></content>
      
      
      
        <tags>
            
            <tag> install </tag>
            
            <tag> computer </tag>
            
            <tag> myself </tag>
            
            <tag> DAS </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UseNas</title>
      <link href="/2023/07/25/2023-07-25-usenas/"/>
      <url>/2023/07/25/2023-07-25-usenas/</url>
      
        <content type="html"><![CDATA[<h1 id="use-nas"><a href="#use-nas" class="headerlink" title="use_nas"></a>use_nas</h1><p><img src="https://github.com/github/docs/actions/workflows/main.yml/badge.svg" alt="my workflow"><br><img src="https://img.shields.io/github/size/erbiaoger/code/use_nas.md?color=green&amp;label=use_nas%20file%20size" alt="GitHub file size in bytes"></p><h1 id="Table-of-contents"><a href="#Table-of-contents" class="headerlink" title="Table of contents"></a>Table of contents</h1><ul><li><a href="#use_nas">use_nas</a></li><li><a href="#table-of-contents">Table of contents</a><ul><li><a href="#%E8%AF%B4%E6%98%8E">说明</a></li><li><a href="#%E4%BD%BF%E7%94%A8">使用</a><ul><li><a href="#windows">windows</a></li><li><a href="#linux-ubuntu">linux (ubuntu)</a></li><li><a href="#mac">Mac</a></li></ul></li><li><a href="#%E8%87%AA%E5%8A%A8%E5%90%8C%E6%AD%A5%E5%8A%9F%E8%83%BD">自动同步功能</a><ul><li><a href="#windows-1">windows</a></li><li><a href="#ubuntu">ubuntu</a></li><li><a href="#mac-1">Mac</a></li></ul></li><li><a href="#%E5%A4%96%E7%BD%91%E8%AE%BF%E9%97%AE">外网访问</a><ul><li><a href="#%E7%BD%91%E9%A1%B5%E7%AB%AF">网页端</a></li><li><a href="#%E7%94%B5%E8%84%91%E5%AE%A2%E6%88%B7%E7%AB%AF">电脑客户端</a></li><li><a href="#%E6%89%8B%E6%9C%BA">手机</a></li></ul></li><li><a href="#%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84">文件结构</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E7%BB%88%E7%AB%AF-ssh-%E7%99%BB%E9%99%86">使用终端 ssh 登陆</a></li><li><a href="#synology-photos">Synology Photos</a></li></ul></li></ul><!-- Created by https://github.com/ekalinin/github-markdown-toc --><!-- Added by: zhangzhiyu, at: 2022年11月24日 星期四 22时23分15秒 CST --><p>Data: 2022年11月9日下午7:39:38</p><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>现实验室购入一台NAS，用于数据存储和备份。大家可找我创建账户和密码（建议这样）或如果嫌麻烦可使用公共账户来登陆。希望大家可以共享自己的程序和数据，还有组会的PPT，各种材料等。（注：程序和数据写好Readme文件）</p><p><del>公共账户：CSIM_LAB 密码：Csim523245</del></p><!-- Added by: zhangzhiyu, at: 2023.3.24 --><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><ul><li><p>首先需要连接网络：inter1209 或 inter1209_5G</p></li><li><p>在文件夹中输入 <code>\\192.168.3.26</code></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092019100.png" alt="1"></p></li><li><p>输入账户和密码</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092021022.png"></p></li><li><p>进入NAS文件夹</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092022010.png"></p></li><li><p>可以将<code>csim_lab</code>设为快速访问，便于进入该文件夹</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092023199.png"></p></li><li><p>在<code>csim_lab</code>下创建自己的文件夹</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092024072.png"></p></li><li><p>现在就可以自由上传和备份文件了！！！</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092025268.png"></p></li></ul><h3 id="linux-ubuntu"><a href="#linux-ubuntu" class="headerlink" title="linux (ubuntu)"></a>linux (ubuntu)</h3><ul><li><p>首先需要连接网络：inter1209 或 inter1209_5G</p></li><li><p>打开文件夹，找到其他位置，并点击<code>DS920(文件共享)</code></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092038610.png"></p></li><li><p>输入用户名和密码，点击连接</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092048190.png" alt="截图 2022-11-09 20-41-18"></p></li><li><p>进入NAS文件夹</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092048077.png" alt="截图 2022-11-09 20-42-33"></p></li><li><p>可拖动文件进入文件夹</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092048590.png" alt="截图 2022-11-09 20-45-59"></p></li><li><p>在终端中打开</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092055009.png" alt="截图 2022-11-09 20-54-56"></p></li></ul><h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h3><ul><li><p>首先需要连接网络：inter1209 或 inter1209_5G</p></li><li><p>打开文件夹，找到位置，并点击<code>DS920</code></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092059756.png" alt="image-20221109下午85939724"></p></li><li><p>点击连接身份</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092100236.png" alt="image-20221109下午90054209"></p></li><li><p>进入NAS目录</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092101866.png" alt="image-20221109下午90113838"></p></li><li><p>进入自己文件夹</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092103892.png" alt="image-20221109下午90359857"></p></li><li><p>终端如下</p></li></ul><p> <img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211092105673.png" alt="image-20221109下午90540647"></p><p>Data: 2022年11月10日上午7:54:16</p><h2 id="自动同步功能"><a href="#自动同步功能" class="headerlink" title="自动同步功能"></a>自动同步功能</h2><ul><li><p>mac, ubuntu, windows 都需下载<code>Synology Drive Client</code> 网址：<code>https://www.synology.cn/zh-cn/support/download/DS920+?version=7.1#utilities</code></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100755159.png"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100757227.png"></p></li></ul><h3 id="windows-1"><a href="#windows-1" class="headerlink" title="windows"></a>windows</h3><ul><li>可仿照<code>ubuntu</code>和<code>Mac</code></li></ul><p>要是有人上传操作步骤, 就更好了</p><h3 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h3><ul><li><p>安装<code>Synology Drive Client</code></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100813172.png"></p></li><li><p>打开</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100821430.png" alt="截图 2022-11-10 08-16-13"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100822172.png" alt="截图 2022-11-10 08-16-54"></p></li><li><p>登陆 Synology NAS 处还可填 <code>192.168.3.26</code> 域名应该</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100822657.png" alt="截图 2022-11-10 08-17-32"></p></li><li><p>选择同步或备份任务</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100822788.png" alt="截图 2022-11-10 08-17-41"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100823618.png" alt="截图 2022-11-10 08-17-59"></p></li><li><p>设置同步文件夹，NAS端和PC端</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100823793.png" alt="截图 2022-11-10 08-19-02"></p></li><li><p>选择备份模式</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100823819.png" alt="截图 2022-11-10 08-19-11"></p></li><li><p>搞定</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100823807.png" alt="截图 2022-11-10 08-19-31"></p></li></ul><h3 id="Mac-1"><a href="#Mac-1" class="headerlink" title="Mac"></a>Mac</h3><ul><li><p>双击运行</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100759898.png"></p></li><li><p>一路下一步</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100802543.png"></p></li><li><p>点击<code>同步任务</code>或<code>备份任务</code>, 点击创建 (由于我已经登陆过，步骤可能稍有不同)</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100807306.png"></p></li><li><p>设置同步文件夹，NAS端和PC端</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100810352.png"></p></li></ul><h2 id="外网访问"><a href="#外网访问" class="headerlink" title="外网访问"></a>外网访问</h2><h3 id="网页端"><a href="#网页端" class="headerlink" title="网页端"></a>网页端</h3><p>在网页浏览器上，输入以下链接：</p><pre><code>http://QuickConnect.cn/CSIM-LAB</code></pre><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/image/202211242147906.png"></p><h3 id="电脑客户端"><a href="#电脑客户端" class="headerlink" title="电脑客户端"></a>电脑客户端</h3><ul><li><p>mac, ubuntu, windows 都需下载<code>Synology Drive Client</code> 网址：<code>https://www.synology.cn/zh-cn/support/download/DS920+?version=7.1#utilities</code></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100755159.png"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/nas/img202211100757227.png"></p></li><li><p>登陆 (注：<code>Synology NAS</code> 处需填 <code>CSIM-LAB</code>， 其余与自动备份功能一样)</p></li></ul><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211242125062.png"></p><ul><li>备份完成后可点击下图小球</li></ul><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211242149310.png"></p><ul><li><p>可跳转到如下界面</p><p>![image-20221124215038593](/Users/zhangzhiyu/Library/Application Support/typora-user-images/image-20221124215038593.png)</p></li></ul><h3 id="手机"><a href="#手机" class="headerlink" title="手机"></a>手机</h3><p>![Screenshot_20221124-215244_Google Play Store](/Users/zhangzhiyu/Downloads/Screenshot_20221124-215244_Google Play Store.jpg)</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211242157720.jpg"></p><ul><li>登陆与其他类似，使用 <code>CSIM-LAB</code> 域名登陆</li></ul><h2 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211242221923.png"></p><h2 id="使用终端-ssh-登陆"><a href="#使用终端-ssh-登陆" class="headerlink" title="使用终端 ssh 登陆"></a>使用终端 ssh 登陆</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230608202306150903002.png" alt="image-20230615090331932"></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh Nas</span><br><span class="line">cd /volume1/ZhangZhiyu</span><br></pre></td></tr></tbody></table></figure><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230608202306150857368.png"></p><h2 id="Synology-Photos"><a href="#Synology-Photos" class="headerlink" title="Synology Photos"></a>Synology Photos</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230608202307121539668.png" alt="截屏2023-07-12 15.39.50"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Nas </tag>
            
            <tag> Data </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MDN</title>
      <link href="/2023/07/16/2023-07-16-mdn/"/>
      <url>/2023/07/16/2023-07-16-mdn/</url>
      
        <content type="html"><![CDATA[<p>Mixture Density Networks (MDNs) 是一种神经网络架构，用于建模多峰分布的概率密度函数。MDNs 结合了神经网络和高斯混合模型 (Gaussian Mixture Model, GMM)，在回归和密度估计任务中表现出强大的建模能力。</p><p>MDNs 的目标是通过输入数据预测条件概率分布的参数，从而能够对输出数据的概率密度进行建模。相比于传统的回归方法，MDNs 能够更灵活地适应多峰分布的情况，因为它使用了高斯混合模型来表示概率密度函数。</p><p>MDNs 的网络结构通常包括一个输入层、若干隐藏层和一个输出层。输出层是 MDNs 的关键部分，它产生用于描述条件概率分布的参数，例如均值、方差和混合系数。通过训练网络来最小化预测值与目标值之间的损失函数，可以通过反向传播算法优化 MDNs。</p><p>MDNs 在许多领域中都被广泛应用，特别是在生成模型、序列建模、机器人学习和自然语言处理等任务中。通过利用 MDNs 的能力，可以对复杂的、多模态的数据分布进行建模，并从中提取有关数据的丰富信息。</p><p>总结来说，Mixture Density Networks (MDNs) 是一种利用神经网络和高斯混合模型的结合，用于建模多峰分布的概率密度函数的方法。它具有灵活的建模能力，并在许多领域中发挥着重要作用。</p><p>贝叶斯后验概率分布（Posterior Probability Distribution）是在贝叶斯统计推断中的一个重要概念。它是在给定观测数据的条件下，对未知参数进行推断的概率分布。</p><p>在贝叶斯推断中，我们通常有一个待估计的参数（或一组参数），以及观测到的数据。贝叶斯方法通过将先验概率分布与观测数据的似然函数结合起来，计算参数的后验概率分布。</p><p>贝叶斯定理提供了计算后验概率分布的方式，它表示为：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P(θ|D) = (P(D|θ) * P(θ)) / P(D)</span><br></pre></td></tr></tbody></table></figure><p>其中，<code>P(θ|D)</code> 是参数 <code>θ</code> 在给定数据 <code>D</code> 的条件下的后验概率分布，<code>P(D|θ)</code> 是数据 <code>D</code> 在给定参数 <code>θ</code> 下的似然函数，<code>P(θ)</code> 是参数的先验概率分布，<code>P(D)</code> 是数据的边际概率。后验概率分布反映了在观测到特定数据后，对参数值的概率分布的更新。</p><p>通过计算后验概率分布，我们可以得到对未知参数的概率估计，并进一步进行推断和决策。后验概率分布提供了对参数的不确定性的量化，它能够反映参数值的可能范围和相对可能性。</p><p>贝叶斯后验概率分布在贝叶斯统计中是一个核心概念，它允许我们以概率的形式进行参数估计和推断，考虑了先验信息和观测数据的关联。</p><p>高斯核的混合（Gaussian Mixture）是一种常用的概率密度模型，用于建模复杂的多峰分布。它由多个高斯分布（也称为高斯成分）的线性组合构成。</p><p>在高斯核的混合模型中，每个高斯成分都由均值向量、协方差矩阵和权重参数表示。每个高斯成分对应于模型中的一个峰值，权重参数表示了每个成分对整体分布的贡献程度。</p><p>高斯核的混合模型的概率密度函数可以表示为：</p><p>$$p(x) = Σ_{i=1}^{K} w_i * N(x | μ_i, Σ_i)$$</p><p>其中，<code>x</code> 是待建模的数据点，<code>K</code> 是高斯成分的数量，<code>w_i</code> 是第 <code>i</code> 个高斯成分的权重，<code>N(x | μ_i, Σ_i)</code> 是第 <code>i</code> 个高斯成分的概率密度函数，由均值向量 <code>μ_i</code> 和协方差矩阵 <code>Σ_i</code> 确定。</p><p>模型参数包括每个高斯成分的均值、协方差和权重，以及高斯成分的数量。这些参数可以通过最大似然估计（Maximum Likelihood Estimation, MLE）或期望最大化算法（Expectation-Maximization Algorithm, EM）等方法进行估计。</p><p>高斯核的混合模型在很多领域中都有广泛应用，例如聚类、异常检测、密度估计等。通过使用多个高斯成分，它能够灵活地建模各种复杂的数据分布，捕捉到不同峰值和模式的变化。</p>]]></content>
      
      
      
        <tags>
            
            <tag> DeepLearning </tag>
            
            <tag> Bayase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HVSR 及反演</title>
      <link href="/2023/06/14/2023-06-14-hvsr-ji-fan-yan/"/>
      <url>/2023/06/14/2023-06-14-hvsr-ji-fan-yan/</url>
      
        <content type="html"><![CDATA[<p>尽管瑞利波椭圆度数据的主要特征是2.4 Hz处的显著波谷，但在1.5至8 Hz范围内的恒定椭圆值和缺乏其他峰值和/或波谷也约束着模型。 比如用<code>1.5~3Hz</code>,<code>1.5~4Hz</code>的有限频带进行了额外的反演测试。得到的速度剖面类似于使用全带宽的剖面，但总体不确定性增加，特别是在浅部（&lt;20米深度）</p><h2 id="InSight-HVSR"><a href="#InSight-HVSR" class="headerlink" title="InSight HVSR"></a>InSight HVSR</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221001519.png" alt="output"></p><center> Fig1. InSight Sol S0423d VEL HVSR <p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221120717.png" alt="output"></p><center> Fig2. InSight Sol S0423d VEL 1.5Hz~8.0Hz HVSR<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251610603.png" alt="output"></p><center> Fig2. InSight 2.4Hz B HVSR<p>​</p><h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221140596.png" alt="output"></p><center> Fig3. Possive Data HVSR <h3 id="Table1"><a href="#Table1" class="headerlink" title="Table1"></a>Table1</h3><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305292206813.png" alt="image-20230529220617637"></p><hr><h2 id="Inversion"><a href="#Inversion" class="headerlink" title="Inversion"></a>Inversion</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221530366.png" alt="image-20230522153005250"></p><center> Fig4. Possive Data HVSR Inversion<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221202463.png" alt="截屏2023-05-22 12.01.56"></p><center> Fig4. Possive Data HVSR Inversion<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221537757.png" alt="image-20230522153701679"></p><table><thead><tr><th align="center">层号</th><th align="center">层厚 [m]</th><th align="center">S波速 [m/s]</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">100</td><td align="center">200</td></tr><tr><td align="center">2</td><td align="center">650</td><td align="center">600</td></tr></tbody></table><figure class="highlight matlab"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">vp = <span class="built_in">zeros</span>(<span class="number">150</span>, <span class="number">300</span>);</span><br><span class="line">vs = <span class="built_in">zeros</span>(<span class="number">150</span>, <span class="number">300</span>);</span><br><span class="line">vp(<span class="number">1</span>:<span class="number">20</span>, :) = <span class="number">520</span>; vp(<span class="number">21</span>:<span class="number">150</span>, :) = <span class="number">640</span>;</span><br><span class="line">vs(<span class="number">1</span>:<span class="number">20</span>, :) = <span class="number">480</span>; vs(<span class="number">21</span>:<span class="number">150</span>, :) = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line">dx = <span class="number">10.</span>;</span><br><span class="line"></span><br><span class="line">dt = <span class="number">1e-3</span>;</span><br><span class="line"></span><br><span class="line">dtx=dt/dx;</span><br><span class="line"></span><br><span class="line">den=<span class="number">1.8</span>*<span class="built_in">ones</span>(nz,nx);</span><br><span class="line"></span><br><span class="line">dz=dx;</span><br></pre></td></tr></tbody></table></figure><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221543695.png" alt="image-20230522154317635"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305231731163.png" alt="image-20230523173125998"></p><hr><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305261713718.png" alt="image-20230526171337579"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305261714743.png" alt="image-20230526171426682"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305261714505.png" alt="image-20230526171446452"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305301050399.png" alt="image-20230530105026247"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305301052427.png" alt="image-20230530105244352"></p><p>Asd</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305311259131.png" alt="image-20230531125952026"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202306011404828.png" alt="image-20230601140446748"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202306011130601.png" alt="image-20230601113054419"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202306011131085.png" alt="image-20230601113136995"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202306011355423.png" alt="image-20230601135520329"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202306011402384.png" alt="image-20230601140252303"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202306011424540.png" alt="image-20230601142422473"></p><h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><h3 id="Fig1-InSight-Sol-S0423d-VEL-HVSR"><a href="#Fig1-InSight-Sol-S0423d-VEL-HVSR" class="headerlink" title="Fig1. InSight Sol S0423d VEL HVSR"></a>Fig1. InSight Sol S0423d VEL HVSR</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> hvsrpy</span><br><span class="line"><span class="keyword">from</span> hvsrpy <span class="keyword">import</span> utils</span><br><span class="line"></span><br><span class="line">file_name = <span class="string">'../InSight-seismic-data-downloader/DATA/2.4_HZ/C/S0423d/S0423d_VEL.mseed'</span></span><br><span class="line"></span><br><span class="line">windowlength = <span class="number">60</span></span><br><span class="line"></span><br><span class="line">filter_bool = <span class="literal">False</span>       </span><br><span class="line">filter_flow = <span class="number">0.1</span>                   </span><br><span class="line">filter_fhigh = <span class="number">10</span>                  </span><br><span class="line">filter_order = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Width of cosine taper {0. - 1.}. Geopsy default of 0.05 is equal to 0.1 -&gt; 0.1 is recommended</span></span><br><span class="line">width = <span class="number">0.1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Konno and Ohmachi smoothing constant. 40 is recommended.</span></span><br><span class="line">bandwidth = <span class="number">40</span></span><br><span class="line"><span class="comment"># Minimum frequency after resampling</span></span><br><span class="line">resample_fmin = <span class="number">0.1</span></span><br><span class="line"><span class="comment"># Maximum frequency after resampling</span></span><br><span class="line">resample_fmax = <span class="number">10</span></span><br><span class="line"><span class="comment"># Number of frequencies after resampling 重采样后的频率点数</span></span><br><span class="line">resample_fnum = <span class="number">1000</span></span><br><span class="line"><span class="comment"># Type of resampling {'log', 'linear'}</span></span><br><span class="line">resample_type = <span class="string">'linear'</span></span><br><span class="line"><span class="comment"># Upper and lower frequency limits to restrict peak selection. To use the entire range use `None`.</span></span><br><span class="line">peak_f_lower = <span class="literal">None</span></span><br><span class="line">peak_f_upper = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Method for combining horizontal components {"squared-average", "geometric-mean", "single-azimuth"}.</span></span><br><span class="line"><span class="comment"># Geopsy's default is "squared-average" -&gt; "geometric-mean" is recommended.</span></span><br><span class="line">method = <span class="string">"geometric-mean"</span></span><br><span class="line"><span class="comment"># If method="single-azimuth", set azimuth in degree clock-wise from north. If method!="single-azimuth", value is ignored.</span></span><br><span class="line">azimuth = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Boolean to control whether frequency domain rejection proposed by Cox et al. (2020) is applied.</span></span><br><span class="line"><span class="comment"># Geopsy does not offer this functionality.</span></span><br><span class="line">rejection_bool = <span class="literal">True</span></span><br><span class="line"><span class="comment"># Number of standard deviations to consider during rejection. Smaller values will reject more windows -&gt; 2 is recommended.</span></span><br><span class="line">n = <span class="number">2</span></span><br><span class="line"><span class="comment"># Maximum number of iterations to perform for rejection -&gt; 50 is recommended.</span></span><br><span class="line">max_iterations = <span class="number">50</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Distribution of f0 {"lognormal", "normal"}. Geopsy default "normal" -&gt; "lognormal" is recommended.</span></span><br><span class="line">distribution_f0 = <span class="string">"lognormal"</span></span><br><span class="line"><span class="comment"># Distribution of mean curve {"lognormal", "normal"}. Geopsy default "lognormal" -&gt; "lognormal" is recommended.</span></span><br><span class="line">distribution_mc = <span class="string">"lognormal"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Manually set the ylimits of the HVSR figures. Default is None so limits will be set automatically.</span></span><br><span class="line">ymin, ymax = <span class="number">0</span>, <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">8</span>, <span class="number">4</span>), dpi=<span class="number">150</span>)</span><br><span class="line">ax = fig.add_subplot(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line">sensor = hvsrpy.Sensor3c.from_mseed(file_name)</span><br><span class="line">bp_filter = {<span class="string">"flag"</span>:filter_bool, <span class="string">"flow"</span>:filter_flow, <span class="string">"fhigh"</span>:filter_fhigh, <span class="string">"order"</span>:filter_order}</span><br><span class="line">resampling = {<span class="string">"minf"</span>:resample_fmin, <span class="string">"maxf"</span>:resample_fmax, <span class="string">"nf"</span>:resample_fnum, <span class="string">"res_type"</span>:resample_type}</span><br><span class="line">hv = sensor.hv(windowlength, bp_filter, width, bandwidth, resampling, method, f_low=peak_f_lower, f_high=peak_f_upper, azimuth=azimuth)</span><br><span class="line">end = time.time()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"Elapsed Time: <span class="subst">{<span class="built_in">str</span>(end-start)[<span class="number">0</span>:<span class="number">4</span>]}</span> seconds"</span>)</span><br><span class="line"></span><br><span class="line">individual_width = <span class="number">0.3</span></span><br><span class="line">median_width = <span class="number">1.3</span></span><br><span class="line">title=<span class="string">"Before Rejection"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mean Curve </span></span><br><span class="line">ax.plot(hv.frq, hv.mean_curve(distribution_mc), color=<span class="string">'k'</span>, linewidth=median_width)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mean +/- Curve</span></span><br><span class="line">ax.plot(hv.frq, hv.nstd_curve(-<span class="number">1</span>, distribution_mc),</span><br><span class="line">        color=<span class="string">'r'</span>, linestyle=<span class="string">'--'</span>, linewidth=median_width, zorder=<span class="number">3</span>)</span><br><span class="line">ax.plot(hv.frq, hv.nstd_curve(+<span class="number">1</span>, distribution_mc),</span><br><span class="line">        color=<span class="string">'g'</span>, linestyle=<span class="string">'--'</span>, linewidth=median_width, zorder=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ax.set_xlim(1.5, 8)</span></span><br><span class="line">ax.set_xscale(<span class="string">'log'</span>)</span><br><span class="line">ax.set_yscale(<span class="string">'log'</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">"Frequency (Hz)"</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">"HVSR Amplitude"</span>)</span><br></pre></td></tr></tbody></table></figure><h3 id="Fig2-InSight-Sol-S0423d-VEL-1-5Hz-8-0Hz-HVSR"><a href="#Fig2-InSight-Sol-S0423d-VEL-1-5Hz-8-0Hz-HVSR" class="headerlink" title="Fig2. InSight Sol S0423d VEL 1.5Hz~8.0Hz HVSR"></a>Fig2. InSight Sol S0423d VEL 1.5Hz~8.0Hz HVSR</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mean Curve </span></span><br><span class="line">ax.plot(hv.frq, hv.mean_curve(distribution_mc), color=<span class="string">'k'</span>, linewidth=median_width)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mean +/- Curve</span></span><br><span class="line">ax.plot(hv.frq, hv.nstd_curve(-<span class="number">1</span>, distribution_mc),</span><br><span class="line">        color=<span class="string">'r'</span>, linestyle=<span class="string">'--'</span>, linewidth=median_width, zorder=<span class="number">3</span>)</span><br><span class="line">ax.plot(hv.frq, hv.nstd_curve(+<span class="number">1</span>, distribution_mc),</span><br><span class="line">        color=<span class="string">'g'</span>, linestyle=<span class="string">'--'</span>, linewidth=median_width, zorder=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ax.set_xlim(<span class="number">1.5</span>, <span class="number">8</span>)</span><br><span class="line">ax.set_xscale(<span class="string">'log'</span>)</span><br><span class="line">ax.set_yscale(<span class="string">'log'</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">"Frequency (Hz)"</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">"HVSR Amplitude"</span>)</span><br></pre></td></tr></tbody></table></figure><h3 id="Fig3-Possive-Data-HVSR"><a href="#Fig3-Possive-Data-HVSR" class="headerlink" title="Fig3. Possive Data HVSR"></a>Fig3. Possive Data HVSR</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> hvsrpy</span><br><span class="line"><span class="keyword">from</span> hvsrpy <span class="keyword">import</span> utils</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## read syn data from .txt</span></span><br><span class="line"></span><br><span class="line">data_h = np.loadtxt(<span class="string">'x.txt'</span>)</span><br><span class="line">data_v = np.loadtxt(<span class="string">'z.txt'</span>)</span><br><span class="line">dt = <span class="number">1.e-3</span></span><br><span class="line">sampling_rate = <span class="number">1</span>/dt</span><br><span class="line"></span><br><span class="line">traceX = obspy.Trace(data=np.array(data_h[:]), header={<span class="string">'network'</span>: <span class="string">'a'</span>, <span class="string">'station'</span>: <span class="string">'a'</span>, <span class="string">'location'</span>: <span class="string">'a'</span>, <span class="string">'channel'</span>: <span class="string">'BHE'</span>, <span class="string">'sampling_rate'</span>: sampling_rate})</span><br><span class="line">traceY = obspy.Trace(data=np.array(data_h[:]), header={<span class="string">'network'</span>: <span class="string">'a'</span>, <span class="string">'station'</span>: <span class="string">'a'</span>, <span class="string">'location'</span>: <span class="string">'a'</span>, <span class="string">'channel'</span>: <span class="string">'BHN'</span>, <span class="string">'sampling_rate'</span>: sampling_rate})</span><br><span class="line">traceZ = obspy.Trace(data=np.array(data_v[:]), header={<span class="string">'network'</span>: <span class="string">'a'</span>, <span class="string">'station'</span>: <span class="string">'a'</span>, <span class="string">'location'</span>: <span class="string">'a'</span>, <span class="string">'channel'</span>: <span class="string">'BHZ'</span>, <span class="string">'sampling_rate'</span>: sampling_rate})   </span><br><span class="line"></span><br><span class="line">st = obspy.Stream([traceX, traceY, traceZ])</span><br><span class="line"></span><br><span class="line"><span class="comment">#将数据保存到文件</span></span><br><span class="line">st.write(<span class="string">'data_copy.mseed'</span>, <span class="built_in">format</span>=<span class="string">'MSEED'</span>)</span><br><span class="line"></span><br><span class="line">file_name = <span class="string">'data_copy.mseed'</span></span><br><span class="line">sensor = hvsrpy.Sensor3c.from_mseed(file_name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#file_name = '../InSight-seismic-data-downloader/DATA/2.4_HZ/C/S0423d/S0423d_VEL.mseed'</span></span><br><span class="line">file_name = <span class="string">'data_copy.mseed'</span></span><br><span class="line"></span><br><span class="line">windowlength = <span class="number">60</span></span><br><span class="line"></span><br><span class="line">filter_bool = <span class="literal">False</span>       </span><br><span class="line">filter_flow = <span class="number">0.1</span>                   </span><br><span class="line">filter_fhigh = <span class="number">10</span>                  </span><br><span class="line">filter_order = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Width of cosine taper {0. - 1.}. Geopsy default of 0.05 is equal to 0.1 -&gt; 0.1 is recommended</span></span><br><span class="line">width = <span class="number">0.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Konno and Ohmachi smoothing constant. 40 is recommended.</span></span><br><span class="line">bandwidth = <span class="number">40</span></span><br><span class="line"><span class="comment"># Minimum frequency after resampling</span></span><br><span class="line">resample_fmin = <span class="number">0.1</span></span><br><span class="line"><span class="comment"># Maximum frequency after resampling</span></span><br><span class="line">resample_fmax = <span class="number">100</span></span><br><span class="line"><span class="comment"># Number of frequencies after resampling 重采样后的频率点数</span></span><br><span class="line">resample_fnum = <span class="number">1000</span></span><br><span class="line"><span class="comment"># Type of resampling {'log', 'linear'}</span></span><br><span class="line">resample_type = <span class="string">'linear'</span></span><br><span class="line"><span class="comment"># Upper and lower frequency limits to restrict peak selection. To use the entire range use `None`.</span></span><br><span class="line">peak_f_lower = <span class="literal">None</span></span><br><span class="line">peak_f_upper = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Method for combining horizontal components {"squared-average", "geometric-mean", "single-azimuth"}.</span></span><br><span class="line"><span class="comment"># Geopsy's default is "squared-average" -&gt; "geometric-mean" is recommended.</span></span><br><span class="line">method = <span class="string">"geometric-mean"</span></span><br><span class="line"><span class="comment"># If method="single-azimuth", set azimuth in degree clock-wise from north. If method!="single-azimuth", value is ignored.</span></span><br><span class="line">azimuth = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Boolean to control whether frequency domain rejection proposed by Cox et al. (2020) is applied.</span></span><br><span class="line"><span class="comment"># Geopsy does not offer this functionality.</span></span><br><span class="line">rejection_bool = <span class="literal">True</span></span><br><span class="line"><span class="comment"># Number of standard deviations to consider during rejection. Smaller values will reject more windows -&gt; 2 is recommended.</span></span><br><span class="line">n = <span class="number">2</span></span><br><span class="line"><span class="comment"># Maximum number of iterations to perform for rejection -&gt; 50 is recommended.</span></span><br><span class="line">max_iterations = <span class="number">50</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Distribution of f0 {"lognormal", "normal"}. Geopsy default "normal" -&gt; "lognormal" is recommended.</span></span><br><span class="line">distribution_f0 = <span class="string">"lognormal"</span></span><br><span class="line"><span class="comment"># Distribution of mean curve {"lognormal", "normal"}. Geopsy default "lognormal" -&gt; "lognormal" is recommended.</span></span><br><span class="line">distribution_mc = <span class="string">"lognormal"</span></span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">8</span>, <span class="number">4</span>), dpi=<span class="number">150</span>)</span><br><span class="line">ax = fig.add_subplot(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line">sensor = hvsrpy.Sensor3c.from_mseed(file_name)</span><br><span class="line">bp_filter = {<span class="string">"flag"</span>:filter_bool, <span class="string">"flow"</span>:filter_flow, <span class="string">"fhigh"</span>:filter_fhigh, <span class="string">"order"</span>:filter_order}</span><br><span class="line">resampling = {<span class="string">"minf"</span>:resample_fmin, <span class="string">"maxf"</span>:resample_fmax, <span class="string">"nf"</span>:resample_fnum, <span class="string">"res_type"</span>:resample_type}</span><br><span class="line">hv = sensor.hv(windowlength, bp_filter, width, bandwidth, resampling, method, f_low=peak_f_lower, f_high=peak_f_upper, azimuth=azimuth)</span><br><span class="line">end = time.time()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"Elapsed Time: <span class="subst">{<span class="built_in">str</span>(end-start)[<span class="number">0</span>:<span class="number">4</span>]}</span> seconds"</span>)</span><br><span class="line"></span><br><span class="line">individual_width = <span class="number">0.3</span></span><br><span class="line">median_width = <span class="number">1.3</span></span><br><span class="line">title=<span class="string">"Before Rejection"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mean Curve </span></span><br><span class="line">ax.plot(hv.frq, hv.mean_curve(distribution_mc), color=<span class="string">'k'</span>, linewidth=median_width)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # Mean +/- Curve</span></span><br><span class="line"><span class="comment"># ax.plot(hv.frq, hv.nstd_curve(-1, distribution_mc),</span></span><br><span class="line"><span class="comment">#         color='r', linestyle='--', linewidth=median_width, zorder=3)</span></span><br><span class="line"><span class="comment"># ax.plot(hv.frq, hv.nstd_curve(+1, distribution_mc),</span></span><br><span class="line"><span class="comment">#         color='g', linestyle='--', linewidth=median_width, zorder=3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ax.set_xlim(10., 100.)</span></span><br><span class="line">ax.set_xscale(<span class="string">'log'</span>)</span><br><span class="line">ax.set_yscale(<span class="string">'log'</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">"Frequency (Hz)"</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">"HVSR Amplitude"</span>)</span><br></pre></td></tr></tbody></table></figure></center></center></center></center></center></center>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>地质年代</title>
      <link href="/2023/06/14/2023-06-14-di-zhi-nian-dai/"/>
      <url>/2023/06/14/2023-06-14-di-zhi-nian-dai/</url>
      
        <content type="html"><![CDATA[<p><a href="https://zh.wikipedia.org/wiki/%E7%81%AB%E6%98%9F%E5%9C%B0%E8%B4%A8%E5%8F%B2">火星地质年代表</a> | <a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3">地球地质年代表</a> | <a href="https://zh.wikipedia.org/wiki/%E6%9C%88%E7%90%83%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3">月球地质年代表</a></p><table><thead><tr><th align="center">时间</th><th align="center">宙／元</th><th align="center"><a href="https://zh.wikipedia.org/wiki/%E4%BB%A3_(%E5%9C%B0%E8%B4%A8%E5%AD%A6)">代</a></th><th align="center"><a href="https://zh.wikipedia.org/wiki/%E7%BA%AA_(%E5%9C%B0%E8%B4%A8%E5%AD%A6)">纪</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-faunal-stages-1">1]</a></th><th align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%96_(%E5%9C%B0%E8%B4%A8%E5%AD%A6)">世</a></th><th align="center"><a href="https://zh.wikipedia.org/wiki/%E6%9C%9F_(%E5%9C%B0%E8%B4%A8%E5%AD%A6)">期</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-uncertain-dates-2">2]</a></th><th align="center">重大事件</th><th align="center">年代，百万年前[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-uncertain-dates-2">2]</a></th></tr></thead><tbody><tr><td align="center">n/a[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-3">3]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%98%BE%E7%94%9F%E5%AE%99">显生宙</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%96%B0%E7%94%9F%E4%BB%A3">新生代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-cenozoic-division-4">4]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%AC%AC%E5%9B%9B%E7%BA%AA">第四纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%85%A8%E6%96%B0%E4%B8%96">全新世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%A0%BC%E9%99%B5%E5%85%B0%E6%9C%9F">格陵兰期</a>、<a href="https://zh.wikipedia.org/wiki/%E8%AF%BA%E6%96%AF%E6%A0%BC%E7%91%9E%E6%AF%94%E6%9C%9F">诺斯格瑞比期</a>和<a href="https://zh.wikipedia.org/wiki/%E6%A2%85%E5%8A%A0%E6%8B%89%E4%BA%9A%E6%9C%9F">梅加拉亚期</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-5">5]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%9C%AB%E6%AC%A1%E5%86%B0%E6%9C%9F">末次冰期</a>结束，人类<a href="https://zh.wikipedia.org/wiki/%E6%96%87%E6%98%8E">文明</a>兴起。<a href="https://zh.wikipedia.org/wiki/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E5%86%B0%E6%B2%B3%E6%97%B6%E6%9C%9F">第四纪冰河时期</a>退去，目前的间冰期开始。<a href="https://zh.wikipedia.org/wiki/%E6%96%B0%E4%BB%99%E5%A5%B3%E6%9C%A8%E6%9C%9F">新仙女木期</a>发生寒流，大草原构成了<a href="https://zh.wikipedia.org/wiki/%E6%92%92%E5%93%88%E6%8B%89">撒哈拉</a>，人类开始<a href="https://zh.wikipedia.org/wiki/%E5%86%9C%E4%B8%9A">农业</a>活动进而建立<a href="https://zh.wikipedia.org/wiki/%E5%9F%8E%E5%B8%82">城市</a>。<a href="https://zh.wikipedia.org/wiki/%E6%97%A7%E7%9F%B3%E5%99%A8%E6%97%B6%E4%BB%A3">旧石器时代</a>/新石器时代文化（石器时代）开始公元<a href="https://zh.wikipedia.org/wiki/%E5%89%8D1%E8%90%AC%E5%B9%B4">前1万年</a>，让位给<a href="https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%93%9C%E6%97%B6%E4%BB%A3">红铜时代</a>（公元前3500年）和<a href="https://zh.wikipedia.org/wiki/%E9%9D%92%E9%93%9C%E6%97%B6%E4%BB%A3">青铜时代</a>（公元前2500年）。经历铁器时代（公元前1200年）文化持续在复杂性和技术方面成长进步，引起世界各地许多史前文化，最终通向<a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E5%85%B8%E6%97%B6%E4%BB%A3">古典时代</a>，如<a href="https://zh.wikipedia.org/wiki/%E7%BD%97%E9%A9%AC%E5%B8%9D%E5%9B%BD">罗马帝国</a>，文化发展甚至到了<a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E4%B8%96%E7%BA%AA">中世纪</a>至今。在1400至1850年<a href="https://zh.wikipedia.org/wiki/%E5%B0%8F%E5%86%B0%E6%9C%9F">小冰期</a>（<a href="https://zh.wikipedia.org/wiki/%E5%86%B0%E9%98%B6">冰阶</a>）导致<a href="https://zh.wikipedia.org/wiki/%E5%8C%97%E5%8D%8A%E7%90%83">北半球</a>短暂的冷却。另请参阅考古时期目录厘清早期的文化和年代。1815年<a href="https://zh.wikipedia.org/wiki/%E5%9D%A6%E5%8D%9A%E6%8B%89%E7%81%AB%E5%B1%B1">坦博拉火山</a><a href="https://zh.wikipedia.org/wiki/1815%E5%B9%B4%E5%9D%A6%E5%8D%9A%E6%8B%89%E7%81%AB%E5%B1%B1%E7%88%86%E5%8F%91">爆发</a>，造年欧洲和北美天气异常形成<a href="https://zh.wikipedia.org/wiki/%E7%81%AB%E5%B1%B1%E5%86%AC%E5%A4%A9">火山冬天</a>导致无夏之年（1816年）。继<a href="https://zh.wikipedia.org/wiki/%E5%B7%A5%E4%B8%9A%E9%9D%A9%E5%91%BD">工业革命</a>以来，<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E5%A4%A7%E6%B0%94%E5%B1%82">地球大气层</a>中的<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E6%B0%A7%E5%8C%96%E7%A2%B3">二氧化碳</a>含量从280ppmv（体积的百万分之一）上升到目前的390ppmv。[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-atmospheric-carbon-dioxide-6">6]</a></td><td align="center">0.011700[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-cenozoic-division-4">4]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-holocene-7">7]</a></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%9B%B4%E6%96%B0%E4%B8%96">更新世</a></td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E6%99%9A%E6%9B%B4%E6%96%B0%E6%9C%9F&amp;action=edit&amp;redlink=1">晚更新期</a> (区域性<a href="https://zh.wikipedia.org/w/index.php?title=%E5%A1%94%E5%85%B0%E6%89%98%E6%9C%9F&amp;action=edit&amp;redlink=1">塔兰托期</a>、<a href="https://zh.wikipedia.org/w/index.php?title=%E7%AC%AC%E5%8B%92%E5%B0%BC%E5%AE%89%E6%9C%9F&amp;action=edit&amp;redlink=1">第勒尼安期</a>、<a href="https://zh.wikipedia.org/w/index.php?title=%E5%9F%83%E5%A7%86%E9%97%B4%E5%86%B0%E6%9C%9F&amp;action=edit&amp;redlink=1">埃姆间冰期</a>、<a href="https://zh.wikipedia.org/wiki/%E6%A1%91%E5%8A%A0%E8%92%99%E9%96%93%E5%86%B0%E6%9C%9F">桑加蒙间冰期</a>)</td><td align="center">许多大型<a href="https://zh.wikipedia.org/wiki/%E5%93%BA%E4%B9%B3%E5%8A%A8%E7%89%A9">哺乳动物</a>（<a href="https://zh.wikipedia.org/wiki/%E6%9B%B4%E6%96%B0%E4%B8%96%E5%B7%A8%E5%9E%8B%E5%8B%95%E7%89%A9%E7%BE%A4">更新世巨型动物群</a>）蓬勃发展然后灭绝。晚期<a href="https://zh.wikipedia.org/wiki/%E6%99%BA%E4%BA%BA">智人</a>逐步进化。<a href="https://zh.wikipedia.org/wiki/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E5%86%B0%E6%B2%B3%E6%97%B6%E6%9C%9F">第四纪冰河时期</a>继续的冰川作用和<a href="https://zh.wikipedia.org/w/index.php?title=%E9%97%B4%E5%86%B0%E9%98%B6&amp;action=edit&amp;redlink=1">间冰阶</a>（伴随着<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E5%A4%A7%E6%B0%94%E5%B1%82">地球大气层</a>中二氧化碳水平从百万分之100到300的波动[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-atmospheric-carbon-dioxide-6">6]</a>），这种情况进一步强化<a href="https://zh.wikipedia.org/w/index.php?title=%E5%86%B0%E5%AE%A4%E5%9C%B0%E7%90%83&amp;action=edit&amp;redlink=1">冰室地球</a>，大约持续了160万年。<a href="https://zh.wikipedia.org/wiki/%E6%9C%AB%E6%AC%A1%E5%86%B0%E7%9B%9B%E6%9C%9F">末次冰盛期</a>（<a href="https://zh.wikipedia.org/wiki/%E8%B7%9D%E4%BB%8A">距今</a>3万年），<a href="https://zh.wikipedia.org/wiki/%E6%9C%AB%E6%AC%A1%E5%86%B0%E6%9C%9F">末次冰期</a>（距今1万9千至1万5千年）。石器时代人类出现文明曙光，相对于以前的冰河时代的文化技术水平复杂度与日益增加，如雕刻和黏土雕像（例如<a href="https://zh.wikipedia.org/w/index.php?title=%E8%8E%B1%E6%96%AF%E7%9A%AE%E6%A0%BC%E7%BB%B4%E7%BA%B3%E6%96%AF&amp;action=edit&amp;redlink=1">莱斯皮格维纳斯</a>），特别是在<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E4%B8%AD%E6%B5%B7">地中海</a>和<a href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%B4%B2">欧洲</a>地区。在7万5千年前<a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E5%B7%B4%E6%B9%96">多巴湖</a><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E7%BA%A7%E7%81%AB%E5%B1%B1">超级火山</a>爆发，导致火山冬天<a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E5%B3%87%E5%B7%A8%E7%81%BD%E7%90%86%E8%AB%96">把人类推向灭绝的边缘</a>。<a href="https://zh.wikipedia.org/wiki/%E6%9B%B4%E6%96%B0%E4%B8%96">更新世</a>以<a href="https://zh.wikipedia.org/w/index.php?title=%E8%80%81%E4%BB%99%E5%A5%B3%E6%9C%A8%E6%9C%9F&amp;action=edit&amp;redlink=1">老仙女木期</a>结束，老仙女木期（Allerød）和<a href="https://zh.wikipedia.org/w/index.php?title=%E6%96%B0%E4%BB%99%E5%A5%B3%E6%9C%A8%E6%9C%9F%E4%BA%8B%E4%BB%B6&amp;action=edit&amp;redlink=1">新仙女木期气候事件</a>与新仙女木期形成与<a href="https://zh.wikipedia.org/wiki/%E5%85%A8%E6%96%B0%E4%B8%96">全新世</a>的边界。</td><td align="center">0.126</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E4%B8%AD%E6%9B%B4%E6%96%B0%E6%9C%9F&amp;action=edit&amp;redlink=1">中更新期</a> (原爱奥尼亚期)</td><td align="center">0.781</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E6%99%9A%E6%9B%B4%E6%96%B0%E6%9C%9F&amp;action=edit&amp;redlink=1">卡拉布里亚阶</a></td><td align="center">1.806*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E6%A0%BC%E6%8B%89%E6%96%AF%E6%9C%9F&amp;action=edit&amp;redlink=1">格拉斯期</a></td><td align="center">2.588*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%96%B0%E8%BF%91%E7%BA%AA">新近纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%8A%E6%96%B0%E4%B8%96">上新世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%9A%AE%E4%BA%9A%E7%90%B4%E6%9C%9F">皮亚琴期</a>/<a href="https://zh.wikipedia.org/w/index.php?title=%E5%8B%83%E6%9C%97%E6%9C%9F&amp;action=edit&amp;redlink=1">勃朗期</a></td><td align="center">252万年前<a href="https://zh.wikipedia.org/wiki/%E7%AC%AC%E5%9B%9B%E7%BA%AA%E5%86%B0%E6%B2%B3%E6%97%B6%E6%9C%9F">第四纪冰河时期</a>开始，寒冷干燥的<a href="https://zh.wikipedia.org/wiki/%E6%B0%94%E5%80%99">气候</a>强化了目前的冰室条件。<a href="https://zh.wikipedia.org/wiki/%E5%8D%97%E7%8C%BF">南猿</a>、许多现有哺乳动物属，和全新世<a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BD%93%E5%8A%A8%E7%89%A9">软体动物</a>出现。**<a href="https://zh.wikipedia.org/wiki/%E8%83%BD%E4%BA%BA">能人</a>**出现。</td><td align="center">3.600*</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%B5%9E%E5%85%8B%E5%B0%94%E6%9C%9F">赞克尔期</a></td><td align="center">5.333*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E6%96%B0%E4%B8%96">中新世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A2%A8%E8%A5%BF%E6%8B%BF%E6%9C%9F">墨西拿期</a></td><td align="center">适度的冰室气候，不时中断<a href="https://zh.wikipedia.org/wiki/%E5%86%B0%E6%B2%B3%E6%97%B6%E6%9C%9F">冰河时期</a>；北半球开始<a href="https://zh.wikipedia.org/wiki/%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">造山运动</a>。现代<a href="https://zh.wikipedia.org/wiki/%E5%93%BA%E4%B9%B3%E5%8A%A8%E7%89%A9">哺乳动物</a>和<a href="https://zh.wikipedia.org/wiki/%E9%B8%9F">鸟类</a>家庭能被分辨出来。<a href="https://zh.wikipedia.org/wiki/%E9%A9%AC%E7%A7%91">马科</a>动物和<a href="https://zh.wikipedia.org/wiki/%E4%B9%B3%E9%BD%92%E8%B1%A1">乳齿象</a>多种多样。<a href="https://zh.wikipedia.org/wiki/%E7%A6%BE%E6%9C%AC%E7%A7%91">禾本科</a>植物变得无处不在。第一种<a href="https://zh.wikipedia.org/wiki/%E7%B1%BB%E4%BA%BA%E7%8C%BF">类人猿</a>出现（仅供参考，请参阅文章：“<a href="https://zh.wikipedia.org/wiki/%E4%B9%8D%E5%BE%97%E6%B2%99%E8%B5%AB%E4%BA%BA">乍得沙赫人</a>”）。<a href="https://zh.wikipedia.org/w/index.php?title=%E5%87%B1%E5%BA%AB%E6%8B%89%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">凯库拉造山运动</a>形成了新西兰的<a href="https://zh.wikipedia.org/wiki/%E5%8D%97%E9%98%BF%E7%88%BE%E5%8D%91%E6%96%AF%E5%B1%B1%E8%84%88">南阿尔卑斯山脉</a>，一直延续到今天。欧洲的阿尔卑斯山造山运动放缓，但也延续至今。在<a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E6%AC%A7">中欧</a>和<a href="https://zh.wikipedia.org/wiki/%E4%B8%9C%E6%AC%A7">东欧</a>喀尔巴阡造山运动形成<a href="https://zh.wikipedia.org/wiki/%E5%96%80%E5%B0%94%E5%B7%B4%E9%98%A1%E5%B1%B1%E8%84%89">喀尔巴阡山脉</a>。在希腊和爱琴海的希腊造山运动放缓，但一直持续到今天。中新世中期发生<a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E7%89%A9%E9%9B%86%E7%BE%A4%E7%81%AD%E7%BB%9D">生物集群灭绝</a>。广袤的森林慢慢地通过<a href="https://zh.wikipedia.org/wiki/%E5%85%89%E5%90%88%E4%BD%9C%E7%94%A8">光合作用</a>吸收了大量的二氧化碳，逐渐降低大气中的二氧化碳水平从650ppmv到大约100ppmv[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-atmospheric-carbon-dioxide-6">6]</a>。</td><td align="center">7.246*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%89%98%E5%B0%94%E9%A1%BF%E6%9C%9F">托尔顿期</a></td><td align="center">11.62*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A1%9E%E6%8B%89%E7%93%A6%E5%B0%94%E6%9C%9F">塞拉瓦尔期</a></td><td align="center">13.84*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%85%B0%E7%9B%96%E6%9C%9F">兰盖期</a></td><td align="center">15.97</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E5%B8%83%E5%B0%94%E8%BF%AA%E5%8A%A0%E5%B0%94%E6%9C%9F&amp;action=edit&amp;redlink=1">布尔迪加尔期</a></td><td align="center">20.44</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%9F%BA%E5%9D%A6%E6%9C%9F">阿基坦期</a></td><td align="center">23.03*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E8%BF%91%E7%BA%AA">古近纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B8%90%E6%96%B0%E4%B8%96">渐新世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%81%B0%E7%89%B9%E6%9C%9F">恰特期</a></td><td align="center">温暖但气候变冷，接近冰室气候。动植物特别是<a href="https://zh.wikipedia.org/wiki/%E5%93%BA%E4%B9%B3%E5%8A%A8%E7%89%A9">哺乳动物</a>快速<a href="https://zh.wikipedia.org/wiki/%E8%BF%9B%E5%8C%96">进化</a>和多样化。这个时期主要发生了现代类型的<a href="https://zh.wikipedia.org/wiki/%E8%A2%AB%E5%AD%90%E6%A4%8D%E7%89%A9">开花植物</a>进化和传播。</td><td align="center">28.1</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%B2%81%E5%9F%B9%E5%B0%94%E6%9C%9F">鲁培尔期</a></td><td align="center">33.9*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A7%8B%E6%96%B0%E4%B8%96">始新世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%99%AE%E9%87%8C%E9%98%BF%E9%82%A6%E6%9C%9F">普里阿邦期</a></td><td align="center">适中,气候变冷。<a href="https://zh.wikipedia.org/wiki/%E8%A2%AB%E5%AD%90%E6%A4%8D%E7%89%A9">开花植物</a>的果实平均大小达到拳头大小；史前<a href="https://zh.wikipedia.org/wiki/%E5%93%BA%E4%B9%B3%E5%8A%A8%E7%89%A9">哺乳动物</a>（例如：<a href="https://zh.wikipedia.org/wiki/%E8%82%89%E9%BD%BF%E7%9B%AE">肉齿目</a>，<a href="https://zh.wikipedia.org/wiki/%E8%B8%9D%E8%8A%82%E7%9B%AE">踝节目</a>，<a href="https://zh.wikipedia.org/wiki/%E7%8A%B9%E5%9B%A0%E4%BB%96%E5%85%BD%E7%A7%91">犹因他兽科</a>等）蓬勃发展，并继续在始新世发展。“现代”哺乳科类物种出现。现代<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E9%AA%A8%E9%99%84%E7%B1%BB">真骨附类</a>鱼类和<a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E5%AD%94%E8%9F%B2%E9%96%80">有孔虫门</a>多样化。禾草和蝴蝶首次出现。再次的冰川作用行成了南极洲冰帽；满江红事件触发冰河时代，而冰室地球气候跟随到这一天发生，从沉降和衰变的<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E5%BA%8A">海床</a><a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E8%97%BB">海藻</a>沉淀大量大气中的<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E6%B0%A7%E5%8C%96%E7%A2%B3">二氧化碳</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-atmospheric-carbon-dioxide-6">6]</a>，浓度从3800ppmv降低到650ppmv。在北美<a href="https://zh.wikipedia.org/wiki/%E8%90%BD%E5%9F%BA%E5%B1%B1%E8%84%89">落基山脉</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%8B%89%E8%85%8A%E7%B1%B3&amp;action=edit&amp;redlink=1">拉腊米</a>和<a href="https://zh.wikipedia.org/wiki/%E5%A1%9E%E7%B6%AD%E7%88%BE">塞维尔</a>造山作用结束。欧洲的<a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%B0%94%E5%8D%91%E6%96%AF%E5%B1%B1">阿尔卑斯山</a><a href="https://zh.wikipedia.org/wiki/%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">造山运动</a>开始。在希腊和爱琴海<a href="https://zh.wikipedia.org/w/index.php?title=%E5%B8%8C%E8%85%8A%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8&amp;action=edit&amp;redlink=1">希腊造山运动</a>开始。</td><td align="center">38.0</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B7%B4%E5%B0%94%E9%A1%BF%E6%9C%9F">巴尔顿期</a></td><td align="center">42.3</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8D%A2%E5%8F%B0%E7%89%B9%E6%9C%9F">卢台特期</a></td><td align="center">47.6*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%BC%8A%E6%99%AE%E9%9B%B7%E6%96%AF%E6%9C%9F">伊普雷斯期</a></td><td align="center">56.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E6%96%B0%E4%B8%96">古新世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%B5%9E%E5%B0%BC%E7%89%B9%E6%9C%9F">赞尼特期</a></td><td align="center">热带气候。一些原始血统的<a href="https://zh.wikipedia.org/wiki/%E5%93%BA%E4%B9%B3%E5%8A%A8%E7%89%A9">哺乳动物</a>逐步多样化。大型哺乳动物首次出现（相当于<a href="https://zh.wikipedia.org/wiki/%E7%86%8A">熊</a>或小型<a href="https://zh.wikipedia.org/wiki/%E6%B2%B3%E9%A9%AC">河马</a>尺寸）。在欧洲和亚洲的<a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%B0%94%E5%8D%91%E6%96%AF%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8">阿尔卑斯造山运动</a>开始。5500万年前<a href="https://zh.wikipedia.org/wiki/%E5%8D%B0%E5%BA%A6%E6%AC%A1%E5%A4%A7%E9%99%86">印度次大陆</a>与亚洲挤压，在5200-4800万年之间喜马拉雅运动开始。</td><td align="center">59.2*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A1%9E%E5%85%B0%E7%89%B9%E6%9C%9F">塞兰特期</a></td><td align="center">61.6*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%BE%BE%E5%AE%81%E6%9C%9F">达宁期</a></td><td align="center">66.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E7%94%9F%E4%BB%A3">中生代</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%99%BD%E5%9E%A9%E7%BA%AA">白垩纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%99%9A%E7%99%BD%E5%9E%A9%E4%B8%96">晚白垩世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%A9%AC%E6%96%AF%E7%89%B9%E9%87%8C%E8%B5%AB%E7%89%B9%E6%9C%9F">马斯特里赫特期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%A2%AB%E5%AD%90%E6%A4%8D%E7%89%A9">开花植物</a>数量激增，与此同时许多新种类的<a href="https://zh.wikipedia.org/wiki/%E6%98%86%E8%99%AB">昆虫</a>出现。现代<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E9%AA%A8%E7%B1%BB">真骨附类</a>鱼类开始出现。<a href="https://zh.wikipedia.org/wiki/%E8%8F%8A%E7%9F%B3%E7%9B%AE">菊石目</a>、<a href="https://zh.wikipedia.org/wiki/%E7%AE%AD%E7%9F%B3%E7%9B%AE">箭石目</a>、<a href="https://zh.wikipedia.org/w/index.php?title=%E5%90%8E%E5%87%B9%E6%A4%8E&amp;action=edit&amp;redlink=1">后凹椎</a><a href="https://zh.wikipedia.org/wiki/%E5%8F%8C%E5%A3%B3%E7%BA%B2">双壳纲</a>、<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E8%83%86%E7%BA%B2">海胆纲</a>、<a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E5%AD%94%E5%8A%A8%E7%89%A9%E9%97%A8">多孔动物门</a>常见。许多新种类<a href="https://zh.wikipedia.org/wiki/%E6%81%90%E9%BE%99">恐龙</a>（例如：<a href="https://zh.wikipedia.org/wiki/%E6%9A%B4%E9%BE%8D%E7%A7%91">暴龙科</a>、<a href="https://zh.wikipedia.org/wiki/%E6%B3%B0%E5%9D%A6%E5%B7%A8%E9%BE%8D%E9%A1%9E">泰坦巨龙类</a>、<a href="https://zh.wikipedia.org/wiki/%E9%B8%AD%E5%98%B4%E9%BE%99%E7%A7%91">鸭嘴龙科</a>、<a href="https://zh.wikipedia.org/wiki/%E8%A7%92%E9%BE%99%E7%A7%91">角龙科</a>等）在陆地上发展出现，<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E9%B1%B7%E4%BA%9E%E7%9B%AE">真鳄亚目</a>（现代<a href="https://zh.wikipedia.org/wiki/%E9%B3%84%E7%9B%AE">鳄鱼</a>）亦出现；<a href="https://zh.wikipedia.org/wiki/%E6%BB%84%E9%BE%8D%E7%A7%91">沧龙科</a>与现代<a href="https://zh.wikipedia.org/wiki/%E9%B2%A8%E9%B1%BC">鲨鱼</a>在海洋中出现。原始<a href="https://zh.wikipedia.org/wiki/%E9%B8%9F">鸟类</a>逐渐取代<a href="https://zh.wikipedia.org/w/index.php?title=%E7%BF%BC%E5%BC%84%E7%9B%AE&amp;action=edit&amp;redlink=1">翼弄目</a>。<a href="https://zh.wikipedia.org/wiki/%E5%8D%95%E5%AD%94%E7%9B%AE">单孔目</a>、<a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E8%A2%8B%E9%A1%9E">有袋类</a>、<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E5%85%BD%E4%B8%8B%E7%BA%B2">真兽下纲</a>哺乳动物出现。<a href="https://zh.wikipedia.org/wiki/%E5%86%88%E7%93%A6%E9%82%A3%E5%A4%A7%E9%99%86">冈瓦那大陆</a>分裂。<a href="https://zh.wikipedia.org/wiki/%E8%90%BD%E5%9F%BA%E5%B1%B1%E8%84%89">落基山脉</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%8B%89%E8%85%8A%E7%B1%B3%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8&amp;action=edit&amp;redlink=1">拉腊米造山运动</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E5%A1%9E%E7%BB%B4%E5%B0%94%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8&amp;action=edit&amp;redlink=1">塞维尔造山运动</a>开始。<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E5%A4%A7%E6%B0%94%E5%B1%82">大气</a>中的二氧化碳含量接近现代水平。</td><td align="center">70.6 ± 0.6*</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9D%8E%E5%B8%95%E6%9C%9F">坎帕期</a></td><td align="center">83.5 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%A1%91%E6%89%98%E6%9C%9F">桑托期</a></td><td align="center">85.8 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%A7%91%E5%B0%BC%E4%BA%9A%E5%85%8B%E6%9C%9F">科尼亚克期</a></td><td align="center">89.3 ± 1.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9C%9F%E4%BE%96%E6%9C%9F">土仑期</a></td><td align="center">93.5 ± 0.8*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%A3%AE%E8%AB%BE%E6%9B%BC%E6%9C%9F">森诺曼期</a></td><td align="center">99.6 ± 0.9*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%97%A9%E7%99%BD%E5%9E%A9%E4%B8%96">早白垩世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E7%88%BE%E5%B8%83%E6%9C%9F">阿尔布期</a></td><td align="center">112.0 ± 1.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E6%99%AE%E7%AC%AC%E6%9C%9F">阿普第期</a></td><td align="center">125.0 ± 1.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B7%B4%E5%88%97%E5%A7%86%E6%9C%9F">巴列姆期</a></td><td align="center">130.0 ± 1.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%B1%AA%E7%89%B9%E9%87%8C%E7%B6%AD%E6%9C%9F">豪特里维期</a></td><td align="center">136.4 ± 2.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%87%A1%E8%97%8D%E4%BB%8A%E6%9C%9F">凡蓝今期</a></td><td align="center">140.2 ± 3.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%B2%9D%E9%87%8C%E4%BA%9E%E6%9C%9F">贝里亚期</a></td><td align="center">145.5 ± 4.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%BE%8F%E7%BD%97%E7%BA%AA">侏罗纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%99%9A%E4%BE%8F%E7%BD%97%E4%B8%96">晚侏罗世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%8F%90%E9%80%9A%E6%9C%9F">提通期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%A3%B8%E5%AD%90%E6%A4%8D%E7%89%A9">裸子植物</a>(尤其是<a href="https://zh.wikipedia.org/wiki/%E9%87%9D%E8%91%89%E6%A8%B9">针叶树</a>， <a href="https://zh.wikipedia.org/wiki/%E8%8B%8F%E9%93%81">苏铁</a> 和 <a href="https://zh.wikipedia.org/w/index.php?title=%E9%93%81%E6%A0%91%E7%9B%AE%E8%A3%B8%E5%AD%90%E6%A4%8D%E7%89%A9&amp;action=edit&amp;redlink=1">铁树目裸子植物</a>) 和常见的<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E8%95%A8%E9%A1%9E">蕨类植物</a>。有许多种<a href="https://zh.wikipedia.org/wiki/%E6%81%90%E9%BE%99">恐龙</a>，像<a href="https://zh.wikipedia.org/wiki/%E8%9C%A5%E8%85%B3%E9%A1%9E">蜥脚类</a>， <a href="https://zh.wikipedia.org/w/index.php?title=%E9%A3%9F%E8%82%89%E9%BE%99&amp;action=edit&amp;redlink=1">食肉龙</a>，和<a href="https://zh.wikipedia.org/wiki/%E5%8A%8D%E9%BE%8D%E5%B1%AC">剑龙</a>。哺乳动物常见但体积很小。原始的<a href="https://zh.wikipedia.org/wiki/%E9%B8%9F">鸟类</a>和<a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E9%B1%97%E7%9B%AE">蜥蜴</a>。多种多样的<a href="https://zh.wikipedia.org/wiki/%E9%B1%BC%E9%BE%99%E7%9B%AE">鱼龙</a>和<a href="https://zh.wikipedia.org/wiki/%E8%9B%87%E9%A0%B8%E9%BE%8D%E5%B1%AC">蛇颈龙</a>。<a href="https://zh.wikipedia.org/wiki/%E5%8F%8C%E5%A3%B3%E7%BA%B2">双壳类</a>， <a href="https://zh.wikipedia.org/wiki/%E8%8F%8A%E7%9F%B3">菊石</a>和<a href="https://zh.wikipedia.org/wiki/%E7%AE%AD%E7%9F%B3%E7%B1%BB">箭石</a>生长繁盛。<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E8%86%BD">海胆</a>非常普遍，与<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E7%99%BE%E5%90%88">海百合</a>，<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E6%98%9F">海星</a>，<a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E5%AD%94%E5%8A%A8%E7%89%A9%E9%97%A8">海绵</a>，和<a href="https://zh.wikipedia.org/wiki/%E7%A9%BF%E5%AD%94%E8%B4%9D%E7%9B%AE">穿孔贝型</a>跟<a href="https://zh.wikipedia.org/wiki/%E5%B0%8F%E5%98%B4%E8%B4%9D%E7%9B%AE">小嘴贝目</a><a href="https://zh.wikipedia.org/wiki/%E8%85%95%E8%B6%B3%E5%8A%A8%E7%89%A9%E9%97%A8">腕足类</a>共生。<a href="https://zh.wikipedia.org/wiki/%E6%B3%9B%E5%A4%A7%E9%99%86">泛大陆</a>解体成为<a href="https://zh.wikipedia.org/w/index.php?title=%E5%86%88%E7%93%A6%E7%BA%B3%E5%8F%A4%E5%A4%A7%E9%99%86&amp;action=edit&amp;redlink=1">冈瓦纳古大陆</a>和<a href="https://zh.wikipedia.org/wiki/%E5%8B%9E%E4%BA%9E%E5%8F%A4%E5%A4%A7%E9%99%B8">劳亚古大陆</a>。北美洲<a href="https://zh.wikipedia.org/wiki/%E5%85%A7%E8%8F%AF%E9%81%94%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">内华达造山运动</a>。<a href="https://zh.wikipedia.org/w/index.php?title=%E7%91%9E%E5%9F%BA%E5%A1%94%E5%A1%94%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8&amp;action=edit&amp;redlink=1">瑞基塔塔造山运动</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E5%9F%BA%E6%A2%85%E9%87%8C%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8&amp;action=edit&amp;redlink=1">基梅里造山运动</a>逐步停止。大气中CO2浓度是现在的4–5 倍 (1200–1500 ppmv, 现今浓度为385 ppmv[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-atmospheric-carbon-dioxide-6">6]</a>).</td><td align="center">150.8 ± 4.0*</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%95%9F%E8%8E%AB%E9%87%8C%E6%9C%9F">启莫里期</a></td><td align="center">155.7 ± 4.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%89%9B%E6%B4%A5%E6%9C%9F">牛津期</a></td><td align="center">161.2 ± 4.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E4%BE%8F%E7%BD%97%E4%B8%96">中侏罗世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E6%B4%9B%E7%BB%B4%E6%9C%9F">卡洛维期</a></td><td align="center">164.7 ± 4.0</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B7%B4%E9%80%9A%E6%9C%9F">巴通期</a></td><td align="center">167.7 ± 3.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B7%B4%E6%9F%94%E6%9C%9F">巴柔期</a></td><td align="center">171.6 ± 3.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E8%BF%9E%E6%9C%9F">阿连期</a></td><td align="center">175.6 ± 2.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%97%A9%E4%BE%8F%E7%BD%97%E4%B8%96">早侏罗世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%89%98%E9%98%BF%E5%B0%94%E6%9C%9F">托阿尔期</a></td><td align="center">183.0 ± 1.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%99%AE%E8%BF%9E%E6%96%AF%E5%B7%B4%E5%A5%87%E6%9C%9F">普连斯巴奇期</a></td><td align="center">189.6 ± 1.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%94%A1%E5%86%85%E7%A9%86%E6%9C%9F">锡内穆期</a></td><td align="center">196.5 ± 1.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E5%A1%94%E5%85%B6%E6%9C%9F">海塔其期</a></td><td align="center">199.6 ± 0.6*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E5%8F%A0%E7%BA%AA">三叠纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%99%9A%E4%B8%89%E5%8F%A0%E4%B8%96">晚三叠世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%91%9E%E6%9B%BF%E6%9C%9F">瑞替期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%BB%E9%BE%8D%E9%A1%9E">主龙类</a>成为陆地上的统治者，海洋中的统治者是<a href="https://zh.wikipedia.org/wiki/%E9%B1%BC%E9%BE%99%E7%9B%AE">鱼龙</a>和<a href="https://zh.wikipedia.org/wiki/%E5%B9%BB%E9%BE%8D%E5%B1%AC">幻龙</a>，空中的统治者则是<a href="https://zh.wikipedia.org/wiki/%E7%BF%BC%E9%BE%8D%E7%9B%AE">翼龙</a>。<a href="https://zh.wikipedia.org/wiki/%E7%8A%AC%E9%BD%92%E7%8D%B8%E4%BA%9E%E7%9B%AE">犬齿兽亚目</a>变得更小也更像哺乳动物，此时最早的<a href="https://zh.wikipedia.org/wiki/%E5%93%BA%E4%B9%B3%E5%8A%A8%E7%89%A9">哺乳动物</a>和<a href="https://zh.wikipedia.org/wiki/%E9%B3%84%E7%9B%AE">鳄鱼</a>出现。<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E7%BE%8A%E9%BD%92%E5%B1%AC">二叉羊齿属</a>的植物开始出现在陆地上，还有许多大型的<a href="https://zh.wikipedia.org/w/index.php?title=%E9%9B%A2%E7%89%87%E9%8C%90%E7%9B%AE&amp;action=edit&amp;redlink=1">离片锥目</a>两栖动物。<a href="https://zh.wikipedia.org/wiki/%E9%BD%BF%E8%8F%8A%E7%9F%B3%E7%9B%AE">齿菊石目</a>繁盛。现代的<a href="https://zh.wikipedia.org/wiki/%E7%8F%8A%E7%91%9A">珊瑚</a>和<a href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E9%AA%A8%E9%AD%9A">硬骨鱼</a>也开始出现，<a href="https://zh.wikipedia.org/wiki/%E5%8F%8C%E7%BF%85%E7%9B%AE">双翅目</a>、<a href="https://zh.wikipedia.org/wiki/%E8%86%9C%E7%BF%85%E7%9B%AE">膜翅目</a>、<a href="https://zh.wikipedia.org/wiki/%E9%B3%9E%E7%BF%85%E7%9B%AE">鳞翅目</a>等昆虫出现。<a href="https://zh.wikipedia.org/wiki/%E5%8D%97%E7%BE%8E%E6%B4%B2">南美洲</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%AE%89%E5%9C%B0%E6%96%AF%E5%B1%B1%E8%84%88%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">安地斯山脉造山运动</a>、<a href="https://zh.wikipedia.org/wiki/%E4%BA%9E%E6%B4%B2">亚洲</a>的<a href="https://zh.wikipedia.org/wiki/%E8%BE%9B%E6%A2%85%E5%88%A9%E4%BA%9A%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8">辛梅利亚造山运动</a>、<a href="https://zh.wikipedia.org/wiki/%E7%B4%90%E8%A5%BF%E8%98%AD">新西兰</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E7%91%9E%E5%9F%BA%E5%A1%94%E5%A1%94%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">瑞基塔塔造山运动</a>和北部<a href="https://zh.wikipedia.org/wiki/%E6%BE%B3%E5%A4%A7%E5%88%A9%E4%BA%9E">澳大利亚</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E4%BA%A8%E7%89%B9-%E9%AE%91%E6%96%87%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">亨特-鲍文造山运动</a>开始。<a href="https://zh.wikipedia.org/wiki/%E6%98%86%E5%A3%AB%E8%98%AD%E5%B7%9E">昆士兰州</a>和<a href="https://zh.wikipedia.org/wiki/%E6%96%B0%E5%8D%97%E5%A8%81%E7%88%BE%E6%96%AF%E5%B7%9E">新南威尔士州</a>结束。(c. 2.6亿–2.25亿<a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">年</a>)</td><td align="center">203.6 ± 1.5*</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%AF%BA%E5%88%A9%E6%9C%9F">诺利期</a></td><td align="center">216.5 ± 2.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E5%B0%BC%E6%9C%9F">卡尼期</a></td><td align="center">228.0 ± 2.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E4%B8%89%E5%8F%A0%E4%B8%96">中三叠世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%8B%89%E4%B8%81%E5%B0%BC%E6%9C%9F">拉丁尼期</a></td><td align="center">237.0 ± 2.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AE%89%E5%B0%BC%E8%A5%BF%E6%9C%9F">安尼西期</a></td><td align="center">245.0 ± 1.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%97%A9%E4%B8%89%E5%8F%A0%E4%B8%96">早三叠世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A5%A5%E4%BC%A6%E5%B0%BC%E5%85%8B%E6%9C%9F">奥伦尼克期</a></td><td align="center">249.7 ± 1.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8D%B0%E5%BA%A6%E6%9C%9F">印度期</a></td><td align="center">251.0 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E7%94%9F%E4%BB%A3">古生代</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%A0%E7%BA%AA">二叠纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B9%90%E5%B9%B3%E4%B8%96">乐平世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%95%BF%E5%85%B4%E6%9C%9F">长兴期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83">地球</a>上的<a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E9%99%B8">大陆</a>全部合并变成<a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E7%B4%9A%E5%A4%A7%E9%99%B8">超级大陆</a>(<a href="https://zh.wikipedia.org/wiki/%E7%9B%A4%E5%8F%A4%E5%A4%A7%E9%99%B8">盘古大陆</a>)，形成了<a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%B7%B4%E6%8B%89%E5%A5%91%E4%BA%9E%E5%B1%B1%E8%84%88">阿巴拉契亚山脉</a>。石炭纪-二叠纪的<a href="https://zh.wikipedia.org/wiki/%E5%86%B0%E6%B2%B3%E6%99%82%E6%9C%9F">冰河时期</a>仍延续。<a href="https://zh.wikipedia.org/wiki/%E5%90%88%E5%BC%93%E7%B6%B1">合弓纲</a>(<a href="https://zh.wikipedia.org/wiki/%E7%9B%A4%E9%BE%8D%E7%9B%AE">盘龙目</a>pelycosaur和<a href="https://zh.wikipedia.org/wiki/%E7%8D%B8%E5%AD%94%E7%9B%AE">兽孔目</a>therapsid)成为陆地上的统治者，同时<a href="https://zh.wikipedia.org/wiki/%E5%89%AF%E7%88%AC%E8%A1%8C%E5%8B%95%E7%89%A9">副爬行动物</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E9%9B%A2%E7%89%87%E9%8C%90%E7%9B%AE&amp;action=edit&amp;redlink=1">离片锥目</a>的两栖动物也仍非常普遍。在<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E7%96%8A%E7%B4%80">二叠纪</a>，森林的主导<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E8%95%A8%E9%A1%9E">蕨类植物</a>被<a href="https://zh.wikipedia.org/wiki/%E8%A3%B8%E5%AD%90%E6%A4%8D%E7%89%A9">裸子植物</a>逐渐取代。<a href="https://zh.wikipedia.org/wiki/%E7%94%B2%E8%9F%B2">甲虫</a>开始演化。在温暖的浅<a href="https://zh.wikipedia.org/wiki/%E7%8F%8A%E7%91%9A%E7%A4%81">珊瑚礁</a>有各式各样的海洋生物， 有<a href="https://zh.wikipedia.org/w/index.php?title=%E9%95%B7%E8%BA%AB%E8%B2%9D%E7%9B%AE&amp;action=edit&amp;redlink=1">长身贝目</a>(productida)和<a href="https://zh.wikipedia.org/wiki/%E7%9F%B3%E7%87%95%E8%B4%9D%E7%9B%AE">石燕贝目</a>的腕足动物、双壳类、<a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E5%AD%94%E8%9F%B2%E9%96%80">有孔虫</a>和<a href="https://zh.wikipedia.org/wiki/%E8%8F%8A%E7%9F%B3">菊石</a>都非常的多。在2.51亿<a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">年</a>前发生了<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%A0%E7%BA%AA-%E4%B8%89%E5%8F%A0%E7%BA%AA%E7%81%AD%E7%BB%9D%E4%BA%8B%E4%BB%B6">二叠纪-三叠纪灭绝事件</a>，造成<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83">地球</a>上有95%的生物都灭绝，包括<a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E8%91%89%E8%9F%B2">三叶虫</a>、<a href="https://zh.wikipedia.org/wiki/%E6%A3%98%E9%B1%BC%E7%A7%91">棘鱼</a>和<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E8%95%BE">海蕾</a>。<a href="https://zh.wikipedia.org/wiki/%E5%8C%97%E7%BE%8E%E6%B4%B2">北美洲</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%B2%83%E5%B8%8C%E6%89%98%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">沃希托造山运动</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E8%8C%B5%E5%8B%92%E6%BA%AB%E8%96%B0%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">茵勒温薰造山运动</a>、<a href="https://zh.wikipedia.org/wiki/%E4%BA%9E%E6%B4%B2">亚洲</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E9%98%BF%E7%88%BE%E6%B3%B0%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">阿尔泰造山运动</a>(Altaid orogeny)“参考:<a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%B0%94%E6%B3%B0%E5%B1%B1%E8%84%89">阿尔泰</a>”。<a href="https://zh.wikipedia.org/wiki/%E4%B9%8C%E6%8B%89%E5%B0%94%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8">乌拉尔造山运动</a>使<a href="https://zh.wikipedia.org/wiki/%E6%AD%90%E6%B4%B2">欧洲</a>和<a href="https://zh.wikipedia.org/wiki/%E4%BA%9E%E6%B4%B2">亚洲</a>逐渐减少。在<a href="https://zh.wikipedia.org/wiki/%E6%BE%B3%E5%A4%A7%E5%88%A9%E4%BA%9E">澳大利亚</a><a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E9%99%B8">大陆</a>上，逐渐开始<a href="https://zh.wikipedia.org/w/index.php?title=%E4%BA%A8%E7%89%B9-%E9%AE%91%E6%96%87%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">亨特-鲍文造山运动</a>，形成了<a href="https://zh.wikipedia.org/wiki/%E9%BA%A6%E5%85%8B%E5%94%90%E5%A5%88%E5%B0%94%E5%B1%B1%E8%84%89">麦克唐奈尔山脉</a>。(c. 2.6亿–2.25亿<a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">年</a>)</td><td align="center">253.8 ± 0.7*</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%90%B4%E5%AE%B6%E5%9D%AA%E6%9C%9F">吴家坪期</a></td><td align="center">260.4 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%93%9C%E5%BE%B7%E9%B2%81%E6%99%AE%E4%B8%96">瓜德鲁普世</a></td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E5%8D%A1%E5%8C%B9%E6%95%A6%E9%98%B6&amp;action=edit&amp;redlink=1">卡匹敦阶</a></td><td align="center">265.8 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B2%83%E5%BE%B7%E6%9C%9F">沃德期/卡赞期</a></td><td align="center">268.4 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%BD%97%E5%BE%B7%E6%9C%9F">罗德期/乌非姆期</a></td><td align="center">270.6 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B9%8C%E6%8B%89%E5%B0%94%E4%B8%96">乌拉尔世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%A9%BA%E8%B0%B7%E5%B0%94%E6%9C%9F">空谷尔期</a></td><td align="center">275.6 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%BA%9A%E4%B8%81%E6%96%AF%E5%85%8B%E6%9C%9F">亚丁斯克期</a></td><td align="center">284.4 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%90%A8%E5%85%8B%E9%A9%AC%E5%B0%94%E6%9C%9F">萨克马尔期</a></td><td align="center">294.6 ± 0.8*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E7%91%9F%E5%B0%94%E6%9C%9F">阿瑟尔期</a></td><td align="center">299.0 ± 0.8*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%9F%B3%E7%82%AD%E7%BA%AA">石炭纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%B3%93%E5%A4%95%E6%B3%95%E5%B0%BC%E4%BA%9E%E4%B8%96">宾夕法尼亚世</a><strong>/</strong> 上石炭纪[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-carboniferous-8">8]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-%E4%B8%AD%E8%8F%AF%E7%99%BE%E7%A7%91%E5%85%A8%E6%9B%B8%E2%80%A7%E5%85%B8%E8%97%8F%E7%89%88-9">9]</a></td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E6%A0%BC%E7%83%AD%E5%B0%94%E6%9C%9F&amp;action=edit&amp;redlink=1">格热尔期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E7%BF%85%E4%BA%9E%E7%B6%B1">飞行的昆虫</a>突然显露，有一些昆虫(例如：<a href="https://zh.wikipedia.org/wiki/%E5%8E%9F%E8%9C%BB%E8%9C%93%E7%9B%AE">原蜻蜓目</a>Protodonata和<a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E7%B6%B2%E7%BF%85%E7%9B%AE">古网翅目</a>Palaeodictyoptera)大型化。<a href="https://zh.wikipedia.org/wiki/%E5%85%A9%E6%A3%B2%E5%8B%95%E7%89%A9">两栖动物</a>的种类变得多样化。首次出现<a href="https://zh.wikipedia.org/wiki/%E7%BE%8A%E8%86%9C%E5%8A%A8%E7%89%A9">羊膜动物</a>。这段期间，<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83">地球</a>上大气的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%90%AB%E6%B0%A7%E9%87%8F&amp;action=edit&amp;redlink=1">含氧量</a>是有史以来最高的。海洋有很丰富的<a href="https://zh.wikipedia.org/wiki/%E6%A3%B1%E8%8F%8A%E7%9F%B3%E7%9B%AE">棱菊石目</a>生物、<a href="https://zh.wikipedia.org/wiki/%E8%85%95%E8%B6%B3%E5%8A%A8%E7%89%A9%E9%97%A8">腕足动物</a>、<a href="https://zh.wikipedia.org/wiki/%E5%A4%96%E8%82%9B%E5%8A%A8%E7%89%A9%E9%97%A8">外肛动物门</a>(Bryozoa)、双壳类和<a href="https://zh.wikipedia.org/wiki/%E7%8F%8A%E7%91%9A">珊瑚</a>。有壳<a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E5%AD%94%E8%9F%B2%E9%96%80">有孔虫</a>激增。<a href="https://zh.wikipedia.org/wiki/%E4%B9%8C%E6%8B%89%E5%B0%94%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8">乌拉尔造山运动</a>发生在当时的<a href="https://zh.wikipedia.org/wiki/%E6%AD%90%E6%B4%B2">欧洲</a>和<a href="https://zh.wikipedia.org/wiki/%E4%BA%9E%E6%B4%B2">亚洲</a>。<a href="https://zh.wikipedia.org/w/index.php?title=%E6%B3%95%E5%88%A9%E6%96%AF%E8%91%9B%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">法利斯葛造山运动</a>大约发生在<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E8%A5%BF%E8%A5%BF%E6%AF%94%E7%B4%80">密西西比纪</a>的中期至晚期之间。</td><td align="center">303.7 ± 0.1</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E8%A5%BF%E8%8E%AB%E5%A4%AB%E6%9C%9F">卡西莫夫期</a></td><td align="center">307.0 ± 0.1</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%8E%AB%E6%96%AF%E7%A7%91%E6%9C%9F">莫斯科期</a></td><td align="center">315.2 ± 0.2</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B7%B4%E4%BB%80%E5%9F%BA%E5%B0%94%E6%9C%9F">巴什基尔期</a></td><td align="center">323.2 ± 0.4*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E8%A5%BF%E8%A5%BF%E6%AF%94%E4%B8%96">密西西比世</a><strong>/</strong> 下石炭纪[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-carboniferous-8">8]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-%E4%B8%AD%E8%8F%AF%E7%99%BE%E7%A7%91%E5%85%A8%E6%9B%B8%E2%80%A7%E5%85%B8%E8%97%8F%E7%89%88-9">9]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%B0%A2%E5%B0%94%E6%99%AE%E9%9C%8D%E5%A4%AB%E6%9C%9F">谢尔普霍夫期</a></td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E6%88%90%E7%85%A4%E6%A3%AE%E6%9E%97&amp;action=edit&amp;redlink=1">成煤森林</a>出现（例如：<a href="https://zh.wikipedia.org/wiki/%E9%B1%97%E6%9C%A8%E5%B1%AC">鳞木属</a>、<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E8%95%A8%E9%A1%9E">蕨类植物</a>、<a href="https://zh.wikipedia.org/wiki/%E5%B0%81%E5%8D%B0%E6%9C%A8%E5%B1%AC">封印木属</a>、<a href="https://zh.wikipedia.org/wiki/%E8%98%86%E6%9C%A8%E5%B1%AC">芦木属</a>和<a href="https://zh.wikipedia.org/wiki/%E7%A7%91%E9%81%94%E6%9C%A8%E5%B1%AC">科达木属</a>…等。）。<a href="https://zh.wikipedia.org/wiki/%E5%9B%9B%E8%B6%B3%E7%B1%BB">四足类</a>动物和两栖鲎类动物（如<a href="https://zh.wikipedia.org/wiki/%E5%B9%BF%E7%BF%85%E9%B2%8E">广翅鲎</a>，Euripterid）在成煤海岸边的一些咸水坑（<a href="https://zh.wikipedia.org/wiki/%E6%B1%BD%E6%B0%B4_(%E6%B0%B4%E5%9F%9F)">Brackish water</a>）附近生活。 此时占据主宰地位的大型掠食鱼类是<a href="https://zh.wikipedia.org/wiki/%E8%82%89%E9%B3%8D%E9%B1%BC">肉鳍鱼</a>中的根齿鱼。在大洋中，早期<a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E9%AA%A8%E9%B1%BC">软骨鱼</a>（<a href="https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%AA%A8%E9%AD%9A%E7%B6%B1">Chondrichthyes</a>，如鲨鱼）趋于常见并且呈多样化发展；<a href="https://zh.wikipedia.org/wiki/%E6%A3%98%E7%9A%AE%E5%8A%A8%E7%89%A9">棘皮动物</a>（尤其是<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E7%99%BE%E5%90%88">海百合</a>和<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E8%95%BE">海蕾</a>）繁荣兴盛。<a href="https://zh.wikipedia.org/wiki/%E7%8F%8A%E7%91%9A">珊瑚</a>，<a href="https://zh.wikipedia.org/wiki/%E5%A4%96%E8%82%9B%E5%8A%A8%E7%89%A9%E9%97%A8">外肛门</a>动物，<a href="https://zh.wikipedia.org/wiki/%E6%A3%B1%E8%8F%8A%E7%9F%B3%E7%9B%AE">棱菊石目</a>动物和<a href="https://zh.wikipedia.org/wiki/%E8%85%95%E8%B6%B3%E5%8A%A8%E7%89%A9%E9%97%A8">腕足门</a>动物（如<a href="https://zh.wikipedia.org/w/index.php?title=%E9%95%BF%E8%BA%AB%E8%B4%9D&amp;action=edit&amp;redlink=1">长身贝</a>–productida、<a href="https://zh.wikipedia.org/w/index.php?title=%E7%9F%B3%E7%87%95%E8%B4%9D&amp;action=edit&amp;redlink=1">石燕贝</a>–spiriferida 等）已经十分常见，与鱿鱼相似的<a href="https://zh.wikipedia.org/wiki/%E8%9B%B8%E4%BA%9E%E7%B6%B1">蛸亚纲</a>动物也于此时出现，但是<a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E5%8F%B6%E8%99%AB">三叶虫</a>和<a href="https://zh.wikipedia.org/wiki/%E9%B9%A6%E9%B9%89%E8%9E%BA">鹦鹉螺</a>渐趋衰落。在下石炭纪时期<a href="https://zh.wikipedia.org/wiki/%E5%86%88%E7%93%A6%E9%82%A3%E5%A4%A7%E9%99%86">冈瓦那大陆</a>东部开始进入冰川时期。位于新西兰北部的<a href="https://zh.wikipedia.org/wiki/%E9%A6%AC%E7%B4%84%E7%88%BE%E5%B3%B6">马约尔岛</a><a href="https://zh.wikipedia.org/wiki/%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">造山运动</a>（<a href="https://zh.wikipedia.org/wiki/%E9%A6%AC%E7%B4%84%E7%88%BE%E5%B3%B6">Mayor Island / Tuhua</a><a href="https://zh.wikipedia.org/wiki/%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">orogeny</a>）进入尾声。</td><td align="center">330.9 ± 0.2</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%BB%B4%E5%AE%AA%E6%9C%9F">维宪期</a></td><td align="center">346.7 ± 0.4*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E5%9B%BE%E5%B0%94%E5%A5%88%E6%9C%9F&amp;action=edit&amp;redlink=1">图尔奈期</a></td><td align="center">358.9 ± 0.4*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B3%A5%E7%9B%86%E7%BA%AA">泥盆纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B3%A5%E7%9B%86%E7%BA%AA#%E6%99%9A%E6%B3%A5%E7%9B%86%E4%B8%96">晚泥盆世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B3%95%E9%97%A8%E6%9C%9F">法门期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%9F%B3%E6%9D%BE%E9%97%A8">石松门</a>植物、<a href="https://zh.wikipedia.org/wiki/%E6%9C%A8%E8%B4%BC%E7%9B%AE">木贼目</a>植物和<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E8%95%A8%E9%A1%9E">蕨类植物</a>繁荣。同期现形的还有第一批生产种子的植物（<a href="https://zh.wikipedia.org/wiki/%E5%89%8D%E8%A3%B8%E5%AD%90%E6%A4%8D%E7%89%A9%E9%96%80">前裸子植物门</a>）,第一批树木 ( <em><a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E8%95%A8%E5%B1%AC">古蕨属</a></em>)，以及第一批（无翼）<a href="https://zh.wikipedia.org/wiki/%E6%98%86%E8%99%AB">昆虫</a>出现。 海洋中大量出现<a href="https://zh.wikipedia.org/w/index.php?title=%E6%89%AD%E6%9C%88%E8%B4%9D&amp;action=edit&amp;redlink=1">扭月贝</a>、<a href="https://zh.wikipedia.org/wiki/%E8%85%95%E8%B6%B3%E5%8A%A8%E7%89%A9%E9%97%A8">腕足动物</a><a href="https://zh.wikipedia.org/wiki/%E6%97%A0%E6%B4%9E%E8%B4%9D%E7%9B%AE">无洞贝</a>、 <a href="https://zh.wikipedia.org/w/index.php?title=%E7%9A%B1%E7%8F%8A%E7%91%9A&amp;action=edit&amp;redlink=1">皱珊瑚</a>、<a href="https://zh.wikipedia.org/w/index.php?title=%E5%BA%8A%E6%9D%BF%E7%8F%8A%E7%91%9A&amp;action=edit&amp;redlink=1">床板珊瑚</a>和<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E7%99%BE%E5%90%88">海百合</a>。<a href="https://zh.wikipedia.org/wiki/%E8%8F%8A%E7%9F%B3">菊石亚纲</a>出现并大量富集。三叶虫、板足鲎和甲胄鱼类数量锐减，为在此时期统治海洋的有颔下门鱼类（<a href="https://zh.wikipedia.org/wiki/%E7%9B%BE%E7%9A%AE%E9%B1%BC">盾皮鱼</a>、<a href="https://zh.wikipedia.org/wiki/%E8%82%89%E9%B3%8D%E9%B1%BC">肉鳍鱼</a>、<a href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E9%AA%A8%E9%B1%BC">硬骨鱼</a>，和早期<a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E9%AA%A8%E9%B1%BC%E7%BA%B2">鲨鱼</a>）让了道。最初的<a href="https://zh.wikipedia.org/wiki/%E4%B8%A4%E6%A0%96%E5%8A%A8%E7%89%A9">两栖动物</a>依然生活在水中。被称为“老红砂岩大陆”的<a href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E7%BE%8E%E5%A4%A7%E9%99%86">欧美大陆</a>形成。诞生了<a href="https://zh.wikipedia.org/wiki/%E5%8C%97%E9%9D%9E">北非</a><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E7%89%B9%E6%8B%89%E6%96%AF%E5%B1%B1%E8%84%88">小阿特拉斯山脉</a>和<a href="https://zh.wikipedia.org/wiki/%E5%8C%97%E7%BE%8E%E5%9C%B0%E5%8C%BA">北美</a><a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%B7%B4%E6%8B%89%E5%A5%91%E4%BA%9A%E5%B1%B1%E8%84%89">阿巴拉契亚山脉</a>的<a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%8D%A1%E8%BF%AA%E4%BA%9A%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8">阿卡迪亚造山运动</a>此时开始。此时还在进行的有<a href="https://zh.wikipedia.org/w/index.php?title=%E5%AE%89%E7%89%B9%E5%8B%92%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8&amp;action=edit&amp;redlink=1">安特勒造山运动</a>、<a href="https://zh.wikipedia.org/wiki/%E5%8D%8E%E5%8A%9B%E8%A5%BF%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8">华力西造山运动</a>和新西兰的马约尔岛造山运动。</td><td align="center">372.2 ± 1.6*</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%BC%97%E6%8B%89%E6%96%AF%E6%9C%9F">弗拉斯期</a></td><td align="center">382.7 ± 1.6*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B3%A5%E7%9B%86%E7%BA%AA#%E4%B8%AD%E6%B3%A5%E7%9B%86%E4%B8%96">中泥盆世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%90%89%E7%BB%B4%E7%89%B9%E6%9C%9F">吉维特期</a></td><td align="center">387.7 ± 0.8*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%89%BE%E8%8F%B2%E5%B0%94%E6%9C%9F">艾菲尔期</a></td><td align="center">393.3 ± 1.2*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B3%A5%E7%9B%86%E7%BA%AA#%E6%97%A9%E6%B3%A5%E7%9B%86%E4%B8%96">早泥盆世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9F%83%E5%A7%86%E6%96%AF%E6%9C%9F">埃姆斯期</a></td><td align="center">407.6 ± 2.6*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B8%83%E6%8B%89%E6%A0%BC%E6%9C%9F">布拉格期</a></td><td align="center">410.8 ± 2.8*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B4%9B%E8%B5%AB%E7%A7%91%E5%A4%AB%E6%9C%9F">洛赫科夫期</a></td><td align="center">419.2 ± 3.2*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%BF%97%E7%95%99%E7%BA%AA">志留纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%99%AE%E9%87%8C%E9%81%93%E5%88%A9%E4%B8%96">普里道利世</a></td><td align="center"><em>无生物划分阶</em></td><td align="center">最早<a href="https://zh.wikipedia.org/wiki/%E7%BB%B4%E7%AE%A1%E6%A4%8D%E7%89%A9">维管植物</a>（the <a href="https://zh.wikipedia.org/w/index.php?title=Rhyniophytes&amp;action=edit&amp;redlink=1">rhyniophytes</a> ），陆地上的第一个<a href="https://zh.wikipedia.org/wiki/%E5%80%8D%E8%B6%B3%E7%B6%B1">倍足纲</a>和<a href="https://zh.wikipedia.org/wiki/%E7%AF%80%E8%83%B8%E5%B1%AC">节胸属</a>。 <a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E9%A2%94%E4%B8%8B%E9%97%A8">有颔下门</a>，以及许多有甲无颚鱼<a href="https://zh.wikipedia.org/wiki/%E7%84%A1%E9%A0%9C%E7%B8%BD%E7%B6%B1">无颌总纲</a>的<a href="https://zh.wikipedia.org/wiki/%E7%94%B2%E5%86%91%E9%AD%9A">甲胄鱼</a> 生活在海洋中。 <a href="https://zh.wikipedia.org/wiki/%E5%B9%BF%E7%BF%85%E9%B2%8E">广翅鲎</a>的体型很大。 <a href="https://zh.wikipedia.org/w/index.php?title=%E6%9D%BF%E7%8A%B6%E7%8F%8A%E7%91%9A&amp;action=edit&amp;redlink=1">Tabulate</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E7%9A%B1%E7%BA%B9%E7%8F%8A%E7%91%9A&amp;action=edit&amp;redlink=1">rugose</a>、腕足类动物<a href="https://zh.wikipedia.org/wiki/%E8%85%95%E8%B6%B3%E5%8A%A8%E7%89%A9%E9%97%A8">腕足动物门</a>（五足类、<a href="https://zh.wikipedia.org/wiki/%E5%B0%8F%E5%98%B4%E8%B4%9D%E7%9B%AE">小嘴贝目</a>等）和<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E7%99%BE%E5%90%88">海百合</a>都丰富。 <a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E8%91%89%E8%9F%B2">三叶虫</a>和<a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BD%93%E5%8A%A8%E7%89%A9">软体动物</a>多样； <a href="https://zh.wikipedia.org/wiki/%E7%AD%86%E7%9F%B3">笔石</a>没有那么多样。 英格兰、爱尔兰、威尔士、苏格兰和斯堪的纳维亚山脉<a href="https://zh.wikipedia.org/wiki/%E6%96%AF%E5%A0%AA%E7%9A%84%E7%BA%B3%E7%BB%B4%E4%BA%9A%E5%B1%B1%E8%84%89">斯堪的纳维亚山脉</a>丘陵的喀里多尼亚造山运动<a href="https://zh.wikipedia.org/wiki/%E5%8A%A0%E9%87%8C%E6%9D%B1%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">加里东造山运动</a>的开始。 也延续到泥盆纪作为<a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E5%8D%A1%E8%BF%AA%E4%BA%9E%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">阿卡迪亚造山运动</a>。如上所述 <a href="https://zh.wikipedia.org/w/index.php?title=Taconic_Orogeny&amp;action=edit&amp;redlink=1">Taconic Orogeny</a>逐渐减少。 <a href="https://zh.wikipedia.org/wiki/%E6%BE%B3%E5%A4%A7%E5%88%A9%E4%BA%9E%E6%B4%B2">澳大利亚大陆</a>上的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%8B%89%E5%85%8B%E5%85%B0%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8&amp;action=edit&amp;redlink=1">Lachlan Orogeny</a>则逐渐减弱。</td><td align="center">423.0 ± 2.3*</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%BE%85%E5%BE%B7%E6%B4%9B%E4%B8%96">罗德洛世</a>/<a href="https://zh.wikipedia.org/w/index.php?title=%E5%8D%A1%E5%B0%A4%E5%8A%A0%E4%B8%96&amp;action=edit&amp;redlink=1">卡尤加世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8D%A2%E5%BE%B7%E7%A6%8F%E5%BE%B7%E6%9C%9F">卢德福德期</a></td><td align="center">425.6 ± 0.9*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%88%88%E6%96%AF%E7%89%B9%E6%9C%9F">戈斯特期</a></td><td align="center">427.4 ± 0.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%96%87%E6%B4%9B%E5%85%8B%E4%B8%96">文洛克世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%BE%AF%E9%BB%98%E6%9C%9F">侯默期</a>/<a href="https://zh.wikipedia.org/w/index.php?title=%E6%B4%9B%E5%85%8B%E6%B3%A2%E7%89%B9%E6%9C%9F&amp;action=edit&amp;redlink=1">洛克波特期</a></td><td align="center">430.5 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%94%B3%E4%BC%8D%E5%BE%B7%E6%9C%9F">申伍德期</a>/<a href="https://zh.wikipedia.org/w/index.php?title=%E6%89%98%E7%BA%B3%E6%97%BA%E8%BE%BE%E6%9C%9F&amp;action=edit&amp;redlink=1">托纳旺达期</a></td><td align="center">433.4 ± 0.8*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%85%B0%E5%A4%9A%E7%BB%B4%E5%88%97%E4%B8%96">兰多维列世</a>/ <a href="https://zh.wikipedia.org/wiki/%E5%85%B0%E5%A4%9A%E7%BB%B4%E5%88%97%E4%B8%96">亚历山大世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%89%B9%E5%88%97%E5%A5%87%E6%9C%9F">特列奇期</a>/<a href="https://zh.wikipedia.org/w/index.php?title=%E5%AE%89%E5%A4%A7%E7%95%A5%E6%9C%9F&amp;action=edit&amp;redlink=1">安大略期</a></td><td align="center">438.5 ± 1.1*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E7%88%B1%E9%9A%86%E6%9C%9F&amp;action=edit&amp;redlink=1">爱隆期</a></td><td align="center">440.8 ± 1.2*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%B2%81%E4%B8%B9%E6%9C%9F">鲁丹期</a></td><td align="center">443.4 ± 1.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A5%A5%E9%99%B6%E7%BA%AA">奥陶纪</a></td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E6%99%9A%E5%A5%A5%E9%99%B6%E4%B8%96&amp;action=edit&amp;redlink=1">晚奥陶世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%B5%AB%E5%8D%97%E7%89%B9%E6%9C%9F">赫南特期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%97%A0%E8%84%8A%E6%A4%8E%E5%8A%A8%E7%89%A9">无脊椎动物</a>多样化演进为为许多新的类型（如长直壳的头足类）。早期<a href="https://zh.wikipedia.org/wiki/%E7%8F%8A%E7%91%9A">珊瑚</a>、有节<a href="https://zh.wikipedia.org/wiki/%E8%85%95%E8%B6%B3%E5%8A%A8%E7%89%A9%E9%97%A8">腕足类</a>（<a href="https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%BD%A2%E8%B4%9D%E7%9B%AE">正形贝</a>、<a href="https://zh.wikipedia.org/w/index.php?title=%E6%89%AD%E6%9C%88%E8%B2%9D%E7%9B%AE&amp;action=edit&amp;redlink=1">扭月贝</a>等）、<a href="https://zh.wikipedia.org/wiki/%E9%9B%99%E6%AE%BC%E9%A1%9E">双壳类</a>、<a href="https://zh.wikipedia.org/wiki/%E9%B9%A6%E9%B9%89%E8%9E%BA%E4%BA%9A%E7%BA%B2">鹦鹉螺类</a>、<a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E8%91%89%E8%9F%B2">三叶虫类</a>、<a href="https://zh.wikipedia.org/wiki/%E4%BB%8B%E5%BD%A2%E7%B6%B1">介形虫</a>、<a href="https://zh.wikipedia.org/wiki/%E5%A4%96%E8%82%9B%E5%8A%A8%E7%89%A9%E9%97%A8">苔藓虫</a>、多种<a href="https://zh.wikipedia.org/wiki/%E6%A3%98%E7%9A%AE%E5%8B%95%E7%89%A9">棘皮动物</a>（<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E7%99%BE%E5%90%88">海百合</a>、<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E6%9E%97%E6%AA%8E">海林檎</a>、<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E6%98%9F">海星</a>等）、枝状<a href="https://zh.wikipedia.org/wiki/%E7%AD%86%E7%9F%B3">笔石</a>以及其他相关分类群都很常见。<a href="https://zh.wikipedia.org/wiki/%E7%89%99%E5%BD%A2%E7%9F%B3">牙形虫</a>（早期<a href="https://zh.wikipedia.org/wiki/%E6%B5%AE%E6%B8%B8%E7%94%9F%E7%89%A9">浮游</a><a href="https://zh.wikipedia.org/wiki/%E8%84%8A%E6%A4%8E%E5%8B%95%E7%89%A9">脊椎动物</a>）出现。陆地上出现第一批<a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E8%83%9A%E6%A4%8D%E7%89%A9">绿色植物</a>和<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E8%8F%8C">真菌</a>。冰河期结束。</td><td align="center">445.2 ± 1.4*</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%87%AF%E8%BF%AA%E6%9C%9F">凯迪期</a></td><td align="center">453.0 ± 0.7*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%A1%91%E6%AF%94%E6%9C%9F">桑比期</a></td><td align="center">458.4 ± 0.9*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E4%B8%AD%E5%A5%A5%E9%99%B6%E4%B8%96&amp;action=edit&amp;redlink=1">中奥陶世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%BE%BE%E7%91%9E%E5%A8%81%E5%B0%94%E6%9C%9F">达瑞威尔期</a></td><td align="center">467.3 ± 1.1*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E5%9D%AA%E6%9C%9F">大坪期</a></td><td align="center">470.0 ± 1.4*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E6%97%A9%E5%A5%A5%E9%99%B6%E4%B8%96&amp;action=edit&amp;redlink=1">早奥陶世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%BC%97%E6%B4%9B%E6%9C%9F">弗洛期</a> (formerly <a href="https://zh.wikipedia.org/w/index.php?title=Arenig&amp;action=edit&amp;redlink=1">Arenig</a>)</td><td align="center">477.7 ± 1.4*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%89%B9%E9%A9%AC%E8%B1%86%E5%85%8B%E6%9C%9F">特马豆克期</a></td><td align="center">485.4 ± 1.9*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AF%92%E6%AD%A6%E7%BA%AA">寒武纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%8A%99%E8%93%89%E4%B8%96">芙蓉世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AF%92%E6%AD%A6%E7%BA%AA%E7%AC%AC%E5%8D%81%E6%9C%9F">第十期</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AF%92%E6%AD%A6%E7%BA%AA%E5%A4%A7%E7%88%86%E5%8F%91">寒武纪大爆发</a>中，生物的多样性爆发式的发展。出现了大多数现代动物的许多化石。出现了首种脊索动物以及一些存疑的，已经灭绝了的门类。大量制造生物礁的古杯动物出现，后灭绝。<a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E5%8F%B6%E8%99%AB">三叶虫</a>，鳃曳动物门，海绵，无铰纲(腕足动物门)和恐虾类繁盛。首位掠食者奇虾出现，而许多埃迪卡拉生物群灭绝。<a href="https://zh.wikipedia.org/wiki/%E5%8E%9F%E6%A0%B8%E7%94%9F%E7%89%A9">原核生物</a>，<a href="https://zh.wikipedia.org/wiki/%E5%8E%9F%E7%94%9F%E7%94%9F%E7%89%A9">原生生物</a>（例如forams），<a href="https://zh.wikipedia.org/wiki/%E8%97%BB%E7%B1%BB">藻类</a>继续存在。<a href="https://zh.wikipedia.org/wiki/%E5%86%88%E7%93%A6%E7%BA%B3%E5%A4%A7%E9%99%86">冈瓦纳大陆</a>出现。澳大利亚大陆Petermann造山运动减弱 (550–535 Ma)，南极洲罗斯造山运动，阿德莱德地槽(Delamerian造山运动)等一系列造山运动发生于514–500 Ma。 540–440 Ma间澳大利亚大陆Lachlan造山运动。 大气中二氧化碳含量约为现今（全新世）水平的20-35倍（6000 ppmv，现今为385 ppmv）[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-atmospheric-carbon-dioxide-6">6]</a></td><td align="center">c. 489.5</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%B1%9F%E5%B1%B1%E6%9C%9F">江山期</a></td><td align="center">c. 494*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%8E%92%E7%A2%A7%E6%9C%9F">排碧期</a></td><td align="center">c. 497*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E4%B8%AD%E5%AF%92%E6%AD%A6%E4%B8%96&amp;action=edit&amp;redlink=1">第三世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E4%B8%88%E6%9C%9F">古丈期</a></td><td align="center">c. 500.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%BC%93%E5%B1%B1%E6%9C%9F">鼓山期</a></td><td align="center">c. 504.5*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B9%8C%E6%BA%9C%E6%9C%9F">乌溜期</a></td><td align="center">c. 509</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=%E4%B8%AD%E5%AF%92%E6%AD%A6%E4%B8%96&amp;action=edit&amp;redlink=1">第二世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AF%92%E6%AD%A6%E7%BA%AA%E7%AC%AC%E5%9B%9B%E6%9C%9F">第四期</a></td><td align="center">c. 514</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AF%92%E6%AD%A6%E7%BA%AA%E7%AC%AC%E4%B8%89%E6%9C%9F">第三期</a></td><td align="center">c. 521</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%BA%BD%E8%8A%AC%E5%85%B0%E4%B8%96">纽芬兰世</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%AF%92%E6%AD%A6%E7%BA%AA%E7%AC%AC%E4%BA%8C%E6%9C%9F">第二期</a></td><td align="center">c. 529</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B9%B8%E8%BF%90%E6%9C%9F">幸运期</a></td><td align="center">541.0 ± 1.0*</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%89%8D%E5%AF%92%E6%AD%A6%E7%BA%AA">前寒武纪</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-aka-cryptozoic-10">10]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%85%83%E5%8F%A4%E5%AE%99">元古宙</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%96%B0%E5%85%83%E5%8F%A4%E4%BB%A3">新元古代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9F%83%E8%BF%AA%E5%8D%A1%E6%8B%89%E7%BA%AA">埃迪卡拉纪</a></td><td align="center">第一批<a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E7%B4%B0%E8%83%9E%E5%8B%95%E7%89%A9">多细胞动物</a>的良好<a href="https://zh.wikipedia.org/wiki/%E5%8C%96%E7%9F%B3">化石</a>。<a href="https://zh.wikipedia.org/wiki/%E5%9F%83%E8%BF%AA%E5%8D%A1%E6%8B%89%E7%94%9F%E7%89%A9%E7%BE%A4">埃迪卡拉生物群</a>在世界各地的海洋中蓬勃发展。可能是蠕虫类的简单<a href="https://zh.wikipedia.org/wiki/%E9%81%97%E8%BF%B9%E5%8C%96%E7%9F%B3">遗迹化石</a>，如Trichophycus等。第一批<a href="https://zh.wikipedia.org/wiki/%E6%B5%B7%E7%BB%B5%E5%8A%A8%E7%89%A9">海绵动物</a>和<a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E8%91%89%E8%9F%B2">三叶虫</a>。一些外型神秘的生物包括许多状像袋子、圆盘或棉被的软体生物（如<a href="https://zh.wikipedia.org/wiki/%E7%8B%84%E6%9B%B4%E9%81%9C%E6%B0%B4%E6%AF%8D">狄更逊水母</a>）。北美的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%A1%94%E7%A7%91%E5%B0%BC%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">塔科尼造山运动</a>。<a href="https://zh.wikipedia.org/wiki/%E5%8D%B0%E5%BA%A6%E6%AC%A1%E5%A4%A7%E9%99%B8">印度次大陆</a>的<a href="https://zh.wikipedia.org/wiki/%E9%98%BF%E6%8B%89%E7%93%A6%E5%88%A9%E5%B6%BA">阿拉瓦利岭</a>造山运动。澳大利亚大陆上的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%BD%BC%E5%BE%97%E6%9B%BC%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">彼得曼造山运动</a>的开始。南极洲的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%AF%94%E7%88%BE%E5%BE%B7%E6%91%A9%E7%88%BE%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">比尔德摩尔造山运动</a>（633-620Ma）。</td><td align="center">630 +5/-30*</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%88%90%E5%86%B0%E7%BA%AA">成冰纪</a></td><td align="center">可能为”<a href="https://zh.wikipedia.org/wiki/%E9%9B%AA%E7%90%83%E5%9C%B0%E7%90%83">雪球地球</a>“的周期之一， <a href="https://zh.wikipedia.org/wiki/%E5%8C%96%E7%9F%B3">化石</a>的纪录依然稀少。 <a href="https://zh.wikipedia.org/wiki/%E7%BE%85%E8%BF%AA%E5%B0%BC%E4%BA%9E%E5%A4%A7%E9%99%B8">罗迪尼亚大陆</a>开始分裂。南极洲的晚期鲁克/宁录造山运动逐渐减弱。</td><td align="center">850[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%8B%89%E4%BC%B8%E7%BA%AA">拉伸纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%BE%85%E8%BF%AA%E5%B0%BC%E4%BA%9E%E5%A4%A7%E9%99%B8">罗迪尼亚大陆</a>依然存在。此时期有<a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E7%B4%B0%E8%83%9E">多细胞</a><a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E6%A0%B8%E7%94%9F%E7%89%A9">真核生物</a>存在的<a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E7%97%95%E5%8C%96%E7%9F%B3">痕迹</a>。<a href="https://zh.wikipedia.org/w/index.php?title=%E7%94%B2%E8%97%BB%E9%A1%9E&amp;action=edit&amp;redlink=1">甲藻类</a>生物首次呈现辐射状，例如<a href="https://zh.wikipedia.org/wiki/%E7%96%91%E6%BA%90%E7%B1%BB">疑源类</a>。北美洲的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%A0%BC%E5%80%AB%E7%B6%AD%E7%88%BE%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">格伦维尔造山运动</a>逐渐减弱。非洲的<a href="https://zh.wikipedia.org/wiki/%E6%B3%9B%E9%9D%9E%E9%80%A0%E5%B1%B1%E8%BF%90%E5%8A%A8">泛非造山运动</a>。南极洲的晚期鲁克/宁录造山运动（1000±150 Ma）。西澳大利亚<a href="https://zh.wikipedia.org/w/index.php?title=%E8%93%8B%E6%96%AF%E7%A7%91%E5%9B%A0%E8%A4%87%E5%90%88%E9%AB%94&amp;action=edit&amp;redlink=1">盖斯科因复合体</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E8%89%BE%E5%BE%B7%E8%92%99%E8%BF%AA%E6%81%A9%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">艾德蒙迪恩造山运动</a>（约920－850 Ma）。澳大利亚大陆的<a href="https://zh.wikipedia.org/w/index.php?title=%E9%98%BF%E5%BE%97%E9%9B%B7%E5%BE%B7%E8%B6%85%E7%B4%9A%E7%9B%86%E5%9C%B0&amp;action=edit&amp;redlink=1">阿得雷德超级盆地</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E4%B8%AD%E6%BE%B3%E5%A4%A7%E5%88%A9%E4%BA%9E%E8%B6%85%E7%B4%9A%E7%9B%86%E5%9C%B0&amp;action=edit&amp;redlink=1">中澳大利亚超级盆地</a>开始沉积。</td><td align="center">1000[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%85%83%E5%8F%A4%E4%BB%A3">中元古代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%8B%AD%E5%B8%A6%E7%BA%AA">狭带纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E8%AE%8A%E8%B3%AA%E5%B2%A9">变质岩</a>狭带因<a href="https://zh.wikipedia.org/wiki/%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95">造山运动</a>而使得<a href="https://zh.wikipedia.org/wiki/%E7%BE%85%E8%BF%AA%E5%B0%BC%E4%BA%9E%E5%A4%A7%E9%99%B8">罗迪尼亚大陆</a>形成。<a href="https://zh.wikipedia.org/w/index.php?title=%E7%91%9E%E5%85%B8%E6%8C%AA%E5%A8%81%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">瑞典挪威造山运动</a>开始。南极洲的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%99%9A%E6%9C%9F%E9%AD%AF%E5%85%8B%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">晚期鲁克/宁录造山运动</a>可能开始。澳大利亚中部<a href="https://zh.wikipedia.org/w/index.php?title=%E7%A9%86%E6%96%AF%E6%A0%BC%E9%9B%B7%E5%A4%AB%E5%9C%B0%E5%A1%8A&amp;action=edit&amp;redlink=1">穆斯格雷夫地块</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E7%A9%86%E6%96%AF%E6%A0%BC%E9%9B%B7%E5%A4%AB%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">穆斯格雷夫造山运动</a>（约1080 <a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>）。</td><td align="center">1200[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%BB%B6%E5%B1%95%E7%BA%AA">延展纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E5%8F%B0">地台</a>持续扩张。<a href="https://zh.wikipedia.org/wiki/%E7%B6%A0%E8%97%BB">绿藻</a><a href="https://zh.wikipedia.org/wiki/%E8%8F%8C%E8%90%BD">菌落</a>出现在海中。北美洲的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%A0%BC%E5%80%AB%E7%B6%AD%E7%88%BE%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">格伦维尔造山运动</a>。</td><td align="center">1400[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%9B%96%E5%B1%82%E7%BA%AA">盖层纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E5%8F%B0">地台</a>扩张。澳大利亚北部<a href="https://zh.wikipedia.org/w/index.php?title=%E9%BA%A5%E5%85%8B%E9%98%BF%E7%91%9F%E7%9B%86%E5%9C%B0&amp;action=edit&amp;redlink=1">麦克阿瑟盆地</a>的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%B7%B4%E6%8B%89%E8%92%99%E8%BF%AA%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">巴拉蒙迪造山运动</a>。昆士兰伊萨山地块的<a href="https://zh.wikipedia.org/w/index.php?title=%E4%BC%8A%E8%96%A9%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">伊萨造山运动</a>（约1600 <a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>）。</td><td align="center">1600[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E5%85%83%E5%8F%A4%E4%BB%A3">古元古代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9B%BA%E7%BB%93%E7%BA%AA">固结纪</a></td><td align="center">第一个<a href="https://zh.wikipedia.org/wiki/%E7%9C%9F%E6%A0%B8%E7%94%9F%E7%89%A9">复杂单细胞生命形态</a>的出现：拥有<a href="https://zh.wikipedia.org/wiki/%E7%B4%B0%E8%83%9E%E6%A0%B8">细胞核</a>的<a href="https://zh.wikipedia.org/wiki/%E5%8E%9F%E7%94%9F%E7%94%9F%E7%89%A9">原生生物</a>。<a href="https://zh.wikipedia.org/wiki/%E5%93%A5%E5%80%AB%E6%AF%94%E4%BA%9E%E5%A4%A7%E9%99%B8">哥伦比亚</a>形成原始的超大陆。澳大利亚大陆的金班造山运动结束。澳大利亚大陆西部伊尔加恩安定地块的<a href="https://zh.wikipedia.org/w/index.php?title=%E9%9B%85%E8%B1%90%E5%8F%A4%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">雅丰古造山运动</a>。澳大利亚大陆西部加斯科因复合体的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%9B%BC%E5%8A%A0%E5%80%AB%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">曼加伦造山运动</a>（1680-1620 Ma）。南澳大利亚高勒安定地块的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%8D%A1%E6%8B%89%E8%98%AD%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">卡拉兰造山运动</a>（1650 Ma）。</td><td align="center">1800[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%80%A0%E5%B1%B1%E7%BA%AA">造山纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E5%A4%A7%E6%B0%A3%E5%B1%A4">地球大气层</a>开始拥有<a href="https://zh.wikipedia.org/wiki/%E6%B0%A7%E6%B0%A3">氧气</a>。<a href="https://zh.wikipedia.org/wiki/%E5%BC%97%E9%87%8C%E5%BE%B7%E5%A0%A1%E9%9A%95%E7%9F%B3%E5%9D%91">弗里德堡</a>和<a href="https://zh.wikipedia.org/wiki/%E7%B4%A2%E5%BE%B7%E6%9F%8F%E7%AB%8B%E7%9B%86%E5%9C%B0">索德柏立盆地</a>有小行星撞击地球。造山运动多。北美的<a href="https://zh.wikipedia.org/w/index.php?title=%E4%BD%A9%E8%AB%BE%E5%85%8B%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">佩诺克造山运动</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E8%B7%A8%E5%93%88%E5%BE%97%E5%AD%AB%E9%80%A0%E5%B1%B1%E9%81%8B%E5%8B%95&amp;action=edit&amp;redlink=1">跨哈得孙造山运动</a>。南极洲的早期鲁克造山运动（2000－1700 Ma）。<a href="https://zh.wikipedia.org/wiki/%E6%BE%B3%E5%A4%A7%E5%88%A9%E4%BA%9A%E5%A4%A7%E9%99%86">澳大利亚大陆</a>西部的格伦堡造山运动（约2005–1920 Ma）。澳大利亚大陆南部的金班造山运动开始。</td><td align="center">2050[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%B1%82%E4%BE%B5%E7%BA%AA">层侵纪</a></td><td align="center">地球在成铁纪和层侵纪之间进入<a href="https://zh.wikipedia.org/wiki/%E4%BC%91%E4%BC%A6%E5%86%B0%E6%B2%B3%E6%97%B6%E6%9C%9F">休伦冰河时期</a>（Huronian / Makganyene glaciation）。布什维尔德<a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E7%81%AB%E6%88%90%E5%B2%A9%E7%9C%81">大火成岩省</a>的杂岩（Bushveld Igneous Complex）形成。</td><td align="center">2300[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%88%90%E9%93%81%E7%BA%AA">成铁纪</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E6%B0%A7%E5%8C%96%E4%BA%8B%E4%BB%B6">大氧化事件</a>: <a href="https://zh.wikipedia.org/wiki/%E6%9D%A1%E7%8A%B6%E9%93%81%E5%B1%82">条状铁层</a>形成。在<a href="https://zh.wikipedia.org/wiki/%E6%BE%B3%E5%A4%A7%E5%88%A9%E4%BA%9E%E6%B4%B2">澳大利亚洲</a>，<a href="https://zh.wikipedia.org/w/index.php?title=%E6%A0%BC%E5%8B%9E%E7%88%BE%E5%85%8B%E6%8B%89%E9%80%9A&amp;action=edit&amp;redlink=1">格劳尔克拉通</a>发生斯利福德造山运动2440–2420 <a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>。</td><td align="center">2500[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A4%AA%E5%8F%A4%E5%AE%99">太古宙</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E6%96%B0%E5%A4%AA%E5%8F%A4%E4%BB%A3">新太古代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center">大部分当今的<a href="https://zh.wikipedia.org/wiki/%E5%85%8B%E6%8B%89%E9%80%9A">克拉通</a>趋于稳定；可能发生<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E5%B9%94">地幔</a>翻涌事件。南极洲Insell造山运动, 2650 ± 150 <a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>。在现在的<a href="https://zh.wikipedia.org/wiki/%E5%AE%89%E5%A4%A7%E7%95%A5%E7%9C%81">安大略</a>和<a href="https://zh.wikipedia.org/wiki/%E9%AD%81%E5%8C%97%E5%85%8B%E7%9C%81">魁北克</a>地区，<a href="https://zh.wikipedia.org/w/index.php?title=%E9%98%BF%E6%AF%94%E8%92%82%E6%AF%94%E7%B6%A0%E5%B2%A9%E5%B8%B6&amp;action=edit&amp;redlink=1">阿比蒂比绿岩带</a>开始形成，并于2600<a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>稳定下来。</td><td align="center">2800[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%A4%AA%E5%8F%A4%E4%BB%A3">中太古代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center">最早的<a href="https://zh.wikipedia.org/wiki/%E7%96%8A%E5%B1%A4%E7%9F%B3">叠层石</a>（大约由<a href="https://zh.wikipedia.org/wiki/%E8%97%8D%E8%8F%8C%E9%96%80">蓝菌</a><a href="https://zh.wikipedia.org/wiki/%E8%8F%8C%E8%90%BD">菌落</a>形成）。最早的<a href="https://zh.wikipedia.org/w/index.php?title=Macrofossil&amp;action=edit&amp;redlink=1">宏化石</a>. 南极洲<a href="https://zh.wikipedia.org/wiki/%E6%B4%AA%E5%A0%A1%E5%B1%B1%E8%84%88">洪堡山脉</a>造山运动。 在现在的<a href="https://zh.wikipedia.org/wiki/%E5%AE%89%E5%A4%A7%E7%95%A5%E7%9C%81">安大略省</a>和<a href="https://zh.wikipedia.org/wiki/%E9%AD%81%E5%8C%97%E5%85%8B%E7%9C%81">魁北克省</a>，<a href="https://zh.wikipedia.org/w/index.php?title=%E5%B8%83%E9%9B%B7%E5%85%8B%E6%B2%B3%E5%B7%A8%E5%9E%8B%E7%81%AB%E5%B1%B1%E5%8F%A3%E8%A4%87%E5%90%88%E9%AB%94&amp;action=edit&amp;redlink=1">布雷克河巨型火山口复合体</a>开始形成，并持续至大约2696<a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>。</td><td align="center">3200[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E5%A4%AA%E5%8F%A4%E4%BB%A3">古太古代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center">已知最早的<a href="https://zh.wikipedia.org/wiki/%E5%85%89%E5%85%BB%E7%94%9F%E7%89%A9">产氧</a><a href="https://zh.wikipedia.org/wiki/%E7%BB%86%E8%8F%8C">细菌</a>。最早的 (确认) <a href="https://zh.wikipedia.org/wiki/%E5%BE%AE%E4%BD%93%E5%8F%A4%E7%94%9F%E7%89%A9%E5%AD%A6">微化石</a>。现存最古老的<a href="https://zh.wikipedia.org/wiki/%E5%85%8B%E6%8B%89%E9%80%9A">克拉通</a>（比如<a href="https://zh.wikipedia.org/wiki/%E5%8A%A0%E6%8B%BF%E5%A4%A7%E5%9C%B0%E7%9B%BE">加拿大地盾</a>和<a href="https://zh.wikipedia.org/wiki/%E7%9A%AE%E5%B0%94%E5%B8%83%E6%8B%89">皮尔布拉</a>克拉通）或许形成于此阶段[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Oldest-craton-13">13]</a>。南极洲雷纳造山运动。</td><td align="center">3600[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-absolute-age-12">12]</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%A7%8B%E5%A4%AA%E5%8F%A4%E4%BB%A3">始太古代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%8E%9F%E6%A0%B8%E7%94%9F%E7%89%A9">单细胞生命</a>（<a href="https://zh.wikipedia.org/wiki/%E7%BB%86%E8%8F%8C">细菌</a>与<a href="https://zh.wikipedia.org/wiki/%E5%8F%A4%E8%8F%8C">古菌</a>）和最早的 (疑似) <a href="https://zh.wikipedia.org/wiki/%E5%BE%AE%E4%BD%93%E5%8F%A4%E7%94%9F%E7%89%A9%E5%AD%A6">微化石</a>出现。</td><td align="center">3800</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E5%86%A5%E5%8F%A4%E5%AE%99">冥古宙</a> [<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-hadeon-not-formal-14">14]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%9B%A8%E6%B5%B7%E4%BB%A3">雨海代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Lunar-geologic-timescale-names-15">15]</a></td><td align="center">原始生命的间接<a href="https://zh.wikipedia.org/wiki/%E5%85%89%E5%90%88%E4%BD%9C%E7%94%A8">光合作用</a>证据(例如<a href="https://zh.wikipedia.org/wiki/%E5%B9%B2%E9%85%AA%E6%A0%B9">干酪根</a>)。 该代与<a href="https://zh.wikipedia.org/wiki/%E5%85%A7%E5%A4%AA%E9%99%BD%E7%B3%BB">内太阳系</a>的<a href="https://zh.wikipedia.org/wiki/%E5%90%8E%E6%9C%9F%E9%87%8D%E8%BD%B0%E7%82%B8%E6%9C%9F">后期重轰炸期</a>末期部分重叠。</td><td align="center">c.3850</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%85%92%E6%B5%B7%E7%BA%AA">酒海纪</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Lunar-geologic-timescale-names-15">15]</a></td><td align="center">本代的名称来源月球地质年代，由<a href="https://zh.wikipedia.org/wiki/%E7%A5%9E%E9%85%92%E6%B5%B7">神酒海</a>和其他更大的<a href="https://zh.wikipedia.org/wiki/%E6%9C%88%E6%B5%B7">月海</a>的<a href="https://zh.wikipedia.org/wiki/%E6%92%9E%E6%93%8A%E4%BA%8B%E4%BB%B6">撞击事件</a>所组成。</td><td align="center">c.3920</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E7%9B%86%E5%9C%B0%E7%BE%A4%E4%BB%A3">盆地群代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Lunar-geologic-timescale-names-15">15]</a></td><td align="center">已知最古老的岩石(4030 <a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>)[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Oldest-rock-16">16]</a>. 在地球<a href="https://zh.wikipedia.org/wiki/%E5%90%8E%E6%9C%9F%E9%87%8D%E8%BD%B0%E7%82%B8%E6%9C%9F">后期重轰炸期</a>结束之后，最初的<a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E7%89%A9">生命形式</a>与<a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E6%88%91%E5%A4%8D%E5%88%B6">自我复制</a> 的<a href="https://zh.wikipedia.org/wiki/%E6%A0%B8%E7%B3%96%E6%A0%B8%E9%85%B8">核糖核酸</a><a href="https://zh.wikipedia.org/wiki/%E5%88%86%E5%AD%90">分子</a>大约在40亿年前开始出现，南极洲<a href="https://zh.wikipedia.org/wiki/%E5%85%A7%E7%9A%AE%E7%88%BE%E5%B1%B1%E8%84%88">内皮尔山脉</a>开始出现造山运动, 4000 ± 200 <a href="https://zh.wikipedia.org/wiki/%E5%B9%B4">Ma</a>。</td><td align="center">c.4150</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><a href="https://zh.wikipedia.org/wiki/%E9%9A%90%E7%94%9F%E4%BB%A3">隐生代</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Precambrian-Time-11">11]</a>[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-Lunar-geologic-timescale-names-15">15]</a></td><td align="center">已知最古老的<a href="https://zh.wikipedia.org/wiki/%E7%9F%BF%E7%89%A9">矿物</a>（<a href="https://zh.wikipedia.org/wiki/%E9%94%86%E7%9F%B3">锆石</a>，4404±8百万年）。[<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E8%B4%A8%E5%B9%B4%E4%BB%A3#cite_note-geology-wisc-edu-17">17]</a><a href="https://zh.wikipedia.org/wiki/%E6%9C%88%E7%90%83">月球</a>形成（4533百万年），可能来自<a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E7%A2%B0%E6%92%9E">大碰撞</a>。<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83">地球</a>形成（4567.17至4570百万年）。</td><td align="center">c.4600</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> Moon </tag>
            
            <tag> Mars </tag>
            
            <tag> Geology </tag>
            
            <tag> Earth </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PSD</title>
      <link href="/2023/05/29/2023-05-29-psd/"/>
      <url>/2023/05/29/2023-05-29-psd/</url>
      
        <content type="html"><![CDATA[<p>PSD 是 Power Spectral Density 的缩写，中文翻译为功率谱密度。它是一种用于描述信号的频域特性的指标，通常用于信号处理、信号分析、噪声分析等领域。</p><p>功率谱密度表示信号在不同频率上的功率密度，可以用来描述信号在频域上的分布情况。它是一个关于频率的函数，通常使用单位为 $W/Hz$ 或 $dB/Hz$。</p><p>在信号处理中，功率谱密度可以用来分析信号的频率分布情况，找出信号中的主要频率成分。例如，在音频处理中，可以使用功率谱密度来分析音频信号的频谱、频率成分和能量分布等信息。</p><p>功率谱密度可以通过傅里叶变换获得。具体来说，可以将时间域上的信号通过傅里叶变换转换为频域上的信号，然后计算频域上的信号的幅值的平方，再除以频率间隔，即可得到功率谱密度。</p><p>在 MATLAB 中，可以使用 <code>pwelch</code> 函数来计算信号的功率谱密度。在 Python 中，可以使用 <code>scipy.signal</code> 库中的 <code>welch</code> 函数来计算功率谱密度。</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305291431865.png"></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.signal <span class="keyword">as</span> signal</span><br><span class="line"><span class="keyword">import</span> obspy</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> utils</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">## load inSight data to solar</span></span><br><span class="line">solars = utils.Solar(<span class="string">'2.4'</span>, <span class="string">'B'</span>).get_solar()</span><br><span class="line">solar = solars[<span class="string">'S0429c'</span>]</span><br><span class="line"></span><br><span class="line">trace_Z = solar[<span class="string">'VEL'</span>][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">PSD = signal.welch(trace_Z.data, fs=trace_Z.stats.sampling_rate)</span><br><span class="line"></span><br><span class="line">plt.plot(PSD[<span class="number">0</span>], PSD[<span class="number">1</span>], <span class="string">'ro-'</span>, label=<span class="string">'PSD'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'frequence [Hz]'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'PSD [V**2/Hz]'</span>)</span><br><span class="line">plt.yscale(<span class="string">'log'</span>)</span><br><span class="line">plt.xscale(<span class="string">'log'</span>)</span><br><span class="line">plt.title(<span class="string">'PSD'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> seismic </tag>
            
            <tag> PSD </tag>
            
            <tag> signal processing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自相关</title>
      <link href="/2023/05/24/2023-05-24-zi-xiang-guan/"/>
      <url>/2023/05/24/2023-05-24-zi-xiang-guan/</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251103596.png" alt="traceZ_raw"></p><center> fig1. N方向原始数据 <p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251103004.png" alt="traceE_traceN_cross_correlation"></p><center> fig2. E方向和N方向互相关<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251103400.png" alt="traceN_traceZ_cross_correlation"></p><center> fig3.  N方向和Z方向互相关<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251104673.png" alt="traceZ_traceE_cross_correlation"></p><center> fig4.  Z方向和E方向互相关<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251103696.png"></p><center> fig5. Z方向自相关<p>​<img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251620471.png" alt="output"></p><center> Fig6. InSight 2.4Hz B <p>由图3 可以清晰看到4个突起。</p><p>SEIS是揭示火星内部结构和监测其地震活动的关键仪器。然而，仅在一个地方部署地震计限制了地震学成像和监测策略的广泛谱。突出的单站方法包括P波和S波接收函数（例如Farra＆Vinnik，2000; Langston，1979; Phinney，1964; Vinnik，1977;  Yuan等，2006），噪声和码元自相关函数（例如Buffoni等，2019; Claerbout，1968;  Galetti＆Curtis，2012; Pham＆ Tkalčić，2017; Tauzin等，2019; Tibuleac＆von  Seggern，2012），表面波反演（例如Drilleau等，2020）和瑞利波椭圆度和频谱比分析（例如Berbellini等，2019;  Hobiger等，2013; Nakamura，1989; Yano等，2009）。</p><p>🔤.  严格来说，记录在两个传感器上的弥散波场的互相关提供了在另一个传感器处放置的虚拟源的情况下该传感器的Green函数（Derode等，2003;  Lobkis＆Weaver，2001; Snieder，2004;  Wapenaar，2004等）。当两个记录相同时，互相关变成自相关，并提供零偏移的GF。高频零偏移GF是反射响应，主要由站台下地震不连续体的体波一次反射和倍增组成。🔤</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305251135099.png" alt="image-20230525113546023"></p><p>采用本地太阳平均时间（LMST）作为时间框架。火星的一天被称为Sol，比地球的一天长约40分钟，火星一年大约相当于687个地球日。因此，使用LMST是合理的，因为火星时间与地球时间不同。通常在其他任务中一样，火星日期被定义为使用Sol 1来进行简单的数字计数，其中Sol 1对应于InSight的第一个重要的火星日，即2018年11月27日。</p></center></center></center></center></center></center>]]></content>
      
      
      
        <tags>
            
            <tag> Mars </tag>
            
            <tag> technology </tag>
            
            <tag> obspy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>seisflows</title>
      <link href="/2023/05/24/2023-05-24-seisflows/"/>
      <url>/2023/05/24/2023-05-24-seisflows/</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221714517.png" alt="output"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221714443.png" alt="output"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221715062.png" alt="output"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221715733.png" alt="output"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305232157196.png" alt="output"></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305232158319.png" alt="output"></p><h2 id="plot-code"><a href="#plot-code" class="headerlink" title="plot code"></a>plot code</h2><h3 id="fig1-Fig2"><a href="#fig1-Fig2" class="headerlink" title="fig1. Fig2."></a>fig1. Fig2.</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%cd /home/erbiaoger/MyProjects/Seisflows/work/day_3/<span class="number">44</span>/specfem2d_workdir/</span><br><span class="line">init = Model(<span class="string">'OUTPUT_FILES_INIT'</span>)</span><br><span class="line">init.plot2d(<span class="string">'vs'</span>)</span><br><span class="line">true = Model(<span class="string">'OUTPUT_FILES_TRUE'</span>)</span><br><span class="line">true.plot2d(<span class="string">'vs'</span>)</span><br><span class="line"><span class="comment">#true = Model('OUTPUT_FILES')</span></span><br><span class="line"><span class="comment">#true.plot2d('vs')</span></span><br></pre></td></tr></tbody></table></figure><h3 id="fig3-fig4"><a href="#fig3-fig4" class="headerlink" title="fig3. fig4"></a>fig3. fig4</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">%cd /home/erbiaoger/MyProjects/Seisflows/work/day_3/<span class="number">44</span>/output_1/</span><br><span class="line">m_init = Model(<span class="string">'MODEL_INIT'</span>)</span><br><span class="line">m_true = Model(<span class="string">'MODEL_TRUE'</span>)</span><br><span class="line"><span class="comment">#m_init.save('/home/zhangzhiyu/MyProjects/Seisflows/work/day_3/3/output/m_init.npz')</span></span><br><span class="line"><span class="comment">#m_true.plot2d('vs')</span></span><br><span class="line"></span><br><span class="line">g_01 = Model(<span class="string">'GRADIENT_01'</span>)</span><br><span class="line">g_01.coordinates = {}</span><br><span class="line">g_01.coordinates[<span class="string">"x"</span>] = m_init.coordinates[<span class="string">"x"</span>]</span><br><span class="line">g_01.coordinates[<span class="string">"z"</span>] = m_init.coordinates[<span class="string">"z"</span>]</span><br><span class="line">g_01.plot2d(<span class="string">'vs_kernel'</span>)</span><br><span class="line"></span><br><span class="line">m_01 = Model(<span class="string">'MODEL_01'</span>)</span><br><span class="line">m_01.coordinates = {}</span><br><span class="line">m_01.coordinates[<span class="string">"x"</span>] = m_init.coordinates[<span class="string">"x"</span>]</span><br><span class="line">m_01.coordinates[<span class="string">"z"</span>] = m_init.coordinates[<span class="string">"z"</span>]</span><br><span class="line">m_01.plot2d(<span class="string">'vs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#m_01.save('/home/zhangzhiyu/MyProjects/Seisflows/work/day_3/3/output/m.npz')</span></span><br></pre></td></tr></tbody></table></figure><h2 id="parameters-yaml"><a href="#parameters-yaml" class="headerlink" title="parameters.yaml"></a>parameters.yaml</h2><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># //////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#                        SeisFlows YAML Parameter File</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># //////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Modules correspond to the structure of the source code, and determine</span></span><br><span class="line"><span class="comment"># SeisFlows' behavior at runtime. Each module requires its own sub-parameters.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># .. rubric::</span></span><br><span class="line"><span class="comment">#   - Determine available options for modules by running:</span></span><br><span class="line"><span class="comment">#       &gt; seisflows print modules</span></span><br><span class="line"><span class="comment">#   - Auto-fill with docstrings and default values (recommended) by running:</span></span><br><span class="line"><span class="comment">#       &gt; seisflows configure</span></span><br><span class="line"><span class="comment">#   - Swap out module parameters for a configured parameter file by running:</span></span><br><span class="line"><span class="comment">#       &gt; seisflows swap {module} {name} (e.g., seisflows swap solver specfem3d)</span></span><br><span class="line"><span class="comment">#   - To set values as NoneType, use: null</span></span><br><span class="line"><span class="comment">#   - To set values as infinity, use: inf</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#                                    MODULES</span></span><br><span class="line"><span class="comment">#                                    ///////</span></span><br><span class="line"><span class="comment"># workflow (str):    The types and order of functions for running SeisFlows</span></span><br><span class="line"><span class="comment"># system (str):      Computer architecture of the system being used</span></span><br><span class="line"><span class="comment"># solver (str):      External numerical solver to use for waveform simulations</span></span><br><span class="line"><span class="comment"># preprocess (str):  Preprocessing schema for waveform data</span></span><br><span class="line"><span class="comment"># optimize (str):    Optimization algorithm for the inverse problem</span></span><br><span class="line"><span class="comment"># ==============================================================================</span></span><br><span class="line"><span class="attr">workflow:</span> <span class="string">inversion</span></span><br><span class="line"><span class="attr">system:</span> <span class="string">workstation</span></span><br><span class="line"><span class="attr">solver:</span> <span class="string">specfem2d</span></span><br><span class="line"><span class="attr">preprocess:</span> <span class="string">pyaflowa</span></span><br><span class="line"><span class="attr">optimize:</span> <span class="string">LBFGS</span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Forward Workflow</span></span><br><span class="line"><span class="comment">#    ----------------</span></span><br><span class="line"><span class="comment">#    Defines foundational structure for Workflow module. When used standalone </span></span><br><span class="line"><span class="comment">#    is in charge of running forward solver in parallel and (optionally) </span></span><br><span class="line"><span class="comment">#    calculating data-synthetic misfit and adjoint sources.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type modules: list of module</span></span><br><span class="line"><span class="comment">#    :param modules: instantiated SeisFlows modules which should have been</span></span><br><span class="line"><span class="comment">#        generated by the function `seisflows.config.import_seisflows` with a</span></span><br><span class="line"><span class="comment">#        parameter file generated by seisflows.configure</span></span><br><span class="line"><span class="comment">#    :type data_case: str</span></span><br><span class="line"><span class="comment">#    :param data_case: How to address 'data' in the workflow, available options:</span></span><br><span class="line"><span class="comment">#        'data': real data will be provided by the user in</span></span><br><span class="line"><span class="comment">#        `path_data/{source_name}` in the same format that the solver will</span></span><br><span class="line"><span class="comment">#        produce synthetics (controlled by `solver.format`) OR</span></span><br><span class="line"><span class="comment">#        synthetic': 'data' will be generated as synthetic seismograms using</span></span><br><span class="line"><span class="comment">#        a target model provided in `path_model_true`. If None, workflow will</span></span><br><span class="line"><span class="comment">#        not attempt to generate data.</span></span><br><span class="line"><span class="comment">#    :type stop_after: str</span></span><br><span class="line"><span class="comment">#    :param stop_after: optional name of task in task list (use</span></span><br><span class="line"><span class="comment">#        `seisflows print tasks` to get task list for given workflow) to stop</span></span><br><span class="line"><span class="comment">#        workflow after, allowing user to prematurely stop a workflow to explore</span></span><br><span class="line"><span class="comment">#        intermediate results or debug.</span></span><br><span class="line"><span class="comment">#    :type export_traces: bool</span></span><br><span class="line"><span class="comment">#    :param export_traces: export all waveforms that are generated by the</span></span><br><span class="line"><span class="comment">#        external solver to `path_output`. If False, solver traces stored in</span></span><br><span class="line"><span class="comment">#        scratch may be discarded at any time in the workflow</span></span><br><span class="line"><span class="comment">#    :type export_residuals: bool</span></span><br><span class="line"><span class="comment">#    :param export_residuals: export all residuals (data-synthetic misfit) that</span></span><br><span class="line"><span class="comment">#        are generated by the external solver to `path_output`. If False,</span></span><br><span class="line"><span class="comment">#        residuals stored in scratch may be discarded at any time in the </span></span><br><span class="line"><span class="comment">#        workflow</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment">#    Migration Workflow</span></span><br><span class="line"><span class="comment">#    ------------------</span></span><br><span class="line"><span class="comment">#    Run forward and adjoint solver to produce event-dependent misfit kernels.</span></span><br><span class="line"><span class="comment">#    Sum and postprocess kernels to produce gradient. In seismic exploration</span></span><br><span class="line"><span class="comment">#    this is 'reverse time migration'.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type export_gradient: bool</span></span><br><span class="line"><span class="comment">#    :param export_gradient: export the gradient after it has been generated</span></span><br><span class="line"><span class="comment">#        in the scratch directory. If False, gradient can be discarded from</span></span><br><span class="line"><span class="comment">#        scratch at any time in the workflow</span></span><br><span class="line"><span class="comment">#    :type export_kernels: bool</span></span><br><span class="line"><span class="comment">#    :param export_kernels: export each sources event kernels after they have</span></span><br><span class="line"><span class="comment">#        been generated in the scratch directory. If False, gradient can be</span></span><br><span class="line"><span class="comment">#        discarded from scratch at any time in the workflow</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment">#    Inversion Workflow</span></span><br><span class="line"><span class="comment">#    ------------------</span></span><br><span class="line"><span class="comment">#    Peforms iterative nonlinear inversion using the machinery of the Forward</span></span><br><span class="line"><span class="comment">#    and Migration workflows, as well as a built-in optimization library.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type start: int</span></span><br><span class="line"><span class="comment">#    :param start: start inversion workflow at this iteration. 1 &lt;= start &lt;= inf</span></span><br><span class="line"><span class="comment">#    :type end: int</span></span><br><span class="line"><span class="comment">#    :param end: end inversion workflow at this iteration. start &lt;= end &lt;= inf</span></span><br><span class="line"><span class="comment">#    :type iteration: int</span></span><br><span class="line"><span class="comment">#    :param iteration: The current iteration of the workflow. If NoneType, takes</span></span><br><span class="line"><span class="comment">#        the value of `start` (i.e., first iteration of the workflow). User can</span></span><br><span class="line"><span class="comment">#        also set between `start` and `end` to resume a failed workflow.</span></span><br><span class="line"><span class="comment">#    :type thrifty: bool</span></span><br><span class="line"><span class="comment">#    :param thrifty: a thrifty inversion skips the costly intialization step</span></span><br><span class="line"><span class="comment">#        (i.e., forward simulations and misfit quantification) if the final</span></span><br><span class="line"><span class="comment">#        forward simulations from the previous iterations line search can be</span></span><br><span class="line"><span class="comment">#        used in the current one. Requires L-BFGS optimization.</span></span><br><span class="line"><span class="comment">#    :type export_model: bool</span></span><br><span class="line"><span class="comment">#    :param export_model: export best-fitting model from the line search to disk.</span></span><br><span class="line"><span class="comment">#        If False, new models can be discarded from scratch at any time.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="attr">data_case:</span> <span class="string">synthetic</span></span><br><span class="line"><span class="attr">stop_after:</span> <span class="literal">null</span></span><br><span class="line"><span class="attr">export_traces:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">export_residuals:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">export_gradient:</span> <span class="literal">True</span></span><br><span class="line"><span class="attr">export_kernels:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">start:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">end:</span> <span class="number">30</span></span><br><span class="line"><span class="attr">export_model:</span> <span class="literal">True</span></span><br><span class="line"><span class="attr">thrifty:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">iteration:</span> <span class="number">1</span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Workstation System</span></span><br><span class="line"><span class="comment">#    ------------------</span></span><br><span class="line"><span class="comment">#    Defines foundational structure for System module. When used standalone,</span></span><br><span class="line"><span class="comment">#    runs solver tasks either in serial (if `nproc`==1; i.e., without MPI) or in</span></span><br><span class="line"><span class="comment">#    parallel (if `nproc`&gt;1; i.e., with MPI). All other tasks are run in serial.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type ntask: int</span></span><br><span class="line"><span class="comment">#    :param ntask: number of individual tasks/events to run during workflow.</span></span><br><span class="line"><span class="comment">#        Must be &lt;= the number of source files in `path_specfem_data`</span></span><br><span class="line"><span class="comment">#    :type nproc: int</span></span><br><span class="line"><span class="comment">#    :param nproc: number of processors to use for each simulation. Choose 1 for</span></span><br><span class="line"><span class="comment">#        serial simulations, and `nproc`&gt;1 for parallel simulations.</span></span><br><span class="line"><span class="comment">#    :type mpiexec: str</span></span><br><span class="line"><span class="comment">#    :param mpiexec: MPI executable on system. Defaults to 'mpirun -n ${NPROC}'</span></span><br><span class="line"><span class="comment">#    :type log_level: str</span></span><br><span class="line"><span class="comment">#    :param log_level: logger level to pass to logging module.</span></span><br><span class="line"><span class="comment">#        Available: 'debug', 'info', 'warning', 'critical'</span></span><br><span class="line"><span class="comment">#    :type verbose: bool</span></span><br><span class="line"><span class="comment">#    :param verbose: if True, formats the log messages to include the file</span></span><br><span class="line"><span class="comment">#        name, line number and message type. Useful for debugging but</span></span><br><span class="line"><span class="comment">#        also very verbose.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="attr">ntask:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">nproc:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">mpiexec:</span> <span class="string">mpirun</span></span><br><span class="line"><span class="attr">log_level:</span> <span class="string">DEBUG</span></span><br><span class="line"><span class="attr">verbose:</span> <span class="literal">False</span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Solver SPECFEM</span></span><br><span class="line"><span class="comment">#    --------------</span></span><br><span class="line"><span class="comment">#    Defines foundational structure for Specfem-based solver module. </span></span><br><span class="line"><span class="comment">#    Generalized SPECFEM interface to manipulate SPECFEM2D/3D/3D_GLOBE w/ Python</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type data_format: str</span></span><br><span class="line"><span class="comment">#    :param data_format: data format for reading traces into memory.</span></span><br><span class="line"><span class="comment">#        Available: ['SU': seismic unix format, 'ASCII': human-readable ascii]</span></span><br><span class="line"><span class="comment">#    :type materials: str</span></span><br><span class="line"><span class="comment">#    :param materials: Material parameters used to define model. Available:</span></span><br><span class="line"><span class="comment">#        ['ELASTIC': Vp, Vs, 'ACOUSTIC': Vp, 'ISOTROPIC', 'ANISOTROPIC']</span></span><br><span class="line"><span class="comment">#    :type density: bool</span></span><br><span class="line"><span class="comment">#    :param density: How to treat density during inversion. If True, updates</span></span><br><span class="line"><span class="comment">#        density during inversion. If False, keeps it constant.</span></span><br><span class="line"><span class="comment">#        TODO allow density scaling during an inversion</span></span><br><span class="line"><span class="comment">#    :type attenuation: bool</span></span><br><span class="line"><span class="comment">#    :param attenuation: How to treat attenuation during inversion.</span></span><br><span class="line"><span class="comment">#        if True, turns on attenuation during forward simulations only. If</span></span><br><span class="line"><span class="comment">#        False, attenuation is always set to False. Requires underlying</span></span><br><span class="line"><span class="comment">#        attenution (Q_mu, Q_kappa) model</span></span><br><span class="line"><span class="comment">#    :type smooth_h: float</span></span><br><span class="line"><span class="comment">#    :param smooth_h: Gaussian half-width for horizontal smoothing in units</span></span><br><span class="line"><span class="comment">#        of meters. If 0., no smoothing applied. Only applicable for workflows:</span></span><br><span class="line"><span class="comment">#        ['migration', 'inversion'], ignored for 'forward' workflow.</span></span><br><span class="line"><span class="comment">#    :type smooth_h: float</span></span><br><span class="line"><span class="comment">#    :param smooth_v: Gaussian half-width for vertical smoothing in units</span></span><br><span class="line"><span class="comment">#        of meters. Only applicable for workflows: ['migration', 'inversion'],</span></span><br><span class="line"><span class="comment">#        ignored for 'forward' workflow.</span></span><br><span class="line"><span class="comment">#    :type components: str</span></span><br><span class="line"><span class="comment">#    :param components: components to consider and tag data with. Should be</span></span><br><span class="line"><span class="comment">#        string of letters such as 'RTZ'</span></span><br><span class="line"><span class="comment">#    :type solver_io: str</span></span><br><span class="line"><span class="comment">#    :param solver_io: format of model/kernel/gradient files expected by the</span></span><br><span class="line"><span class="comment">#        numerical solver. Available: ['fortran_binary': default .bin files].</span></span><br><span class="line"><span class="comment">#        <span class="doctag">TODO:</span> ['adios': ADIOS formatted files]</span></span><br><span class="line"><span class="comment">#    :type source_prefix: str</span></span><br><span class="line"><span class="comment">#    :param source_prefix: prefix of source/event/earthquake files. If None,</span></span><br><span class="line"><span class="comment">#        will attempt to guess based on the specific solver chosen.</span></span><br><span class="line"><span class="comment">#    :type mpiexec: str</span></span><br><span class="line"><span class="comment">#    :param mpiexec: MPI executable used to run parallel processes. Should also</span></span><br><span class="line"><span class="comment">#        be defined for the system module</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment">#    Solver SPECFEM2D</span></span><br><span class="line"><span class="comment">#    ----------------</span></span><br><span class="line"><span class="comment">#    SPECFEM2D-specific alterations to the base SPECFEM module</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type source_prefix: str</span></span><br><span class="line"><span class="comment">#    :param source_prefix: Prefix of source files in path SPECFEM_DATA. Defaults</span></span><br><span class="line"><span class="comment">#        to 'SOURCE'</span></span><br><span class="line"><span class="comment">#    :type multiples: bool</span></span><br><span class="line"><span class="comment">#    :param multiples: set an absorbing top-boundary condition</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="attr">data_format:</span> <span class="string">ascii</span></span><br><span class="line"><span class="attr">materials:</span> <span class="string">elastic</span></span><br><span class="line"><span class="attr">density:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">attenuation:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">smooth_h:</span> <span class="number">40000.0</span></span><br><span class="line"><span class="attr">smooth_v:</span> <span class="number">40000.0</span></span><br><span class="line"><span class="attr">components:</span> <span class="string">XZ</span></span><br><span class="line"><span class="attr">source_prefix:</span> <span class="string">SOURCE</span></span><br><span class="line"><span class="attr">multiples:</span> <span class="literal">False</span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Pyaflowa Preprocess</span></span><br><span class="line"><span class="comment">#    -------------------</span></span><br><span class="line"><span class="comment">#    Preprocessing and misfit quantification using Python's Adjoint Tomography</span></span><br><span class="line"><span class="comment">#    Operations Assistance (Pyatoa)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type min_period: float</span></span><br><span class="line"><span class="comment">#    :param min_period: Minimum filter corner in unit seconds. Bandpass</span></span><br><span class="line"><span class="comment">#    filter if set with `max_period`, highpass filter if set without</span></span><br><span class="line"><span class="comment">#    `max_period`, no filtering if not set and `max_period also not set</span></span><br><span class="line"><span class="comment">#    :type max_period: float</span></span><br><span class="line"><span class="comment">#    :param max_period: Maximum filter corner in unit seconds. Bandpass</span></span><br><span class="line"><span class="comment">#        filter if set with `min_period`, lowpass filter if set without</span></span><br><span class="line"><span class="comment">#        `min_period`, no filtering if not set and `min_period also not set</span></span><br><span class="line"><span class="comment">#   :type filter_corners: int</span></span><br><span class="line"><span class="comment">#    :param filter_corners: number of filter corners applied to filtering</span></span><br><span class="line"><span class="comment">#    :type client: str</span></span><br><span class="line"><span class="comment">#    :param client: Client name for ObsPy FDSN data gathering. Pyatoa will</span></span><br><span class="line"><span class="comment">#        attempt to collect waveform and metadata based on network and</span></span><br><span class="line"><span class="comment">#        station codes provided in the SPECFEM STATIONS file. If set None,</span></span><br><span class="line"><span class="comment">#        no FDSN gathering will be attempted</span></span><br><span class="line"><span class="comment">#    :type rotate: bool</span></span><br><span class="line"><span class="comment">#    :param rotate: Attempt to rotate waveform components from NEZ -&gt; RTZ</span></span><br><span class="line"><span class="comment">#    :type pyflex_preset: str</span></span><br><span class="line"><span class="comment">#    :param pyflex_preset: Parameter map for misfit window configuration</span></span><br><span class="line"><span class="comment">#        defined by Pyflex. IF None, misfit and adjoint sources will be</span></span><br><span class="line"><span class="comment">#        calculated on whole traces. For available choices, see Pyatoa docs</span></span><br><span class="line"><span class="comment">#        page (pyatoa.rtfd.io)</span></span><br><span class="line"><span class="comment">#    :type fix_windows: bool or str</span></span><br><span class="line"><span class="comment">#    :param fix_windows: How to address misfit window evaluation at each</span></span><br><span class="line"><span class="comment">#        evaluation. Options to re-use misfit windows collected during an</span></span><br><span class="line"><span class="comment">#        inversion, available options:</span></span><br><span class="line"><span class="comment">#        [True, False, 'ITER', 'ONCE']</span></span><br><span class="line"><span class="comment">#        True: Re-use windows after first evaluation (i01s00);</span></span><br><span class="line"><span class="comment">#        False: Calculate new windows each evaluation;</span></span><br><span class="line"><span class="comment">#        'ITER': Calculate new windows at first evaluation of</span></span><br><span class="line"><span class="comment">#        each iteration (e.g., i01s00... i02s00...</span></span><br><span class="line"><span class="comment">#        'ONCE': Calculate new windows at first evaluation of</span></span><br><span class="line"><span class="comment">#        the workflow, i.e., at self.par.BEGIN</span></span><br><span class="line"><span class="comment">#    :type adj_src_type: str</span></span><br><span class="line"><span class="comment">#    :param adj_src_type: Adjoint source type to evaluate misfit, defined by</span></span><br><span class="line"><span class="comment">#        Pyadjoint. Currently available options: ['cc': cross-correlation,</span></span><br><span class="line"><span class="comment">#        'mt': multitaper, 'wav': waveform']</span></span><br><span class="line"><span class="comment">#    :type plot: bool</span></span><br><span class="line"><span class="comment">#    :param plot: plot waveform figures and source receiver maps during</span></span><br><span class="line"><span class="comment">#        the preprocessing stage</span></span><br><span class="line"><span class="comment">#    :type pyatoa_log_level: str</span></span><br><span class="line"><span class="comment">#    :param pyatoa_log_level: Log level to set Pyatoa, Pyflex, Pyadjoint.</span></span><br><span class="line"><span class="comment">#        Available: ['null': no logging, 'warning': warnings only,</span></span><br><span class="line"><span class="comment">#        'info': task tracking, 'debug': log all small details (recommended)]</span></span><br><span class="line"><span class="comment">#    :type unit_output: str</span></span><br><span class="line"><span class="comment">#    :param unit_output: Data units. Must match the synthetic output of</span></span><br><span class="line"><span class="comment">#        external solver. Available: ['DISP': displacement, 'VEL': velocity,</span></span><br><span class="line"><span class="comment">#        'ACC': acceleration]</span></span><br><span class="line"><span class="comment">#    :type export_datasets: bool</span></span><br><span class="line"><span class="comment">#    :param export_datasets: periodically save the output ASDFDataSets which</span></span><br><span class="line"><span class="comment">#        contain data, metadata and results collected during the</span></span><br><span class="line"><span class="comment">#        preprocessing procedure</span></span><br><span class="line"><span class="comment">#    :type export_figures: bool</span></span><br><span class="line"><span class="comment">#    :param export_figures: periodically save the output basemaps and</span></span><br><span class="line"><span class="comment">#        data-synthetic waveform comparison figures</span></span><br><span class="line"><span class="comment">#    :type export_log_files: bool</span></span><br><span class="line"><span class="comment">#    :param export_log_files: periodically save log files created by Pyatoa</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="attr">min_period:</span> <span class="number">10.0</span></span><br><span class="line"><span class="attr">max_period:</span> <span class="number">200.0</span></span><br><span class="line"><span class="attr">filter_corners:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">client:</span> <span class="literal">null</span></span><br><span class="line"><span class="attr">rotate:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">pyflex_preset:</span> <span class="literal">null</span></span><br><span class="line"><span class="attr">fix_windows:</span> <span class="literal">False</span></span><br><span class="line"><span class="attr">adj_src_type:</span> <span class="string">waveform</span></span><br><span class="line"><span class="attr">plot:</span> <span class="literal">True</span></span><br><span class="line"><span class="attr">pyatoa_log_level:</span> <span class="string">DEBUG</span></span><br><span class="line"><span class="attr">unit_output:</span> <span class="string">DISP</span></span><br><span class="line"><span class="attr">max_workers:</span> <span class="literal">null</span></span><br><span class="line"><span class="attr">export_datasets:</span> <span class="literal">True</span></span><br><span class="line"><span class="attr">export_figures:</span> <span class="literal">True</span></span><br><span class="line"><span class="attr">export_log_files:</span> <span class="literal">True</span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Gradient Optimization</span></span><br><span class="line"><span class="comment">#    ---------------------</span></span><br><span class="line"><span class="comment">#    Defines foundational structure for Optimization module. Applies a </span></span><br><span class="line"><span class="comment">#    gradient/steepest descent optimization algorithm.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type line_search_method: str</span></span><br><span class="line"><span class="comment">#    :param line_search_method: chosen line_search algorithm. Currently available</span></span><br><span class="line"><span class="comment">#        are 'bracket' and 'backtrack'. See seisflows.plugins.line_search</span></span><br><span class="line"><span class="comment">#        for all available options</span></span><br><span class="line"><span class="comment">#    :type preconditioner: str</span></span><br><span class="line"><span class="comment">#    :param preconditioner: algorithm for preconditioning gradients. Currently</span></span><br><span class="line"><span class="comment">#        available: 'diagonal'. Requires `path_preconditioner` to point to a</span></span><br><span class="line"><span class="comment">#        set of files that define the preconditioner, formatted the same as the</span></span><br><span class="line"><span class="comment">#        input model</span></span><br><span class="line"><span class="comment">#    :type step_count_max: int</span></span><br><span class="line"><span class="comment">#    :param step_count_max: maximum number of trial steps to perform during</span></span><br><span class="line"><span class="comment">#        the line search before a change in line search behavior is</span></span><br><span class="line"><span class="comment">#        considered, or a line search is considered to have failed.</span></span><br><span class="line"><span class="comment">#    :type step_len_init: float</span></span><br><span class="line"><span class="comment">#    :param step_len_init: initial line search step length guess, provided</span></span><br><span class="line"><span class="comment">#        as a fraction of current model parameters.</span></span><br><span class="line"><span class="comment">#    :type step_len_max: float</span></span><br><span class="line"><span class="comment">#    :param step_len_max: maximum allowable step length during the line</span></span><br><span class="line"><span class="comment">#        search. Set as a fraction of the current model parameters</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment">#    L-BFGS Optimization</span></span><br><span class="line"><span class="comment">#    -------------------</span></span><br><span class="line"><span class="comment">#    Limited memory BFGS nonlienar optimization algorithm</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    Parameters</span></span><br><span class="line"><span class="comment">#    ----------</span></span><br><span class="line"><span class="comment">#    :type lbfgs_mem: int</span></span><br><span class="line"><span class="comment">#    :param lbfgs_mem: L-BFGS memory. Max number of previous gradients to</span></span><br><span class="line"><span class="comment">#        retain in local memory for approximating the objective function.</span></span><br><span class="line"><span class="comment">#    :type lbfgs_max: L-BFGS periodic restart interval. Must be</span></span><br><span class="line"><span class="comment">#        1 &lt;= lbfgs_max &lt;= infinity.</span></span><br><span class="line"><span class="comment">#    :type lbfgs_thresh: L-BFGS angle restart threshold. If the angle between</span></span><br><span class="line"><span class="comment">#        the current and previous search direction exceeds this value,</span></span><br><span class="line"><span class="comment">#        optimization algorithm will be restarted.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="attr">preconditioner:</span> <span class="literal">null</span></span><br><span class="line"><span class="attr">step_count_max:</span> <span class="number">5</span></span><br><span class="line"><span class="attr">step_len_init:</span> <span class="number">0.05</span></span><br><span class="line"><span class="attr">step_len_max:</span> <span class="number">0.5</span></span><br><span class="line"><span class="attr">line_search_method:</span> <span class="string">Backtrack</span></span><br><span class="line"><span class="attr">LBFGS_mem:</span> <span class="number">3</span></span><br><span class="line"><span class="attr">LBFGS_max:</span> <span class="string">inf</span></span><br><span class="line"><span class="attr">LBFGS_thresh:</span> <span class="number">0.0</span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Paths</span></span><br><span class="line"><span class="comment"># -----</span></span><br><span class="line"><span class="comment">#    :type workdir: str</span></span><br><span class="line"><span class="comment">#    :param workdir: working directory in which to perform a SeisFlows workflow.</span></span><br><span class="line"><span class="comment">#        SeisFlows internal directory structure will be created here. Default cwd</span></span><br><span class="line"><span class="comment">#    :type path_output: str</span></span><br><span class="line"><span class="comment">#    :param path_output: path to directory used for permanent storage on disk.</span></span><br><span class="line"><span class="comment">#        Results and exported scratch files are saved here.</span></span><br><span class="line"><span class="comment">#    :type path_data: str</span></span><br><span class="line"><span class="comment">#    :param path_data: path to any externally stored data required by the solver</span></span><br><span class="line"><span class="comment">#    :type path_state_file: str</span></span><br><span class="line"><span class="comment">#    :param path_state_file: path to a text file used to track the current</span></span><br><span class="line"><span class="comment">#        status of a workflow (i.e., what functions have already been completed),</span></span><br><span class="line"><span class="comment">#        used for checkpointing and resuming workflows</span></span><br><span class="line"><span class="comment">#    :type path_model_init: str</span></span><br><span class="line"><span class="comment">#    :param path_model_init: path to the starting model used to calculate the</span></span><br><span class="line"><span class="comment">#        initial misfit. Must match the expected `solver_io` format.</span></span><br><span class="line"><span class="comment">#    :type path_model_true: str</span></span><br><span class="line"><span class="comment">#    :param path_model_true: path to a target model if `case`=='synthetic' and</span></span><br><span class="line"><span class="comment">#        a set of synthetic 'observations' are required for workflow.</span></span><br><span class="line"><span class="comment">#    :type path_eval_grad: str</span></span><br><span class="line"><span class="comment">#    :param path_eval_grad: scratch path to store files for gradient evaluation,</span></span><br><span class="line"><span class="comment">#        including models, kernels, gradient and residuals.</span></span><br><span class="line"><span class="comment">#        :type path_mask: str</span></span><br><span class="line"><span class="comment">#    :param path_mask: optional path to a masking function which is used to</span></span><br><span class="line"><span class="comment">#        mask out or scale parts of the gradient. The user-defined mask must</span></span><br><span class="line"><span class="comment">#        match the file format of the input model (e.g., .bin files).</span></span><br><span class="line"><span class="comment">#        :type path_eval_func: str</span></span><br><span class="line"><span class="comment">#    :param path_eval_func: scratch path to store files for line search objective</span></span><br><span class="line"><span class="comment">#        function evaluations, including models, misfit and residuals</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment">#    :type path_output_log: str</span></span><br><span class="line"><span class="comment">#    :param path_output_log: path to a text file used to store the outputs of</span></span><br><span class="line"><span class="comment">#        the package wide logger, which are also written to stdout</span></span><br><span class="line"><span class="comment">#    :type path_par_file: str</span></span><br><span class="line"><span class="comment">#    :param path_par_file: path to parameter file which is used to instantiate</span></span><br><span class="line"><span class="comment">#        the package</span></span><br><span class="line"><span class="comment">#    :type path_log_files: str</span></span><br><span class="line"><span class="comment">#    :param path_log_files: path to a directory where individual log files are</span></span><br><span class="line"><span class="comment">#        saved whenever a number of parallel tasks are run on the system.</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment">#    :type path_data: str</span></span><br><span class="line"><span class="comment">#    :param path_data: path to any externally stored data required by the solver</span></span><br><span class="line"><span class="comment">#    :type path_specfem_bin: str</span></span><br><span class="line"><span class="comment">#    :param path_specfem_bin: path to SPECFEM bin/ directory which</span></span><br><span class="line"><span class="comment">#        contains binary executables for running SPECFEM</span></span><br><span class="line"><span class="comment">#    :type path_specfem_data: str</span></span><br><span class="line"><span class="comment">#    :param path_specfem_data: path to SPECFEM DATA/ directory which must</span></span><br><span class="line"><span class="comment">#        contain the CMTSOLUTION, STATIONS and Par_file files used for</span></span><br><span class="line"><span class="comment">#        running SPECFEM</span></span><br><span class="line"><span class="comment">#            </span></span><br><span class="line"><span class="comment">#    :type path_preprocess: str</span></span><br><span class="line"><span class="comment">#    :param path_preprocess: scratch path for preprocessing related steps</span></span><br><span class="line"><span class="comment">#        </span></span><br><span class="line"><span class="comment">#    :type path_preconditioner: str</span></span><br><span class="line"><span class="comment">#    :param path_preconditioner: optional path to a set of preconditioner files</span></span><br><span class="line"><span class="comment">#        formatted the same as the input model (or output model of solver).</span></span><br><span class="line"><span class="comment">#        Required to exist and contain files if `preconditioner`==True</span></span><br><span class="line"><span class="comment">#            </span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="attr">path_workdir:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/4</span></span><br><span class="line"><span class="attr">path_scratch:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/scratch</span></span><br><span class="line"><span class="attr">path_eval_grad:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/scratch/eval_grad</span></span><br><span class="line"><span class="attr">path_output:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/output</span></span><br><span class="line"><span class="attr">path_model_init:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/specfem2d_workdir/OUTPUT_FILES_INIT</span></span><br><span class="line"><span class="attr">path_model_true:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/specfem2d_workdir/OUTPUT_FILES_TRUE</span></span><br><span class="line"><span class="attr">path_state_file:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/sfstate.txt</span></span><br><span class="line"><span class="attr">path_data:</span> <span class="literal">null</span></span><br><span class="line"><span class="attr">path_mask:</span> <span class="literal">null</span></span><br><span class="line"><span class="attr">path_eval_func:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/scratch/eval_func</span></span><br><span class="line"><span class="attr">path_par_file:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/parameters.yaml</span></span><br><span class="line"><span class="attr">path_log_files:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/logs</span></span><br><span class="line"><span class="attr">path_output_log:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/sflog.txt</span></span><br><span class="line"><span class="attr">path_specfem_bin:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/specfem2d/bin</span></span><br><span class="line"><span class="attr">path_specfem_data:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/specfem2d_workdir/DATA</span></span><br><span class="line"><span class="attr">path_solver:</span> <span class="string">/home/erbiaoger/MyProjects/Seisflows/work/day_3/44/scratch/solver</span></span><br><span class="line"><span class="attr">path_preconditioner:</span> <span class="literal">null</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="Par-file"><a href="#Par-file" class="headerlink" title="Par_file"></a>Par_file</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Simulation input parameters</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">title of job</span></span><br><span class="line">title                           = Tape-Liu-Tromp (GJI 2007)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">forward or adjoint simulation</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 = forward, 2 = adjoint, 3 = both simultaneously</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">note: 2 is purposely UNUSED (<span class="keyword">for</span> compatibility with the numbering of our 3D codes)</span></span><br><span class="line">SIMULATION_TYPE                 = 1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0 = regular wave propagation simulation, 1/2/3 = noise simulation</span></span><br><span class="line">NOISE_TOMOGRAPHY                = 0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">save the last frame, needed <span class="keyword">for</span> adjoint simulation</span></span><br><span class="line">SAVE_FORWARD                    = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">parameters concerning partitioning</span></span><br><span class="line">NPROC                           = 4              # number of processes</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">time step parameters</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">total number of time steps</span></span><br><span class="line">NSTEP                           = 14000</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">duration of a time step (see section <span class="string">"How to choose the time step"</span> of the manual <span class="keyword">for</span> how to <span class="keyword">do</span> this)</span></span><br><span class="line">DT                              = 2.5d-2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">time stepping</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 = Newmark (2nd order), 2 = LDDRK4-6 (4th-order 6-stage low storage Runge-Kutta), 3 = classical RK4 4th-order 4-stage Runge-Kutta</span></span><br><span class="line">time_stepping_scheme            = 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">set</span> the <span class="built_in">type</span> of calculation (P-SV or SH/membrane waves)</span></span><br><span class="line">P_SV                            = .true.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">axisymmetric (2.5D) or Cartesian planar (2D) simulation</span></span><br><span class="line">AXISYM                          = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Mesh</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Partitioning algorithm <span class="keyword">for</span> decompose_mesh</span></span><br><span class="line">PARTITIONING_TYPE               = 3              # SCOTCH = 3, ascending order (very bad idea) = 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">number of control nodes per element (4 or 9)</span></span><br><span class="line">NGNOD                           = 4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">creates/reads a binary database that allows to skip all time consuming setup steps <span class="keyword">in</span> initialization</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0 = does not <span class="built_in">read</span>/create database</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 = creates database</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 = reads database</span></span><br><span class="line">setup_with_binary_database      = 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">available models</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  default       - define model using nbmodels below</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  ascii         - <span class="built_in">read</span> model from ascii database file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  binary        - <span class="built_in">read</span> model from binary databse file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  binary_voigt  - <span class="built_in">read</span> Voigt model from binary database file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  external      - define model using define_external_model subroutine</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  gll           - <span class="built_in">read</span> GLL model from binary database file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  legacy        - <span class="built_in">read</span> model from model_velocity.dat_input</span></span><br><span class="line">MODEL                           = gll</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Output the model with the requested <span class="built_in">type</span>, does not save <span class="keyword">if</span> turn to default or .<span class="literal">false</span>.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(available output formats: ascii,binary,gll,legacy)</span></span><br><span class="line">SAVE_MODEL                      = binary</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Attenuation</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">attenuation parameters</span></span><br><span class="line">ATTENUATION_VISCOELASTIC        = .false.        # turn attenuation (viscoelasticity) on or off for non-poroelastic solid parts of the model</span><br><span class="line">ATTENUATION_VISCOACOUSTIC       = .false.        # turn attenuation (viscoacousticity) on or off for non-poroelastic fluid parts of the model</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> viscoelastic or viscoacoustic attenuation</span></span><br><span class="line">N_SLS                           = 3              # number of standard linear solids for attenuation (3 is usually the minimum)</span><br><span class="line">ATTENUATION_f0_REFERENCE        = 5.196152422706633 # in case of attenuation, reference frequency in Hz at which the velocity values in the velocity model are given (unused otherwise); relevant only if source is a Dirac or a Heaviside, otherwise it is automatically set to f0 the dominant frequency of the source in the DATA/SOURCE file</span><br><span class="line">READ_VELOCITIES_AT_f0           = .false.        # read seismic velocities at ATTENUATION_f0_REFERENCE instead of at infinite frequency (see user manual for more information)</span><br><span class="line">USE_SOLVOPT                     = .false.        # use more precise but much more expensive way of determining the Q factor relaxation times, as in https://doi.org/10.1093/gji/ggw024</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> poroelastic attenuation</span></span><br><span class="line">ATTENUATION_PORO_FLUID_PART     = .false.        # turn viscous attenuation on or off for the fluid part of poroelastic parts of the model</span><br><span class="line">Q0_poroelastic                  = 1              # quality factor for viscous attenuation (ignore it if you are not using a poroelastic material)</span><br><span class="line">freq0_poroelastic               = 10             # frequency for viscous attenuation (ignore it if you are not using a poroelastic material)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">to undo attenuation and/or PMLs <span class="keyword">for</span> sensitivity kernel calculations or forward runs with SAVE_FORWARD</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use the flag below. It performs undoing of attenuation and/or of PMLs <span class="keyword">in</span> an exact way <span class="keyword">for</span> sensitivity kernel calculations</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">but requires disk space <span class="keyword">for</span> temporary storage, and uses a significant amount of memory used as buffers <span class="keyword">for</span> temporary storage.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">When that option is on the second parameter indicates how often the code dumps restart files to disk (<span class="keyword">if</span> <span class="keyword">in</span> doubt, use something between 100 and 1000).</span></span><br><span class="line">UNDO_ATTENUATION_AND_OR_PML     = .false.</span><br><span class="line">NT_DUMP_ATTENUATION             = 500</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Instead of reconstructing the forward wavefield, this option reads it from the disk using asynchronous I/O.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Outperforms conventional mode using a value of NTSTEP_BETWEEN_COMPUTE_KERNELS high enough.</span></span><br><span class="line">NO_BACKWARD_RECONSTRUCTION      = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Sources</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> parameters</span></span><br><span class="line">NSOURCES                        = 1              # number of sources (source information is then read from the DATA/SOURCE file)</span><br><span class="line">force_normal_to_surface         = .false.        # angleforce normal to surface (external mesh and curve file needed)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use an existing initial wave field as <span class="built_in">source</span> or start from zero (medium initially at rest)</span></span><br><span class="line">initialfield                    = .false.</span><br><span class="line">add_Bielak_conditions_bottom    = .false.        # add Bielak conditions or not if initial plane wave</span><br><span class="line">add_Bielak_conditions_right     = .false.</span><br><span class="line">add_Bielak_conditions_top       = .false.</span><br><span class="line">add_Bielak_conditions_left      = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">acoustic forcing</span></span><br><span class="line">ACOUSTIC_FORCING                = .false.        # acoustic forcing of an acoustic medium with a rigid interface</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">noise simulations - <span class="built_in">type</span> of noise <span class="built_in">source</span> time <span class="keyword">function</span>:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0=external (S_squared), 1=Ricker(second derivative), 2=Ricker(first derivative), 3=Gaussian, 4=Figure 2a of Tromp et al. 2010</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(default value 4 is chosen to reproduce the time <span class="keyword">function</span> from Fig 2a of <span class="string">"Tromp et al., 2010, Noise Cross-Correlation Sensitivity Kernels"</span>)</span></span><br><span class="line">noise_source_time_function_type = 4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">moving sources</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Set write_moving_sources_database to .<span class="literal">true</span>. <span class="keyword">if</span> the generation of moving <span class="built_in">source</span> databases takes</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">a long time. Then the simulation is <span class="keyword">done</span> <span class="keyword">in</span> two steps: first you run the code and it writes the databases to file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(<span class="keyword">in</span> DATA folder by default). Then you rerun the code and it will <span class="built_in">read</span> the databases <span class="keyword">in</span> there directly possibly</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">saving a lot of time.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This is only useful <span class="keyword">for</span> GPU version (<span class="keyword">for</span> now)</span></span><br><span class="line">write_moving_sources_database   = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Receivers</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">receiver <span class="built_in">set</span> parameters <span class="keyword">for</span> recording stations (i.e. recording points)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">seismotype : record 1=displ 2=veloc 3=accel 4=pressure 5=curl of displ 6=the fluid potential</span></span><br><span class="line">seismotype                      = 1              # several values can be chosen. For example : 1,2,4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">interval <span class="keyword">in</span> time steps <span class="keyword">for</span> writing of seismograms</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">every how many time steps we save the seismograms</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(costly, <span class="keyword">do</span> not use a very small value; <span class="keyword">if</span> you use a very large value that is larger than the total number</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> of time steps of the run, the seismograms will automatically be saved once at the end of the run anyway)</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_SEISMOS   = 100</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">set</span> to n to reduce the sampling rate of output seismograms by a <span class="built_in">factor</span> of n</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">defaults to 1, <span class="built_in">which</span> means no down-sampling</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_SAMPLE    = 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">so far, this option can only be used <span class="keyword">if</span> all the receivers are <span class="keyword">in</span> acoustic elements</span></span><br><span class="line">USE_TRICK_FOR_BETTER_PRESSURE   = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use this t0 as earliest starting time rather than the automatically calculated one</span></span><br><span class="line">USER_T0                         = 90.0d0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">seismogram formats</span></span><br><span class="line">save_ASCII_seismograms          = .true.         # save seismograms in ASCII format or not</span><br><span class="line">save_binary_seismograms_single  = .false.        # save seismograms in single precision binary format or not (can be used jointly with ASCII above to save both)</span><br><span class="line">save_binary_seismograms_double  = .false.        # save seismograms in double precision binary format or not (can be used jointly with both flags above to save all)</span><br><span class="line">SU_FORMAT                       = .false.        # output single precision binary seismograms in Seismic Unix format (adjoint traces will be read in the same format)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use an existing STATION file found <span class="keyword">in</span> ./DATA or create a new one from the receiver positions below <span class="keyword">in</span> this Par_file</span></span><br><span class="line">use_existing_STATIONS           = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">number of receiver sets (i.e. number of receiver lines to create below)</span></span><br><span class="line">nreceiversets                   = 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">orientation</span></span><br><span class="line">anglerec                        = 0.d0           # angle to rotate components at receivers</span><br><span class="line">rec_normal_to_surface           = .false.        # base anglerec normal to surface (external mesh and curve file needed)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">first receiver <span class="built_in">set</span> (repeat these 6 lines and adjust nreceiversets accordingly)</span></span><br><span class="line">nrec                            = 40              # number of receivers</span><br><span class="line">xdeb                            = 10000.      # first receiver x in meters</span><br><span class="line">zdeb                            = 180000.      # first receiver z in meters</span><br><span class="line">xfin                            = 470000.        # last receiver x in meters (ignored if only one receiver)</span><br><span class="line">zfin                            = 180000.         # last receiver z in meters (ignored if only one receiver)</span><br><span class="line">record_at_surface_same_vertical = .true.        # receivers inside the medium or at the surface</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># adjoint kernel outputs</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">save sensitivity kernels <span class="keyword">in</span> ASCII format (much bigger files, but compatible with current GMT scripts) or <span class="keyword">in</span> binary format</span></span><br><span class="line">save_ASCII_kernels              = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">since the accuracy of kernel integration may not need to respect the CFL, this option permits to save computing time, and memory with UNDO_ATTENUATION_AND_OR_PML mode</span></span><br><span class="line">NTSTEP_BETWEEN_COMPUTE_KERNELS  = 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">outputs approximate Hessian <span class="keyword">for</span> preconditioning</span></span><br><span class="line">APPROXIMATE_HESS_KL             = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Boundary conditions</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Perfectly Matched Layer (PML) boundaries</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">absorbing boundary active or not</span></span><br><span class="line">PML_BOUNDARY_CONDITIONS         = .false.</span><br><span class="line">NELEM_PML_THICKNESS             = 3</span><br><span class="line">ROTATE_PML_ACTIVATE             = .false.</span><br><span class="line">ROTATE_PML_ANGLE                = 30.</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">change the four parameters below only <span class="keyword">if</span> you know what you are doing; they change the damping profiles inside the PMLs</span></span><br><span class="line">K_MIN_PML                       = 1.0d0          # from Gedney page 8.11</span><br><span class="line">K_MAX_PML                       = 1.0d0</span><br><span class="line">damping_change_factor_acoustic  = 0.5d0</span><br><span class="line">damping_change_factor_elastic   = 1.0d0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">set</span> the parameter below to .<span class="literal">false</span>. unless you know what you are doing; this implements automatic adjustment of the PML parameters <span class="keyword">for</span> elongated models.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The goal is to improve the absorbing efficiency of PML <span class="keyword">for</span> waves with large incidence angles, but this can lead to artefacts.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">In particular, this option is efficient only when the number of sources NSOURCES is equal to one.</span></span><br><span class="line">PML_PARAMETER_ADJUSTMENT        = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Stacey ABC</span></span><br><span class="line">STACEY_ABSORBING_CONDITIONS     = .true.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">periodic boundaries</span></span><br><span class="line">ADD_PERIODIC_CONDITIONS         = .false.</span><br><span class="line">PERIODIC_HORIZ_DIST             = 0.3597d0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Velocity and density models</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">number of model materials</span></span><br><span class="line">nbmodels                        = 2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">available material types (see user manual <span class="keyword">for</span> more information)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  acoustic:              model_number 1 rho Vp 0  0 0 QKappa 9999 0 0 0 0 0 0 (<span class="keyword">for</span> QKappa use 9999 to ignore it)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  elastic:               model_number 1 rho Vp Vs 0 0 QKappa Qmu  0 0 0 0 0 0 (<span class="keyword">for</span> QKappa and Qmu use 9999 to ignore them)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  anisotropic:           model_number 2 rho c11 c13 c15 c33 c35 c55 c12 c23 c25   0 QKappa Qmu</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  anisotropic <span class="keyword">in</span> AXISYM: model_number 2 rho c11 c13 c15 c33 c35 c55 c12 c23 c25 c22 QKappa Qmu</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  poroelastic:           model_number 3 rhos rhof phi c kxx kxz kzz Ks Kf Kfr etaf mufr Qmu</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  tomo:                  model_number -1 0 0 A 0 0 0 0 0 0 0 0 0 0</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># note: When viscoelasticity or viscoacousticity is turned on,</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      the Vp and Vs values that are <span class="built_in">read</span> here are the UNRELAXED ones i.e. the values at infinite frequency</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      unless the READ_VELOCITIES_AT_f0 parameter above is <span class="built_in">set</span> to <span class="literal">true</span>, <span class="keyword">in</span> <span class="built_in">which</span> <span class="keyword">case</span> they are the values at frequency f0.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#       Please also note that Qmu is always equal to Qs, but Qkappa is in general not equal to Qp.</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      To convert one to the other see doc/Qkappa_Qmu_versus_Qp_Qs_relationship_in_2D_plane_strain.pdf and</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      utils/attenuation/conversion_from_Qkappa_Qmu_to_Qp_Qs_from_Dahlen_Tromp_959_960.f90.</span></span><br><span class="line">1 1 2600.d0 5800.d0 3500.0d0 0 0 10.d0 10.d0 0 0 0 0 0 0</span><br><span class="line">2 1 2600.d0 5800.d0 3500.0d0 0 0 10.d0 10.d0 0 0 0 0 0 0</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">1 1 2600.d0 5600.d0 3200.0d0 0 0 10.d0 10.d0 0 0 0 0 0 0</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">2 1 2600.d0 6000.d0 3800.0d0 0 0 10.d0 10.d0 0 0 0 0 0 0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">external tomography file</span></span><br><span class="line">TOMOGRAPHY_FILE                 = ./DATA/tomo_file.xyz</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use an external mesh created by an external meshing tool or use the internal mesher</span></span><br><span class="line">read_external_mesh              = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># PARAMETERS FOR EXTERNAL MESHING</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">data concerning mesh, when generated using third-party app (more info <span class="keyword">in</span> README)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(see also absorbing_conditions above)</span></span><br><span class="line">mesh_file                       = ./DATA/ice_water_rock_1D/ice_water_rock_1D_elements   # file containing the mesh</span><br><span class="line">nodes_coords_file               = ./DATA/ice_water_rock_1D/ice_water_rock_1D_nodes   # file containing the nodes coordinates</span><br><span class="line">materials_file                  = ./DATA/ice_water_rock_1D/ice_water_rock_1D_material   # file containing the material number for each element</span><br><span class="line">free_surface_file               = ./DATA/ice_water_rock_1D/ice_water_rock_1D_surface_free   # file containing the free surface</span><br><span class="line">axial_elements_file             = ./DATA/axial_elements_file   # file containing the axial elements if AXISYM is true</span><br><span class="line">absorbing_surface_file          = ./DATA/ice_water_rock_1D/ice_water_rock_1D_surface_absorb   # file containing the absorbing surface</span><br><span class="line">acoustic_forcing_surface_file   = ./DATA/MSH/Surf_acforcing_Bottom_enforcing_mesh   # file containing the acoustic forcing surface</span><br><span class="line">absorbing_cpml_file             = ./DATA/absorbing_cpml_file   # file containing the CPML element numbers</span><br><span class="line">tangential_detection_curve_file = ./DATA/courbe_eros_nodes  # file containing the curve delimiting the velocity model</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># PARAMETERS FOR INTERNAL MESHING</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">file containing interfaces <span class="keyword">for</span> internal mesh</span></span><br><span class="line">interfacesfile                  = interfaces_Tape2007.dat</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">geometry of the model (origin lower-left corner = 0,0) and mesh description</span></span><br><span class="line">xmin                            = 0.d0           # abscissa of left side of the model</span><br><span class="line">xmax                            = 480000.d0      # abscissa of right side of the model</span><br><span class="line">nx                              = 40             # number of elements along X</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">absorbing boundary parameters (see absorbing_conditions above)</span></span><br><span class="line">absorbbottom                    = .false.</span><br><span class="line">absorbright                     = .true.</span><br><span class="line">absorbtop                       = .true.</span><br><span class="line">absorbleft                      = .true.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">define the different regions of the model <span class="keyword">in</span> the (nx,nz) spectral-element mesh</span></span><br><span class="line">nbregions                       = 8              # then set below the different regions and model number for each region</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">format of each line: nxmin nxmax nzmin nzmax material_number</span></span><br><span class="line">1 10  1 20 1</span><br><span class="line">11 20  1 20 2</span><br><span class="line">21 30  1 20 1</span><br><span class="line">31 40  1 20 2</span><br><span class="line">1 10  21 40 2</span><br><span class="line">11 20  21 40 1</span><br><span class="line">21 30  21 40 2</span><br><span class="line">31 40  21 40 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Display parameters</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">interval at <span class="built_in">which</span> we output time step info and max of norm of displacement</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(every how many time steps we display information about the simulation. costly, <span class="keyword">do</span> not use a very small value)</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_INFO      = 400</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">meshing output</span></span><br><span class="line">output_grid_Gnuplot             = .false.        # generate a GNUPLOT file containing the grid, and a script to plot it</span><br><span class="line">output_grid_ASCII               = .false.        # dump the grid in an ASCII text file consisting of a set of X,Y,Z points or not</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">to plot total energy curves, <span class="keyword">for</span> instance to monitor how CPML absorbing layers behave;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">should be turned OFF <span class="keyword">in</span> most cases because a bit expensive</span></span><br><span class="line">OUTPUT_ENERGY                   = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">every how many time steps we compute energy (<span class="built_in">which</span> is a bit expensive to compute)</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_ENERGY    = 10</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Compute the field int_0^t v^2 dt <span class="keyword">for</span> a <span class="built_in">set</span> of GLL points and write it to file. Use</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the script utils/visualisation/plotIntegratedEnergyFile.py to watch. It is refreshed at the same time than the seismograms</span></span><br><span class="line">COMPUTE_INTEGRATED_ENERGY_FIELD = .false.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Movies/images/snaphots visualizations</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#-----------------------------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">every how many time steps we draw JPEG or PostScript pictures of the simulation</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">and/or we dump results of the simulation as ASCII or binary files (costly, <span class="keyword">do</span> not use a very small value)</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_IMAGES    = 200</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">minimum amplitude kept <span class="keyword">in</span> % <span class="keyword">for</span> the JPEG and PostScript snapshots; amplitudes below that are muted</span></span><br><span class="line">cutsnaps                        = 1.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">### for JPEG color images ####</span></span></span><br><span class="line">output_color_image              = .true.         # output JPEG color image of the results every NTSTEP_BETWEEN_OUTPUT_IMAGES time steps or not</span><br><span class="line">imagetype_JPEG                  = 3              # display 1=displ_Ux 2=displ_Uz 3=displ_norm 4=veloc_Vx 5=veloc_Vz 6=veloc_norm 7=accel_Ax 8=accel_Az 9=accel_norm 10=pressure</span><br><span class="line">factor_subsample_image          = 1.0d0          # (double precision) factor to subsample or oversample (if set to e.g. 0.5) color images output by the code (useful for very large models, or to get nicer looking denser pictures)</span><br><span class="line">USE_CONSTANT_MAX_AMPLITUDE      = .false.        # by default the code normalizes each image independently to its maximum; use this option to use the global maximum below instead</span><br><span class="line">CONSTANT_MAX_AMPLITUDE_TO_USE   = 1.17d4         # constant maximum amplitude to use for all color images if the above USE_CONSTANT_MAX_AMPLITUDE option is true</span><br><span class="line">POWER_DISPLAY_COLOR             = 0.30d0         # non linear display to enhance small amplitudes in JPEG color images</span><br><span class="line">DRAW_SOURCES_AND_RECEIVERS      = .true.         # display sources as orange crosses and receivers as green squares in JPEG images or not</span><br><span class="line">DRAW_WATER_IN_BLUE              = .true.         # display acoustic layers as constant blue in JPEG images, because they likely correspond to water in the case of ocean acoustics or in the case of offshore oil industry experiments (if off, display them as greyscale, as for elastic or poroelastic elements, for instance for acoustic-only oil industry models of solid media)</span><br><span class="line">USE_SNAPSHOT_NUMBER_IN_FILENAME = .false.        # use snapshot number in the file name of JPEG color snapshots instead of the time step (for instance to create movies in an easier way later)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">### for PostScript snapshots ####</span></span></span><br><span class="line">output_postscript_snapshot      = .false.        # output Postscript snapshot of the results every NTSTEP_BETWEEN_OUTPUT_IMAGES time steps or not</span><br><span class="line">imagetype_postscript            = 1              # display 1=displ vector 2=veloc vector 3=accel vector; small arrows are displayed for the vectors</span><br><span class="line">meshvect                        = .false.        # display mesh on PostScript plots or not</span><br><span class="line">modelvect                       = .false.        # display velocity model on PostScript plots or not</span><br><span class="line">boundvect                       = .true.         # display boundary conditions on PostScript plots or not</span><br><span class="line">interpol                        = .true.         # interpolation of the PostScript display on a regular grid inside each spectral element, or use the non-evenly spaced GLL points</span><br><span class="line">pointsdisp                      = 6              # number of points in each direction for interpolation of PostScript snapshots (set to 1 for lower-left corner only)</span><br><span class="line">subsamp_postscript              = 1              # subsampling of background velocity model in PostScript snapshots</span><br><span class="line">sizemax_arrows                  = 1.d0           # maximum size of arrows on PostScript plots in centimeters</span><br><span class="line">US_LETTER                       = .false.        # use US letter or European A4 paper for PostScript plots</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">### for wavefield dumps ####</span></span></span><br><span class="line">output_wavefield_dumps          = .false.        # output wave field to a text file (creates very big files)</span><br><span class="line">imagetype_wavefield_dumps       = 1              # display 1=displ vector 2=veloc vector 3=accel vector 4=pressure</span><br><span class="line">use_binary_for_wavefield_dumps  = .false.        # use ASCII or single-precision binary format for the wave field dumps</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Ability to run several calculations (several earthquakes)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">in</span> an embarrassingly-parallel fashion from within the same run;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">this can be useful when using a very large supercomputer to compute</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">many earthquakes <span class="keyword">in</span> a catalog, <span class="keyword">in</span> <span class="built_in">which</span> <span class="keyword">case</span> it can be better from</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">a batch job submission point of view to start fewer and much larger <span class="built_in">jobs</span>,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">each of them computing several earthquakes <span class="keyword">in</span> parallel.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">To turn that option on, <span class="built_in">set</span> parameter NUMBER_OF_SIMULTANEOUS_RUNS to a value greater than 1.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">To implement that, we create NUMBER_OF_SIMULTANEOUS_RUNS MPI sub-communicators,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">each of them being labeled <span class="string">"my_local_mpi_comm_world"</span>, and we use them</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">in</span> all the routines <span class="keyword">in</span> <span class="string">"src/shared/parallel.f90"</span>, except <span class="keyword">in</span> MPI_ABORT() because <span class="keyword">in</span> that <span class="keyword">case</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">we need to <span class="built_in">kill</span> the entire run.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">When that option is on, of course the number of processor cores used to start</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the code <span class="keyword">in</span> the batch system must be a multiple of NUMBER_OF_SIMULTANEOUS_RUNS,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">all the individual runs must use the same number of processor cores,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">which</span> as usual is NPROC <span class="keyword">in</span> the Par_file,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">and thus the total number of processor cores to request from the batch system</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">should be NUMBER_OF_SIMULTANEOUS_RUNS * NPROC.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">All the runs to perform must be placed <span class="keyword">in</span> directories called run0001, run0002, run0003 and so on</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(with exactly four digits).</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Imagine you have 10 independent calculations to do, each of them on 100 cores; you have three options:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 1/ submit 10 jobs to the batch system</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 2/ submit a single job on 1000 cores to the batch, and in that script create a sub-array of jobs to start 10 jobs,</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">each running on 100 cores (see e.g. http://www.schedmd.com/slurmdocs/job_array.html )</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 3/ submit a single job on 1000 cores to the batch, start SPECFEM2D on 1000 cores, create 10 sub-communicators,</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> into one of 10 subdirectories (called e.g. run0001, run0002,... run0010) depending on the sub-communicator</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">your MPI rank belongs to, and run normally on 100 cores using that sub-communicator.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># The option below implements 3/.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">NUMBER_OF_SIMULTANEOUS_RUNS     = 1</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> we perform simultaneous runs <span class="keyword">in</span> parallel, <span class="keyword">if</span> only the <span class="built_in">source</span> and receivers vary between these runs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">but not the mesh nor the model (velocity and density) <span class="keyword">then</span> we can also <span class="built_in">read</span> the mesh and model files</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">from a single run <span class="keyword">in</span> the beginning and broadcast them to all the others; <span class="keyword">for</span> a large number of simultaneous</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">runs <span class="keyword">for</span> instance when solving inverse problems iteratively this can DRASTICALLY reduce I/Os to disk <span class="keyword">in</span> the solver</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(by a <span class="built_in">factor</span> equal to NUMBER_OF_SIMULTANEOUS_RUNS), and reducing I/Os is crucial <span class="keyword">in</span> the <span class="keyword">case</span> of huge runs.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Thus, always <span class="built_in">set</span> this option to .<span class="literal">true</span>. <span class="keyword">if</span> the mesh and the model are the same <span class="keyword">for</span> all simultaneous runs.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">In that <span class="keyword">case</span> there is no need to duplicate the mesh and model file database (the content of the DATABASES_MPI</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">directories) <span class="keyword">in</span> each of the run0001, run0002,... directories, it is sufficient to have one <span class="keyword">in</span> run0001</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">and the code will broadcast it to the others)</span></span><br><span class="line">BROADCAST_SAME_MESH_AND_MODEL   = .true.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-----------------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">set</span> to <span class="literal">true</span> to use GPUs</span></span><br><span class="line">GPU_MODE                        = .false.</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="SOURCE"><a href="#SOURCE" class="headerlink" title="SOURCE"></a>SOURCE</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Source 1</span></span></span><br><span class="line">source_surf                     = .false.        # source inside the medium, or source automatically moved exactly at the surface by the solver</span><br><span class="line">xs                              = 96000.00      # source location x in meters</span><br><span class="line">zs                              = 180000.00      # source location z in meters (zs is ignored if source_surf is set to true, it is replaced with the topography height)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Source type parameters:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 1 = elastic force or acoustic pressure</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 2 = moment tensor</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or Initial field <span class="built_in">type</span> (when initialfield <span class="built_in">set</span> <span class="keyword">in</span> Par_file):</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For a plane wave including converted and reflected waves at the free surface:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 1 = P wave,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 2 = S wave,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 3 = Rayleigh wave</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For a plane wave without converted nor reflected waves at the free surface, i.e. with the incident wave only:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 4 = P wave,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 5 = S wave</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For initial mode displacement:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 6 = mode (2,3) of a rectangular membrane</span></span><br><span class="line">source_type                     = 1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Source time <span class="keyword">function</span>:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">In the <span class="keyword">case</span> of a <span class="built_in">source</span> located <span class="keyword">in</span> an acoustic medium,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">to get pressure <span class="keyword">for</span> a Ricker <span class="keyword">in</span> the seismograms, here we need to <span class="keyword">select</span> a Gaussian <span class="keyword">for</span> the potential Chi</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">used as a <span class="built_in">source</span>, rather than a Ricker, because pressure = - Chi_dot_dot.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This is <span class="literal">true</span> both when USE_TRICK_FOR_BETTER_PRESSURE is <span class="built_in">set</span> to .<span class="literal">true</span>. or to .<span class="literal">false</span>.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Options:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 1 = second derivative of a Gaussian (a.k.a. Ricker),</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 2 = first derivative of a Gaussian,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 3 = Gaussian,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 4 = Dirac,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 5 = Heaviside (4 and 5 will produce noisy recordings because of frequencies above the mesh resolution <span class="built_in">limit</span>),</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 6 = ocean acoustics <span class="built_in">type</span> I,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 7 = ocean acoustics <span class="built_in">type</span> II,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 8 = external <span class="built_in">source</span> time <span class="keyword">function</span> = 8 (<span class="built_in">source</span> <span class="built_in">read</span> from file),</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 9 = burst,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">10 = Sinus <span class="built_in">source</span> time <span class="keyword">function</span>,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">11 = Marmousi Ormsby wavelet</span></span><br><span class="line">time_function_type              = 2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">If time_function_type == 8, enter below the custom <span class="built_in">source</span> file to <span class="built_in">read</span> (two columns file with time and amplitude) :</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(For the moment dt must be equal to the dt of the simulation. File name cannot exceed 150 characters)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">IMPORTANT: <span class="keyword">do</span> NOT put quote signs around the file name, just put the file name itself otherwise the run will stop</span></span><br><span class="line">name_of_source_file             = ""             # Only for option 8 : file containing the source wavelet</span><br><span class="line">burst_band_width                = 0.             # Only for option 9 : band width of the burst</span><br><span class="line">f0                              = 1.400e-02      # dominant source frequency (Hz) if not Dirac or Heaviside</span><br><span class="line">tshift                          = 0.000e+00      # time shift when multi sources (if one source, must be zero)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Force source</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">angle of the <span class="built_in">source</span> (<span class="keyword">for</span> a force only); <span class="keyword">for</span> a plane wave, this is the incidence angle; <span class="keyword">for</span> moment tensor sources this is unused</span></span><br><span class="line">anglesource                     = 0.00</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Moment tensor</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The components of a moment tensor <span class="built_in">source</span> must be given <span class="keyword">in</span> N.m, not <span class="keyword">in</span> dyne.cm as <span class="keyword">in</span> the DATA/CMTSOLUTION <span class="built_in">source</span> file of the 3D version of the code.</span></span><br><span class="line">Mxx                             = 1.000000       # Mxx component (for a moment tensor source only)</span><br><span class="line">Mzz                             = -1.000000      # Mzz component (for a moment tensor source only)</span><br><span class="line">Mxz                             = 0.000000       # Mxz component (for a moment tensor source only)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Amplification (factor to amplify source time function)</span></span></span><br><span class="line">factor                          = 1.000e+10      # amplification factor</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Moving source parameters</span></span></span><br><span class="line">vx                              = 0.0            # Horizontal source velocity (m/s)</span><br><span class="line">vz                              = 0.0            # Vertical source velocity (m/s)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="interfaces-dat"><a href="#interfaces-dat" class="headerlink" title="interfaces.dat"></a>interfaces.dat</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">number of interfaces</span></span><br><span class="line"> 2</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># for each interface below, we give the number of points and then x,z for each point</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># interface number 1 (bottom of the mesh)</span></span></span><br><span class="line"> 2</span><br><span class="line"> 0.0 0.0</span><br><span class="line"> 480000.0 0.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">interface number 5 (topography, top of the mesh)</span></span><br><span class="line"> 2</span><br><span class="line"> 0.0 180000.0</span><br><span class="line"> 480000.0 180000.0</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># for each layer, we give the number of spectral elements in the vertical direction</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># layer number 1</span></span></span><br><span class="line"> 40</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> seisflows </tag>
            
            <tag> inversion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hvsr</title>
      <link href="/2023/05/22/2023-05-22-hvsr/"/>
      <url>/2023/05/22/2023-05-22-hvsr/</url>
      
        <content type="html"><![CDATA[<p>参考：<a href="https://www.epa.gov/environmental-geophysics/passive-seismic-hvsr">passive-seismic-hvsr</a></p><p><a href="zotero://note/u/CTAJNPFS/](zotero://note/u/CTAJNPFS/)">微动H/V谱比方法 秦彤威，王少曈，冯宣政，鲁来玉* 中国地震局地球物理研究所，北京 100081</a></p><p><a href="zotero://note/u/CTAJNPFS/">zotero://note/u/CTAJNPFS/</a></p><p><a href="zotero://pdf">a</a></p><h1 id="被动地震-HVSR"><a href="#被动地震-HVSR" class="headerlink" title="被动地震 (HVSR)"></a>被动地震 (HVSR)</h1><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a><strong>基本概念</strong></h4><p>虽然在其他地震方法中被认为是多余的和“令人讨厌的”，但地震噪声是一种声能来源，可用于估计有价值的地下信息。地震噪声由大气和人为干扰引起的自然振动组成，由于它无处不在，是一种非常方便的信号源。水平垂直频谱比 (HVSR) 被动地震方法利用地震噪声信号来估计未固结的覆盖层沉积物的特性。</p><p>通过随时间测量地震噪声的三个分量，HVSR 方法可以确定点位置处覆盖层的基本共振频率 ( <em>f 0 )。</em>该频率与相应松散材料的层厚 ( <em>h</em> )（即基岩深度）和平均剪切波地震速度 ( <em>Vs ) 有关。</em>因此，HVSR 方法可用于估计急剧覆盖基岩的沉积物的厚度或剪切波速度。</p><h4 id="理论"><a href="#理论" class="headerlink" title="理论"></a><strong>理论</strong></h4><p>HVSR 方法是一种被动地震方法，因此消除了对主动（即受控和人工诱发的）地震源信号的需要。相反，HVSR 方法考虑地震噪声（由人类活动、大气事件和海浪引起的环境声能）如何与地下物质相互作用。这些被归类为微震和微动的低频波穿透地下，可以穿过整个松散层到达基岩。</p><p>材料以基本共振频率自然振动，并在接触时放大具有相同频率的入射波。这种现象（即共振）可以由遇到上覆岩层-基岩界面的地震噪声激发，在该处声阻抗通常会发生变化。声阻抗是声能阻力的量度并且取决于地震速度和密度。基岩-沉积物界面必须存在足够（即 2:1）的对比度，才能通过 HVSR 方法识别（Bard 等人，2004 年）。</p><p>HVSR 方法使用单个宽带三分量地震仪测量三个正交方向（即两个水平方向和一个垂直方向）的地震噪声。原始地震道数据显示了每个方向在时域（即随时间变化）的噪声振幅。地震噪声振幅是随时间变化的，记录的轨迹通常在被转换到频域之前被过滤以去除高频脉冲和人为噪声（Koller 等人，2004 年）。 </p><p>两个水平分量被平均合并成一个频谱，用于计算水平与垂直 (H/V) 频谱的比率。尽管存在时变因素，该 H/V 频谱比仍保持一致，因此可以可靠地用于估计基本谐振频率 ( <em>f 0</em> )。通常，<em>f 0</em>是最低值，由 H/V 频谱上的最高振幅峰值证明（Arwananda 等人，2017 年）。</p><p>基本共振频率 ( <em>f 0</em> <em>) 与层厚度 ( h</em> ) 和平均剪切波速度 ( <em>Vs</em> )有关，因此  <strong>$f 0 = Vs / 4h$</strong> 。因此，如果任一参数是直接测量的（例如，钻孔测井、地震速度测量）或使用本地信息估计，则<em>f 0</em>可用于直接估计未知变量。此外，<em>f 0</em>可用于使用局部幂律回归方程估计层厚度，该方程是根据在具有广泛已知厚度的地点测量的<em>f 0值开发的（Johnson 和 Lane，2016）。</em> </p><h4 id="应用"><a href="#应用" class="headerlink" title="应用"></a><strong>应用</strong></h4><p>HVSR 地震仪设计为占地面积小的手持式装置，因此，增加了地下调查的潜力和便利性。HVSR 方法提供了收集以前需要昂贵和/或耗时的现场工作（例如，钻井、大规模、侵入性调查）的数据的能力。此外，这种方法将地球物理学的应用扩展到城市化地区，这通常被证明具有挑战性，或者使用更传统的方法是不可能的 (Benjumea, 2011)。</p><p>然而，城市环境中的人为噪声和修改后的景观（例如，人行道）仍然具有挑战性，因为地面耦合是三个重要的数据收集参数之一。</p><p>涉及 HVSR 数据收集的另外两个因素是单元的水平和方向。尽管很重要，但不正确的水平或方向不会像耦合不足那样导致数据无法使用。然而，在大规模研究中，共同的仪器方向对于一致性变得更加关键，特别是如果该地点具有各向异性的地下属性。</p><p>请注意，上述基本共振频率、平均剪切波地震速度和层厚度之间的关系仅在简单的两层系统中有效。水平到垂直的频谱可能会出现多个峰值，这种情况可能表明存在多层系统，需要进行更高级的分析（Bard 等人，2004 年）。此外，对地下地震速度结构所做的假设也可能导致复杂化。</p><p>HVSR 方法假定整个研究区域具有统计上相似的地震速度特性。根据用于将基本共振频率与层厚度相关联的方程式，平均剪切波速度 ( <em>Vs</em> ) 被假定为恒定或随深度均匀变化。由于地球材料缺乏完全的同质性，在<em>Vs</em>随深度/位置不规则变化以及地层接触呈渐变或不规则的情况下会产生误差 (Delgado, 2000)。</p><p>本地和区域扩展研究依赖于 HVSR 数据来绘制基岩上的松散沉积物（例如，Ibs Von Seht 等，1999 年；Parolai 等，2002 年；Lane 等，2008 年）。此外，HVSR 方法可以很容易地集成到各种类型的地球物理调查中，以抽查覆盖层厚度并约束模型和/或解释。作为主要或补充技术，HVSR 方法在以下应用中非常有用：</p><ul><li>基岩表面/沉积物厚度/勘测测绘</li><li>冰川/冰原测绘</li><li>剪切波速度结构测定</li><li>微分区/地震响应分析</li><li>岩土工程/地震工程项目</li><li>路堤完整性测定</li><li>动态基础设施表征</li></ul><h4 id="示例-案例研究"><a href="#示例-案例研究" class="headerlink" title="示例/案例研究"></a><strong>示例/案例研究</strong></h4><p>Benjumea, B.、Macau, A.、Gabàs, A.、Bellmunt, F.、Figueras, S. 和 Cirés J.，2011 年，用于底土表征的综合地球物理剖面和 H/V 微动测量：近地表地球物理学，v 9、没有。5，页。413-425，内政部：10.3997/1873-0604.2011021。</p><p><em>抽象的</em>：测绘覆盖层下的基岩结构对于了解地质和水文地质过程至关重要。获取这些信息通常是通过钻井或地球物理调查来完成的；但这些研究很昂贵，需要大量的采集和处理时间。此外，在可用于仪器部署的区域有限的城市地区，地球物理数据采集在后勤方面可能具有挑战性。在有利的条件下（一维结构和高声阻抗对比），H/V 微动技术可以提供基岩深度的估计。该技术用于在地震微分区研究中获得土壤共振频率。它基于计算在单个站点获取的微震记录的水平与垂直光谱比。土壤共振频率与土壤剪切波速度和厚度有关。在这里，我们研究了将微动和传统勘探地球物理技术（电阻率和地震层析成像）相结合的能力，以获得与土壤共振频率和覆盖层厚度相关的经验关系。随后，我们建议将微动测量扩展到地球物理调查尚未覆盖的邻近区域。该方法已应用于位于花岗岩环境中的试验场，冲积/崩积沉积物覆盖花岗岩风化剖面。该地区的特点是城市发展和地势崎岖的部门。先验地，该区域具有应用 H/V 微动技术的合适条件。覆盖层厚度估计在 20-50 m 之间。</p><p>Mahajan, AK、Mundepi, AK、Chauhan, N.、Jasrotia, AS、Rai, N. 和 Gachhayat, TK，2012 年，用于评估印度喜马拉雅西北部查谟市场地效应的主动地震和被动微震 HVSR——案例研究：应用地球物理学杂志，v. 77，p. 51-62，内政部：10.1016/j.jappgeo.2011.11.005。</p><p><em>抽象的</em>：一维剪切波速度结构对于场地效应研究和岩土工程很重要，但是从传统的地球物理技术中推导它是相当困难和昂贵的。在喜马拉雅山前部的 30 个地点进行了主动（MASW）和被动（微动，HVSR）方法，该地区的特点是软沉积物和强烈的地震作用。从喜马拉雅西北查谟市下中新世床岩（上西瓦利克砾岩）上覆的 30 米厚的第四纪沉积层中获得了 ~ 238 m/s 至 ~ 450 m/s 范围内的剪切波速度 (Vs)。剪切波速度 (Vs) 连同 Chamoli 地震 (mb 6.8) 的地震输入运动已被用于获得场地响应谱。响应谱表明单层或两层建筑物的峰值地面加速度增加了五到七倍，输入地面运动的放大率增加了八到十二倍。放大频谱在中部显示峰值放大<del>2 Hz~~ 3 Hz，在城市北部、西南部和东南部显示</del> 1.75 Hz~2 Hz。微动 HVSR 的优点是它可以直接估计基频，发现对于相同的站点，基频在 ~ 1 Hz 到 ~ 3 Hz 之间变化。此外，将从 ModelHVSR Matlab 程序中获得的一维速度模型与通过使用 MASW 推导准备的土壤模型进行了比较。</p><p>Panou, AA、Theodulidis, N.、Hatzidimitriou, P.、Stylianidis, K. 和 Papazachos, CB，2005 年，场地效应估计中的环境噪声水平垂直频谱比以及与城市环境中地震破坏分布的相关性：the塞萨洛尼基市（希腊北部）的案例：土壤动力学和地震工程，第 25 卷，第 第 4 页 261-274，doi：10.1016/j.soildyn.2005.02.004。</p><p><em>抽象的：</em>在受 20/6/1978 (M=6.5) 破坏性地震强烈影响的塞萨洛尼基市（希腊北部）市中心区，调查了根据环境噪声测量估计地震现场响应特征的有效性。为此，在覆盖城市中心的密集点网格中进行了 250 个“单一站点”环境噪声测量。计算了每个站点的环境噪声 H/V 频谱比，并估计了基频 (fo) 和相应的 H/V 振幅水平 (Ao)。将 fo 和 Ao 的等值线图与地质和岩土工程研究的结果以及 1978 年地震的宏观地震数据进行了比较，发现它们具有很好的相关性。</p><p>Picotti, S.、Francese, R.、Giorgi, M. 和 Pettenati, F.，2017 年，使用被动地震数据的水平垂直分量光谱比 (HVSR) 技术估算冰川厚度和基础特性：期刊冰川学，v. 63，没有。238，页。229-248，内政部：10.1017/慢跑.2016.135。</p><p><em>抽象的</em>: 微动测量和水平垂直光谱比 (HVSR) 技术通常用于场地效应研究以及确定软沉积层的厚度，可有效地用于绘制冰川厚度图。在这项工作中，广泛用于地球内部成像的无线电回波探测、地电和主动地震方法被用于验证高山和南极冰川环境中 HVSR 技术的可靠性。该技术已被用于分析来自 Adamello 和 Ortles-Cevedale 地块（意大利）、伯尔尼高地阿尔卑斯山（瑞士）和 Whillans 冰流（南极洲西部）冰川的被动地震数据。与不同地球物理成像方法获得的结果相比，我们表明，HVSR 光谱中的共振频率与现场的冰厚度密切相关，范围从几十米到超过 800 米。该方法的可靠性主要取决于冰川表面传感器的耦合和基础阻抗对比。这种被动地震技术提供了一种逻辑上高效且具有成本效益的方法来绘制冰川和冰盖厚度图。此外，在某些条件下，它允许对基础地震特性进行可靠的估计。这种被动地震技术提供了一种逻辑上高效且具有成本效益的方法来绘制冰川和冰盖厚度图。此外，在某些条件下，它允许对基础地震特性进行可靠的估计。这种被动地震技术提供了一种逻辑上高效且具有成本效益的方法来绘制冰川和冰盖厚度图。此外，在某些条件下，它允许对基础地震特性进行可靠的估计。</p><p>Picozzi, M.、Parolai, S. 和 Richwalksi, SM，2005 年，地震噪声的 H/V 比和频散曲线的联合反演：估计基岩的 S 波速度：地球物理研究快报，第 32 卷，第 1 期。11, 4 页，doi:10.1029/2005GL022878。</p><p><em>摘要</em>: 通过地震噪声记录获得的相速度和 H/V 比曲线的联合反演，可以反演局部沉积盖层的剪切波速度结构。我们的反演方案使用遗传算法并考虑了高阶模式对数据集的影响。受先前发表的关于联合反演的结果 (Parolai et al., 2005) 的鼓舞，我们更进一步。我们发现，使用合成数据集，沉积物-基岩界面处的阻抗对比对 H/V 比曲线的形状有很大影响，因此可以很好地限制节理中的基岩 S 波速度- 反转过程。使用真实数据集进一步证实了我们的观察结果。</p><h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h4><p>Arwananda, AP、Aryaseta, B.、Dezulfakar, H.、Fatahillah, Y. 和 Rochman, J.，2017 年，Horizontal vertical Spectral Ratio Method in Microtremor to Estimate Engineering Bedrock Thickness at Sedati Mud Volcano, in Proceedings, IOP <em>Conference</em> Series : Earth and Environmental Science 62, September 2016: Bali, Indonesia, Institute of Physics, 7 p., doi:10.1088/1755-1315/62/1/012010.</p><p>Bard P.-Y.、Acerra, C.、Alguacil, G.、Anastasiadis, A.、Atakan, K.、Azzara, R.、Basili, R.、Bertrand, E.、Bettig, B.、Blarel, F ., Bonnefoy-Claudet, S., Bordoni, P., Borges, A., Bøttger-Sørensen, M., Bourjot, L., Cara, F., Caserta, A., Chatelain, J.-L., Cornou , C., Cotton, F., Cultrera, G., Daminelli, R., Dimitriu, P., Dunand, F., Duval, A.-M., Fäh, D., Fojtikova, L., de Franco, R., di Giulio, G., Grandison, M., Guéguen, P., Guillier, B., Haghshenas, E., Havskov, J., Jongmans, D., Kind, F., Kirsch, J., Koehler , A., Koller, M., Kristek, J., Kristekova, M., Lacave, C., La Rocca, M., Marcellini, A., Maresca, R., Margaris, B., Moczo, P., Moreno, B., Morrone, A., Ohrnberger, M., Ojeda, JA, Oprsal, I., Pagani, M., Panou, A., Paz, C., Querendez, E., Rao, S., Rey , J., Richter, G., Rippberger, J., Roquette, P., Roten, D., Rovelli, A., Saccoroti, G.,Savvaidis, A., Scherbaum, F., Schisselé, E., Spühler-Lanz, E., Tento, A., Teves-Costa, P., Theodulidis, N., Tvedt, E., Utheim, T., Vassiliadès , J.-F., Vidal, S., Viegas, G., Vollmer, D., Wathelet, M., Woessner, J., Wolff, K., Zacharapoulos, S., 2004，实施指南环境振动的 H/V 频谱比技术——测量、处理和解释：SESAME 欧洲研究项目 WP12——可交付 D23.12，62 页，可在：SESAME 欧洲研究项目 WP12—Deliverable D23.12，62 页，网址：SESAME 欧洲研究项目 WP12—Deliverable D23.12，62 页，网址：<a href="ftp://ftp.geo.uib.no/pub/seismo/SOFTWARE/SESAME/USER-GUIDELINES/SESAME-HV-User-Guidelines.pdf">ftp://ftp.geo.uib.no/pub/seismo/SOFTWARE/SESAME/USER-GUIDELINES/SESAME-HV-User-Guidelines.pdf</a>。</p><p>Benjumea, B.、Macau, A.、Gabàs, A.、Bellmunt, F.、Figueras, S. 和 Cirés, J.，2011 年，用于底土表征的综合地球物理剖面和 H/V 微动测量：近地表地球物理学，第 9 节，没有。5，页。413-425，内政部：10.3997/1873-0604.2011021。</p><p>Delgado, J.、López-Casado, C.、Giner, J.、Estévez, A.、Cuenca, A. 和 Molina, S.，2000，作为地球物理勘探工具的微动：应用和局限性：纯粹和应用地球物理学, v. 157, 没有。第 9 页 1445-1462，内政部：10.1007/PL00001128。</p><p>Ibs-von Seht, M. 和 Wohlenberg, J.，1999 年，用于绘制软土沉积物厚度图的微震测量：美国地震学会公报，第 89 卷，第 13 页。250-259。</p><p>Johnson, CD, and Lane, JW, 2016, Statistical comparison of methods for estimating sediment thickness from Horizontal-to-Vertical Spectral Ratio (HVSR) seismic methods: An example from Tylerville, Connecticut, USA, in Proceedings,<em>应用</em>研讨会地球物理学到工程和环境问题：勘探地球物理学会，p. 317-323，doi:10.4133/SAGEEP.29-057。</p><p>Lane, JW, White, EA, Steele, GV, and Cannia, JC, 2008, Estimation of bedrock depth using the horizontal-to-vertical (H/V) ambient-noise seismic method, in Proceedings, 地球物理学<em>应用</em>研讨会工程和环境问题：勘探地球物理学会，p。490-502，内政部：10.4133/1.2963289。</p><p>Koller, MG、Chatelain, J.-L.、Guillier, B.、Duval, A.-M.、Atakan, K.、Lacave, C.、Bard, P.-Y. 和 SESAME 参与者，2004 年，用于实施 H/V 比技术的实用用户指南和软件：测量条件、处理方法和结果解释，第13届世界地震工程会议论文集：加拿大不列颠哥伦比亚省温哥华，WCEE，10 页<em>。</em></p><p>Nakamura, Y., 1989, A method for subsurface using microtremors using the microtremors on the ground surface: Quarterly Report Railway Technical Research Institute, v. 30, no. 1989, 一种利用地表微震的地下动力特性估计方法：铁道技术研究所季报，第 30 卷，第 第 1 页 25-33。</p><p>Panou, AA、Theodulidis, N.、Hatzidimitriou, P.、Stylianidis, K. 和 Papazachos, CB，2005 年，场地效应估计中的环境噪声水平垂直频谱比以及与城市环境中地震破坏分布的相关性：the塞萨洛尼基市（希腊北部）的案例：土壤动力学和地震工程，第 25 卷，第 第 4 页 261-274，doi：10.1016/j.soildyn.2005.02.004。</p><p><em>Parolai, S.、Bormann, P. 和 Milkert, C.，2002 年， Vs</em>之间的新关系、沉积物厚度和根据科隆地区地震噪声的 H/V 比计算的共振频率（德国）：公报美国地震学会，第 92 卷，第 1 期。第 6 页 2521-2527，内政部：10.1785/0120010248。</p><p>Picotti, S.、Francese, R.、Giorgi, M. 和 Pettenati, F.，2017 年，使用被动地震数据的水平垂直分量光谱比 (HVSR) 技术估算冰川厚度和基础特性：期刊冰川学，v. 63，没有。238，页。229-248，内政部：10.1017/慢跑.2016.135。</p><p>Picozzi, M.、Parolai, S. 和 Richwalksi, SM，2005 年，地震噪声的 H/V 比和频散曲线的联合反演：估计基岩的 S 波速度：地球物理研究快报，第 32 卷，第 1 期。11, 4 页，doi:10.1029/2005GL022878。</p>]]></content>
      
      
      
        <tags>
            
            <tag> seismic </tag>
            
            <tag> hvsr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>migration</title>
      <link href="/2023/05/22/2023-05-22-migration/"/>
      <url>/2023/05/22/2023-05-22-migration/</url>
      
        <content type="html"><![CDATA[<p>参考： <a href="https://en.wikipedia.org/wiki/Seismic_migration">Seismic_migration</a></p><p>​<a href="https://wiki.seg.org/wiki/Migration_principles">Migration_principles</a></p><h1 id="地震偏移"><a href="#地震偏移" class="headerlink" title="地震偏移"></a>地震偏移</h1><p><strong>地震偏移</strong>是将地震事件在空间或时间上几何重新定位到事件在地下发生的位置而不是在地面记录的位置的过程，从而创建更准确的地下<a href="https://en.wikipedia.org/wiki/Geology">图像</a>。这个过程对于克服复杂地质区域所施加的地球物理方法的局限性是必要的，例如：<a href="https://en.wikipedia.org/wiki/Fault_(geology)">断层</a>、<a href="https://en.wikipedia.org/wiki/Salt_dome">盐体</a>、<a href="https://en.wikipedia.org/wiki/Fold_(geology)">褶皱</a>等。[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-image1-1">1] </a>[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-image2-2">2] </a>[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-image3-3">3]</a></p><p>偏移将倾角反射器移动到它们真正的地下位置并折叠<a href="https://en.wikipedia.org/wiki/Diffraction">衍射</a>，[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-4">4]</a>导致偏移图像通常具有更高的<a href="https://en.wikipedia.org/wiki/Spatial_resolution">空间分辨率</a>，并且比非偏移图像更好地解析复杂地质区域。一种偏移形式是基于反射的地球物理方法（<a href="https://en.wikipedia.org/wiki/Seismic_reflection">地震反射</a>和<a href="https://en.wikipedia.org/wiki/Ground-penetrating_radar">探地雷达</a>） 的标准数据处理技术之一</p><p>自从地震勘探开始以来，人们就了解了偏移的必要性，并且迁移了 1921 年的第一批地震反射数据。[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-Sheriff-5">5]</a>计算迁移<a href="https://en.wikipedia.org/wiki/Algorithms">算法</a>已经存在多年，但它们只是在过去 20 年才开始广泛使用，因为它们非常耗费资源。迁移可以导致图像质量的显着提升，因此算法是地球物理行业和学术界深入研究的主题。</p><h2 id="基本原理-编辑"><a href="#基本原理-编辑" class="headerlink" title="基本原理[编辑]"></a>基本原理[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=1">编辑</a>]</h2><p><a href="https://en.wikipedia.org/wiki/File:Raypaths_for_a_Horizontal_Reflector.png"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Raypaths_for_a_Horizontal_Reflector.png/220px-Raypaths_for_a_Horizontal_Reflector.png" alt="img"></a></p><p>图表显示了来自水平反射器的零偏移反射的射线路径。</p><p><a href="https://en.wikipedia.org/wiki/File:Raypaths_for_a_Dipping_Reflector.png"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Raypaths_for_a_Dipping_Reflector.png/220px-Raypaths_for_a_Dipping_Reflector.png" alt="img"></a></p><p>图表显示了倾角反射器的零偏移反射的射线路径和由此产生的表观倾角。</p><p><a href="https://en.wikipedia.org/wiki/File:SimpleSyncline.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/SimpleSyncline.jpg/220px-SimpleSyncline.jpg" alt="img"></a></p><p>零偏移量非迁移数据集。恒速世界中简单向斜的原始零偏移距数据。请注意图像中标志性的领结效果。这是从向斜两侧发生反射并在不同时间到达同一接收器的结果。迁移可以纠正这种影响。</p><p><a href="https://en.wikipedia.org/wiki/File:PhaseShiftMigSimpleSyncline.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/PhaseShiftMigSimpleSyncline.jpg/220px-PhaseShiftMigSimpleSyncline.jpg" alt="img"></a></p><p><a href="https://en.wikipedia.org/wiki/File:SimpleSyncline.jpg">File :SimpleSyncline.jpg</a>数据的零偏移迁移数据集。该数据是使用称为相移的时间偏移进行迁移的，该时间偏移在<a href="https://en.wikipedia.org/wiki/Fourier_domain">傅立叶域中</a>运行。迁移已将所有事件替换到正确位置，成功重建向斜。然而，整个图像中存在由迁移引起的噪声的错误事件（摆动弧）。</p><p>地震波是一种<a href="https://en.wikipedia.org/wiki/Linear_elasticity#Elastic_wave">弹性波，它以有限的速度在</a><a href="https://en.wikipedia.org/wiki/Earth">地球</a>中传播，受地震波所在岩石的弹性特性控制。<a href="https://en.wikipedia.org/wiki/Acoustic_impedance">在具有不同声阻抗的</a>两种岩石类型之间的界面处，地震能量要么<a href="https://en.wikipedia.org/wiki/Refracted">被折射</a>，要么<a href="https://en.wikipedia.org/wiki/Reflection_(physics)">被反射</a>回表面，要么被介质<a href="https://en.wikipedia.org/wiki/Attenuation_coefficient">衰减。</a>反射能量到达地表并由放置在距波源已知距离处的<a href="https://en.wikipedia.org/wiki/Geophone">地震检波器记录。</a>当<a href="https://en.wikipedia.org/wiki/Geophysicist">地球物理学家</a>查看地震检波器记录的能量，他们知道传播时间和源与接收器之间的距离，但不知道到反射器的距离。</p><p>在最简单的地质环境中，具有单个水平反射器、恒定速度和同一位置的源和接收器（称为零偏移，其中偏移是源和接收器之间的距离），地球物理学家可以确定位置通过使用关系的反射事件：</p><p>其中 d 是距离，v 是地震速度（或传播速度），t 是从震源到接收器的测量时间。</p><p>在这种情况下，距离减半，因为可以假设从源到达反射器只需要总传播时间的一半，然后另一半返回接收器。</p><p>结果给了我们一个单一的<a href="https://en.wikipedia.org/wiki/Scalar_(physics)">标</a>量值，它实际上代表距离源/接收器的半个球体，反射可能起源于此。它是一个半球体，而不是一个完整的球体，因为我们可以忽略所有发生在表面之上的不合理的可能性。在水平反射器的简单情况下，可以假设反射垂直位于源/接收器点下方（见图）。</p><p>在倾角反射器的情况下，情况更为复杂，因为第一次反射起源于倾角方向的更上方（见图），因此旅行时间图将显示减少的倾角，这定义了“迁移器方程”：[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-Sheriff-5">5]</a></p><p>其中ξ a是<em>视倾角</em>，而ξ是<em>真实倾角</em>。</p><p>零偏移距数据对地球物理学家很重要，因为偏移操作要简单得多，并且可以用球面表示。当以非零偏移获取数据时，球体变成椭圆<a href="https://en.wikipedia.org/wiki/Ellipsoid">体</a>并且表示起来要复杂得多（无论是在几何上还是在计算上）。</p><h2 id="使用-编辑"><a href="#使用-编辑" class="headerlink" title="使用[编辑]"></a>使用[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=2">编辑</a>]</h2><p><a href="https://en.wikipedia.org/wiki/Lithology">对于地球物理学家来说，复杂地质学被定义为在横向和/或垂直速度方面存在突然或鲜明对比的任何地方（例如，岩石类型或岩性</a>的突然变化导致地震波速度的急剧变化）。</p><p>地球物理学家认为复杂地质的一些例子是：<a href="https://en.wikipedia.org/wiki/Faulting">断层</a>、<a href="https://en.wikipedia.org/wiki/Fold_(geology)">褶皱</a>、（一些）压裂、<a href="https://en.wikipedia.org/wiki/Salt_dome">盐体</a>和<a href="https://en.wikipedia.org/wiki/Unconformity">不整合面</a>。在这些情况下，使用一种称为叠前偏移 (PreSM) 的偏移形式，其中在移动到零偏移之前偏移所有轨迹。因此，使用了更多的信息，从而产生了更好的图像，以及 PreSM 比叠后偏移更准确地接受速度变化的事实。</p><h2 id="迁移类型-编辑"><a href="#迁移类型-编辑" class="headerlink" title="迁移类型[编辑]"></a>迁移类型[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=3">编辑</a>]</h2><p>根据预算、时间限制和地下地质情况，<a href="https://en.wikipedia.org/wiki/Geophysicists">地球物理学家</a>可以采用两种基本类型的偏移算法中的一种，由它们的应用领域定义：时间偏移和深度偏移。</p><h3 id="时间迁移-编辑"><a href="#时间迁移-编辑" class="headerlink" title="时间迁移[编辑]"></a>时间迁移[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=4">编辑</a>]</h3><p>时间偏移应用于<a href="https://en.wikipedia.org/wiki/Time_domain">时间坐标</a>中的<a href="https://en.wikipedia.org/wiki/Reflection_seismology">地震数据</a>。这种类型的迁移假设只有轻微的横向<a href="https://en.wikipedia.org/wiki/Seismic_velocity">速度</a>变化，并且在存在最有趣和复杂的地下结构（尤其是盐）时会失效。一些常用的时间偏移算法是：Stolt 偏移，[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-6">6]</a> Gazdag [<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-7">7]</a>和有限差分偏移。</p><h3 id="深度偏移-编辑"><a href="#深度偏移-编辑" class="headerlink" title="深度偏移[编辑]"></a>深度偏移[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=5">编辑</a>]</h3><p>深度偏移应用于深度（<a href="https://en.wikipedia.org/wiki/Cartesian_coordinates">正笛卡尔</a>）坐标中的地震数据，深度坐标必须根据时间坐标中的地震数据进行计算。因此，该方法确实需要速度模型，这使其成为资源密集型，因为建立地震速度模型是一个漫长而反复的过程。这种偏移方法的显着优点是它可以成功地用于具有横向速度变化的区域，这些区域往往是<a href="https://en.wikipedia.org/wiki/Petroleum_geology">石油地质学家</a>最感兴趣的区域。一些常用的深度偏移算法是基尔霍夫深度偏移、逆时偏移 (RTM)、[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-8">8]</a>高斯波束偏移[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-9">9]</a>和波动方程偏移。[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-10">10]</a></p><h2 id="分辨率-编辑"><a href="#分辨率-编辑" class="headerlink" title="分辨率[编辑]"></a>分辨率[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=6">编辑</a>]</h2><p>偏移的目标是最终提高空间分辨率，并且对地震数据所做的基本假设之一是它仅显示初级反射并且已去除所有噪声。[<a href="https://en.wikipedia.org/wiki/Seismic_migration#cite_note-Sheriff-5">5]</a> 为了确保最大分辨率（从而最大程度地提高图像质量），应在迁移前对数据进行充分预处理。在迁移过程中，可能很容易区分预迁移的噪声可能会在整个孔径长度上涂抹，从而降低图像的锐度和清晰度。</p><p>进一步的基本考虑是使用 2D 还是 3D 偏移。<a href="https://en.wikipedia.org/wiki/Strike_and_dip">如果地震数据具有交叉倾角</a>元素（垂直于采集线倾角的层），则主反射将源自面外，而 2D 偏移无法将能量放回原点。在这种情况下，需要进行 3D 偏移以获得最佳图像。</p><p>现代地震处理计算机进行 3D 偏移的能力更强，因此是否分配资源来执行 3D 偏移的问题不再受到关注。</p><h2 id="图形迁移-编辑"><a href="#图形迁移-编辑" class="headerlink" title="图形迁移[编辑]"></a>图形迁移[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=7">编辑</a>]</h2><p><a href="https://en.wikipedia.org/wiki/File:GraphicalMigration.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/GraphicalMigration.jpg/220px-GraphicalMigration.jpg" alt="img"></a></p><p>一个简单的图形迁移的例子。在 1960 年代和 70 年代现代计算机出现之前，这是地球物理学家用于原始“迁移”数据的一种方法。随着数字处理器的出现，这种方法已经过时，但对于理解迁移背后的基本原理很有用。</p><p>最简单的迁移形式是图形迁移。图形偏移假设一个恒定速度的世界和零偏移数据，其中地球物理学家绘制从接收器到所有事件的事件位置的球体或圆圈。圆圈的交点形成了反射器在时间或空间上的“真实”位置。图中可以看到这样的一个例子。</p><h2 id="技术细节-编辑"><a href="#技术细节-编辑" class="headerlink" title="技术细节[编辑]"></a>技术细节[<a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit&amp;section=8">编辑</a>]</h2><table><thead><tr><th><a href="https://en.wikipedia.org/wiki/File:Question_book-new.svg"><img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/50px-Question_book-new.svg.png" alt="img"></a></th><th>本节**未<a href="https://en.wikipedia.org/wiki/Wikipedia:Citing_sources">引用</a>任何<a href="https://en.wikipedia.org/wiki/Wikipedia:Verifiability">来源</a><em>*。请通过<a href="https://en.wikipedia.org/wiki/Help:Referencing_for_beginners">添加对可靠来源的引用来帮助</a><a href="https://en.wikipedia.org/w/index.php?title=Seismic_migration&amp;action=edit">改进此部分</a>。无来源的材料可能会受到质疑和<a href="https://en.wikipedia.org/wiki/Wikipedia:Verifiability#Burden_of_evidence">删除</a>。 *（2015 年 10 月）**（<a href="https://en.wikipedia.org/wiki/Help:Maintenance_template_removal">了解如何以及何时删除此模板消息</a>）</em></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><p>地震数据偏移是通过地震数据的基于网格的数值空间卷积来修正平坦地质层假设，以解释倾斜事件（地质层不平坦）。有很多方法，例如流行的基尔霍夫偏移，但人们普遍认为，一次处理数据的大空间部分（孔径）引入的错误更少，并且深度偏移远优于具有大倾角和复杂的盐体。</p><p>基本上，它将能量（地震数据）从记录的位置重新定位/移动到具有正确公共中点 (CMP) 的位置。虽然地震数据最初是在适当的位置接收到的（根据自然法则），但这些位置与该位置的假设 CMP 并不对应。尽管在没有偏移校正的情况下<a href="https://en.wikipedia.org/wiki/Reflection_seismology">叠加</a>数据会产生不太准确的地下图片，但迁移是首选，因为大多数成像记录仪可以更好地钻探和维护油田。<a href="https://en.wikipedia.org/w/index.php?title=Active_source&amp;action=edit&amp;redlink=1">此过程是从活动源</a>创建地下图像的核心步骤在地表、海床、钻孔等处收集的地震数据，因此被石油和天然气公司及其服务提供商在数字计算机上以工业规模使用。</p><p>换句话说，这个过程试图解释<a href="https://en.wikipedia.org/wiki/Strike_and_dip">倾角</a>反射器的波分散以及空间和方向地震波速度（<a href="https://en.wikipedia.org/wiki/Heterogeneity">异质性</a>）变化，这导致波场（由射线路径建模）弯曲，波前交叉（<a href="https://en.wikipedia.org/wiki/Caustic_(mathematics)">焦散</a>） , 并且在与直线或其他简化假设下预期的位置不同的位置记录波。最后，这个过程通常还试图保存和提取嵌入在地震数据振幅中的地层界面反射率信息，以便它们可用于重建地质构造的弹性特性（振幅保存<a href="https://en.wikipedia.org/w/index.php?title=Amplitude_preservation&amp;action=edit&amp;redlink=1">、</a>地震<a href="https://en.wikipedia.org/wiki/Seismic_inversion">反演</a>). 偏移算法有很多种，按其输出域可分为<a href="https://en.wikipedia.org/w/index.php?title=Time_migration&amp;action=edit&amp;redlink=1">时间偏移</a>或<a href="https://en.wikipedia.org/w/index.php?title=Depth_migration&amp;action=edit&amp;redlink=1">深度偏移</a>、<a href="https://en.wikipedia.org/w/index.php?title=Pre-stack_migration&amp;action=edit&amp;redlink=1">叠前偏移</a>或<a href="https://en.wikipedia.org/w/index.php?title=Post-stack_migration&amp;action=edit&amp;redlink=1">叠后偏移</a>（正交）技术等大类。深度偏移始于通过空间地质速度剖面将时间数据转换为深度数据。叠后偏移从已经叠加的地震数据开始，因此已经丢失了有价值的速度分析信息。</p><p>考虑图 4.1-1a 中简单地质剖面的倾角反射体<em>CD 。</em>我们想要获得沿剖面<em>Ox 的</em>零偏移距部分。<em>当我们沿Ox</em>移动源-接收器对 ( <em>s, g</em> )时，来自倾角反射器的第一个法向入射到达被记录在位置<em>A</em>处。在本次讨论中，我们假设归一化恒速介质<em>v</em> = 1，以便时间和深度坐标可以互换。在图 4.1-1b 中零偏移距时间段上的<em>C’<em>点表示位置</em>A</em>的反射到达。<em>当我们从位置A</em>移动时在右侧，垂直入射到达是从倾角反射器<em>CD</em>记录的。最后一次到达记录在位置<em>B ，如图 4.1-1b 中的点**D’<em>所示。</em>在这个实验中，排除了反射器CD</em>边缘的衍射以简化讨论。</p><p>将图 4.1-1a 中的地质剖面（深度）与图 4.1-1b 中的零偏移距地震剖面（时间）进行比较。<em>反射器CD</em>的真实地下位置叠加到时间截面上以进行比较。<em>显然反射体CD</em>的真实地质位置与反射事件位置*C’D’*并不相同。</p><p>从这个简单的几何构造中，请注意时间段<em>C’D’<em>中的反射必须</em>迁移</em>到其在深度段中的真实地下位置<em>CD 。</em>从图 4.1-1 中 <a href="https://wiki.seg.org/wiki/Migration">迁移</a>的几何描述可以得出以下观察结果：</p><ol><li>地质剖面反射体倾角大于时间剖面；因此，<a href="https://wiki.seg.org/wiki/Migration">迁移</a>会使反射层变陡。</li><li>从地质剖面看，反射体的长度比时间剖面短；因此，<a href="https://wiki.seg.org/wiki/Migration">迁移</a>缩短了反射器。</li><li><a href="https://wiki.seg.org/wiki/Migration">迁移</a>使反射体向上倾方向移动。</li></ol><p>图 4.0-1 中的示例演示了上述观察结果。特别地，倾角事件 ( <em>B</em> ) 已经向上倾方向移动，变短，并且在<a href="https://wiki.seg.org/wiki/Migration">偏移</a>( <em>A</em> ) 之后变得陡峭。</p><p>上一节讲到，常规的<a href="https://wiki.seg.org/wiki/Migration">迁移</a>输出是及时显示的，输入的stacked section也是如此。为了区分两个时间轴，我们将堆叠截面上的时间轴表示为<em>t</em> — 未迁移位置的事件时间，迁移截面上的时间轴表示为<em>τ</em> — 迁移位置的事件时间。</p><p>我们现在将检查偏移时间部分上看到的水平和垂直位移。从图 4.1-2 中，考虑反射器段<em>CD</em>。假设<em>CD</em>迁移到<em>C’D’并且**C’D’<em>上的点E <em>‘迁移到**CD</em>上的点</em>E。</em>水平和垂直（时间）位移 — <em>d</em> <em>x</em>和<em>d</em> <em>t</em>，以及倾角 Δ <em>τ</em> /Δ <em>x</em>，都是在偏移时间剖面上测量的（图 4.1-2），可以用介质速度<em>v</em>、走时<em>t</em>表示, 和表观倾角 Δ <em>t</em>/Δ <em>x</em>在未迁移时间段上测量（图 4.1-2）。Chun 和 Jacewitz [<a href="https://wiki.seg.org/wiki/Migration_principles#cite_note-ch04r6-1">1]</a>推导出以下公式：</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/20230404/202305221558715.png" alt="image-20230522155839650"></p><p>为了定量地了解这些表达式，我们考虑一个数值示例。对于随深度增加的真实速度函数，考虑不同深度的五个反射段。为简单起见，假设量 Δ <em>t</em> /Δ <em>x</em>对于所有的都是相同的（每 25 米迹线间距 10 毫秒）。根据等式 ( <strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_1">1</a></strong> )、( <strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_2">2</a></strong> ) 和 ( <strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_3">3</a></strong> <em>)，计算迁移</em>后的水平和垂直位移<em>dx</em>和<em>dt</em>以及倾角（单位为 ms/ <a href="https://wiki.seg.org/wiki/Migration">trace </a><em>）</em>。结果总结在表 4-2 中。</p><p>参考表 4-2 和等式（**<a href="https://wiki.seg.org/wiki/Migration_principles#math_1">1</a><strong>）、（</strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_2">2</a><strong>）和（</strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_3">3</a>**），并做出以下观察：</p><ol><li>迁移部分的时间倾角 Δ <em>τ</em> /Δ <em>x</em>总是大于未偏移部分的时间倾角 Δ <em>t</em> /Δ <em>x 。</em></li><li>在未迁移位置，水平位移<em>d x</em>随着事件时间<em>t的增加而增加。</em>4 s 时，水平位移超过 6 km。</li><li>水平位移<em>d x</em>是速度平方的函数。<a href="https://wiki.seg.org/wiki/Migration">如果在迁移</a>中使用的速度有 20% 的误差，那么该事件会因 44% 的误差而错位。</li><li>垂直位移<em>d t</em>也随着时间和速度而增加。</li><li><a href="https://wiki.seg.org/wiki/Migration">事件倾角越陡，偏移</a>后的水平和垂直位移越大。</li></ol><table><thead><tr><th><em>吨</em>（秒）</th><th><em>v</em>（米/秒）</th><th><em>深×</em>（米）</th><th><em>d t</em> (s)</th><th>Δt <em>/</em> Δx （毫秒/迹线<em>）</em></th><th>Δτ <em>/</em> Δx （<em>毫秒</em>/迹线）</th></tr></thead><tbody><tr><td>1个</td><td>2500</td><td>625</td><td>0.134</td><td>10</td><td>11.5</td></tr><tr><td>2个</td><td>3000</td><td>1800</td><td>0.400</td><td>10</td><td>12.5</td></tr><tr><td>3个</td><td>3500</td><td>3675</td><td>0.858</td><td>10</td><td>14.0</td></tr><tr><td>4个</td><td>4000</td><td>6400</td><td>1.600</td><td>10</td><td>16.7</td></tr><tr><td>5个</td><td>4500</td><td>10125</td><td>2.820</td><td>10</td><td>23.0</td></tr></tbody></table><p>在图 4.1-1a 中，假设仅在表面位置<em>A</em>和<em>B</em>之间记录了零偏移距剖面。时间部分将包含事件<em>C’D’<em>，但在迁移时，事件将迁移出该部分，从而导致迁移部分为空白（图 4.1-1b）。因此，叠加剖面上的数据不一定局限于地震测线以下的地下。反过来更重要；地震线以下的构造可以不记录在地震剖面上。假设数据仅记录在地表位置</em>O</em>和<em>A</em>之间。这一次，生成的时间部分将是空白的。所以，我们不应该在<em>A</em>和<em>B之间记录</em>，我们也不应该在<em>O</em>和<em>A</em>之间记录。相反，我们应该在<em>O</em>和<em>B</em>之间记录，以便正确记录感兴趣的反射器并正确迁移它。</p><p>在具有结构倾角的区域，必须通过考虑倾角事件相对于引起事件的结构的水平位移来选择线长。这是一个重要的考虑因素，尤其是在 3-D 地震工作中。调查的区域表面覆盖范围通常大于感兴趣的区域地下覆盖范围。</p><p>要获得完整的倾角反射镜图像，记录时间也必须足够长。例如，如果仅记录<em>OE秒（图 4.1-1），则记录的片段**C′D″</em>将仅产生完整图像<em>CD</em>的一部分。图 4.0-1 显示了一个记录更深时间和更长线长度以实现更陡倾角的极好示例。盐丘边界的正确成像需要记录超过 6 秒的数据。</p><ul><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-1.png"><img src="https://wiki.seg.org/images/thumb/2/20/Ch04_fig1-1.png/71px-Ch04_fig1-1.png" alt="img"></a></p><p><strong>图4.1-1</strong> <a href="https://wiki.seg.org/wiki/Migration">偏移</a>原理： (b)时间段内的反射段<em>C′D′</em>偏移时向上倾斜、变陡、变短，映射到(a)的真实地下位置<em>CD 。</em>改编自[<a href="https://wiki.seg.org/wiki/Migration_principles#cite_note-ch04r6-1">1]</a>。</p></li><li></li><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig0-1.png"><img src="https://wiki.seg.org/images/thumb/a/a5/Ch04_fig0-1.png/120px-Ch04_fig0-1.png" alt="img"></a></p><p><strong>图 4.0-1</strong>  CMP 堆栈 (a) 迁移前，(b)<a href="https://wiki.seg.org/wiki/Migration">迁移</a>后；<a href="https://wiki.seg.org/wiki/Migration">(c) 在 (B)迁移</a>之前和之后 (A) 迁移的显着衍射 D 和倾斜事件的草图。<a href="https://wiki.seg.org/wiki/Migration">迁移</a>将倾斜事件 B 移动到其假定的真实地下位置 A，并将衍射 D 折叠到其顶点 P。虚线表示盐丘的边界。</p></li><li></li><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-2.png"><img src="https://wiki.seg.org/images/thumb/0/0a/Ch04_fig1-2.png/120px-Ch04_fig1-2.png" alt="img"></a></p><p><strong>图 4.1-2</strong><a href="https://wiki.seg.org/wiki/Migration">迁移</a>过程 的定量分析。未偏移部分（左）上的倾斜事件<em>AB</em>移动到偏移部分（右）上的<em>A’B’ 。</em><a href="https://wiki.seg.org/wiki/Migration">迁移</a>后的事件也叠加在未迁移的部分上，以比较<a href="https://wiki.seg.org/wiki/Migration">迁移</a>前后事件的位置。<a href="https://wiki.seg.org/wiki/Migration">偏移</a>后倾角反射镜<em>AB上的**C</em>点移动到<em>C’<em>。水平位移量</em>d</em> <em>x</em>、垂直位移量<em>d</em> <em>t</em>和倾角 Δ <em>τ</em> /Δ <em>x</em>之后<a href="https://wiki.seg.org/wiki/Migration">迁移由等式 ( </a><strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_1">1</a></strong> )、( <strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_2">2</a></strong> ) 和 ( <strong><a href="https://wiki.seg.org/wiki/Migration_principles#math_3">3</a></strong> )计算得出。</p></li></ul><p><a href="https://wiki.seg.org/wiki/Migration">图 4.1-3中</a>的浸没事件模型进一步说明了上述迁移概念。这里包括边缘衍射。由于偏移，零偏移距剖面上的倾角反射体变陡、变短并向上倾方向<a href="https://wiki.seg.org/wiki/Migration">移动</a>。图 4.1-4 显示了<a href="https://wiki.seg.org/wiki/Migration">偏移</a>前后叠置剖面上一系列倾斜事件的<a href="https://wiki.seg.org/wiki/Field_data_examples">现场数据示例</a>。<a href="https://wiki.seg.org/wiki/Migration">请注意，倾角越陡，迁移</a>后事件移动得越多。</p><p>到目前为止，只考虑了线性反射器。我们现在考虑涉及弯曲反射界面的更现实的地质情况。图 4.1-5 显示了三个向斜和一个小的背斜特征。向斜在零偏移距部分显示为蝴蝶结。通过使用从图 4.1-1 的几何推导出的原理，请注意由于<a href="https://wiki.seg.org/wiki/Migration">偏移</a>，领结的<em>A</em>段在向上倾斜的方向上向左移动。类似地，<em>B</em>段向右移动，而平顶段<em>C</em>根本没有移动太多。因此，<a href="https://wiki.seg.org/wiki/Migration">迁移后</a>与向斜相关的领结侧翼被打开。另一方面，小背斜在零偏移距剖面上似乎比在偏移剖面上更宽。再次注意，由于迁移，<em>D</em>段向右上倾移动，而<em>E</em>段向左上倾<a href="https://wiki.seg.org/wiki/Migration">移动</a>。因此，由于<a href="https://wiki.seg.org/wiki/Migration">迁移</a>，向斜变宽而背斜变窄。<a href="https://wiki.seg.org/wiki/Migration_velocities">迁移速度</a>也会影响结构的外观尺寸；更高的速度意味着更多的<a href="https://wiki.seg.org/wiki/Migration">迁移</a>，因此意味着更小的背斜结构。</p><ul><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-3.png"><img src="https://wiki.seg.org/images/thumb/e/ed/Ch04_fig1-3.png/120px-Ch04_fig1-3.png" alt="img"></a></p><p><strong>图 4.1-3</strong>  (a) 由 (b) 中所示的倾角反射器建模的零偏移剖面。介质速度恒定为 3500 m/s，迹线间距为 25 m。反射器的真实倾角在 0 到 45 度之间以 5 度为增量变化。<a href="https://wiki.seg.org/wiki/Migration">零偏移距部分 (a) 的偏移</a>产生倾角反射器 (b) 的模型。</p></li><li></li><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-4.png"><img src="https://wiki.seg.org/images/thumb/a/ad/Ch04_fig1-4.png/120px-Ch04_fig1-4.png" alt="img"></a></p><p><strong>图 4.1-4</strong>  CMP 堆栈的一部分（a）迁移前和（b）<a href="https://wiki.seg.org/wiki/Migration">迁移</a>后。<a href="https://wiki.seg.org/wiki/Fault_planes">请注意具有从断层平面</a>散开的一系列倾角的事件组。<a href="https://wiki.seg.org/wiki/Migration">迁移</a>使它们向上倾斜，使它们更短、更陡峭。</p></li><li></li><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-5.png"><img src="https://wiki.seg.org/images/thumb/8/8c/Ch04_fig1-5.png/52px-Ch04_fig1-5.png" alt="img"></a></p><p><strong>图4.1-5</strong> 弯曲反射界面（向斜和背斜）（a）迁移前和（b）<a href="https://wiki.seg.org/wiki/Migration">迁移</a>后。详情见正文。（模型由 Union Oil Company 提供。）</p></li><li></li><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-6.png"><img src="https://wiki.seg.org/images/thumb/8/8f/Ch04_fig1-6.png/81px-Ch04_fig1-6.png" alt="img"></a></p><p><strong>图 4.1-6</strong>  (a) 由向斜反射层组成的速度-深度模型；(b) 在零偏移距部分选择的正常入射到达。在时间部分跟踪领结。</p></li></ul><p>为什么向斜在堆积截面上看起来像领结？答案在图 4.1-6 中，其中模拟了对称向斜。给定图 4.1-6a 中的地下模型，可以计算法向入射射线以导出图 4.1-6b 中的零偏移距走时剖面。为清楚起见，仅显示了五个 CMP 位置。在位置 2 和 4，有两个不同的到达，而在位置 3，有三个不同的到达。通过填充中间射线路径，可以在时间段上构造向斜的蝴蝶结特征。通过追踪图 4.1-6b 中的走时轨迹来完成该过程。</p><p>图 4.1-7 和 4.1-8 显示了两个包含向斜和背斜构造的<a href="https://wiki.seg.org/wiki/Field_data_examples">野外数据示例。</a>在图 4.1-7 中，注意由于<a href="https://wiki.seg.org/wiki/Migration">迁移</a>，向斜特征变宽，背斜特征变窄。<em>在图 4.1-8 中，与两个小向斜盆地A</em>和<em>B</em>相关的蝴蝶结在深度上变大。<a href="https://wiki.seg.org/wiki/Migration">迁移</a>后，解开蝴蝶结，划定向斜。</p><ul><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-7.png"><img src="https://wiki.seg.org/images/thumb/1/11/Ch04_fig1-7.png/120px-Ch04_fig1-7.png" alt="img"></a></p><p><strong>图 4.1-7</strong>  CMP 堆栈的一部分（a）迁移前和（b）<a href="https://wiki.seg.org/wiki/Migration">迁移</a>后。在未偏移部分 (a) 上，背斜看起来更大，而向斜看起来比实际尺寸小。</p></li><li></li><li><p><a href="https://wiki.seg.org/wiki/File:Ch04_fig1-8.png"><img src="https://wiki.seg.org/images/thumb/5/5c/Ch04_fig1-8.png/120px-Ch04_fig1-8.png" alt="img"></a></p><p><strong>图 4.1-8</strong>  CMP 堆栈的一部分（a）迁移前和（b）<a href="https://wiki.seg.org/wiki/Migration">迁移</a>后。<a href="https://wiki.seg.org/wiki/Migration">迁移</a>解开蝴蝶结并将它们变成<em>A</em>和<em>B</em>下面的向斜。</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> seismic </tag>
            
            <tag> migration </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>月震火震研究套路</title>
      <link href="/2023/04/05/2023-04-05-yue-zhen-huo-zhen-yan-jiu-tao-lu/"/>
      <url>/2023/04/05/2023-04-05-yue-zhen-huo-zhen-yan-jiu-tao-lu/</url>
      
        <content type="html"><![CDATA[<p>#marsquakes </p><h2 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h2><ol><li><p>研究背景、目的和意义</p><p>这些研究结果不仅可以同地球内部演化理论进行类比，也能够为今后其他类地行星（尤其是火星）的内部演化研究提供重要的指导。以至于将来最终能够建立地球-月球-火星乃至其他行星天体的统一演化模型。</p></li><li><p>月球情况概论</p><p>由于月球相较地球缺少水与大气的作用，因此月表的地质演化过程相对来说<br>较为简单，主要来自月球内部活动的结果。月球表面根据地势高低总体分为高地<br>(也称为月陆）和月海两大地理单元，在地球上用肉眼看上去主要表现为明暗相<br>间的特征。月海区域，主要成分为玄武岩和火成碎屑物2)，年龄相对年轻。该区域<br>光照反射率较小，因此呈现出暗黑色的特征。月球高地海拔相对较高（相对月海<br>高出2-3km)，是月球上最为古老的地理单元。月球高地爱盖物主要为浅色的斜长<br>石，并且由于其光照反射率较大，因而呈现的是亮白色。这两种地质单元分布很<br>不均匀，总体来说月球高地占据了绝大多数面积（约为84%）。然而在月球正面区<br>域，大量的暗色月海与高地面积相对接近（约占30%)，且集中分布在月球正面中<br>部地区；在月球背面主要分布着月球高地（约为98％），因此月球表面具有明显的<br>二分性特征B。月表的二分性特征可能与月球内部结构演化有关，但目前为止依然<br>是未能解决的科学问题。</p></li><li><p>研究现状及其存在问题</p><p>1）前人研究得出的某些震源定位结果差异较大，直接使用会导致处理结果</p><p>也会有很大误差；</p><p>（2）目前地震上常用的基于波形相似的多道互相关叠加法，主要针对距离接</p><p>近的多个台站接收到一个地震事件来进行到时拾取，因此无法直接分析数量少且</p><p>分布相对稀疏的月震台站所记录的重复性月震数据：</p><p>（3）前人得到的叠后数据量较少，因此基于较少的月震叠后数据（62 组三分</p><p>量）得到的月核结构，其可靠性难以保证；</p><p>(4）前人所采用的月核结构分析方法不直观，且末根据月震数据来对其结果进行约束。</p></li></ol><h2 id="月球模型和月震"><a href="#月球模型和月震" class="headerlink" title="月球模型和月震"></a>月球模型和月震</h2><ol><li><p>月球模型</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202301292148623.png" alt="image-20230129214821571"></p><ol><li><p>月壳模型</p></li><li><p>月幔模型</p></li></ol></li><li><p>月震台站与震源</p></li></ol><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202301292212085.png" alt="image-20230129221220064"></p><h2 id="月震数据与处理"><a href="#月震数据与处理" class="headerlink" title="月震数据与处理"></a>月震数据与处理</h2><ol><li><p>月震数据</p><p>每一个被动月震台站由三个匹配的长周期（LP-Long Period) 月震检波器正交</p><p>排列组成，分别测量一个垂直(LPZ)和两个水平分量（LPX和LPY）的表面运动。</p><p>其中水平分量LPX（x）和LPY(y）在布设台站时实际的方位角信息如表3-1所示。</p><p>此外，检波器还装载有一个垂向分量的短周期（SP-Short Period)分量SPZ</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202301301026628.png" alt="image-20230130102654596"></p></li><li><p>数据预处理</p><ol><li>滤波</li><li>去“脉冲”</li><li>分量旋转</li></ol></li><li><p>数据分析</p></li></ol><h2 id="多分量多道互相关叠加"><a href="#多分量多道互相关叠加" class="headerlink" title="多分量多道互相关叠加"></a>多分量多道互相关叠加</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202301292309171.png" alt="image-20230129230952153"></p><h2 id="震相识别与到时拾取"><a href="#震相识别与到时拾取" class="headerlink" title="震相识别与到时拾取"></a>震相识别与到时拾取</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202301291810963.png"></p><h2 id="月核模型研究"><a href="#月核模型研究" class="headerlink" title="月核模型研究"></a>月核模型研究</h2><p>研究思路</p><ol><li><p>数据分析</p></li><li><p>多分量多道互相关</p></li><li><p>震相拾取</p></li><li><p>速度模型</p></li><li><p>地壳速度</p></li><li><p>地幔速度</p></li><li><p>反演</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Moon </tag>
            
            <tag> Mars </tag>
            
            <tag> seismic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Seismic Skill</title>
      <link href="/2023/04/03/2023-04-03-seismic-skill/"/>
      <url>/2023/04/03/2023-04-03-seismic-skill/</url>
      
        <content type="html"><![CDATA[<h4 id="全波形反演的最大分辨率为半个波长"><a href="#全波形反演的最大分辨率为半个波长" class="headerlink" title="全波形反演的最大分辨率为半个波长"></a>全波形反演的最大分辨率为半个波长</h4><p>在理想观测系统下，走时层析成 像的分辨率最高可达到第一菲涅尔带半径，传播路径越长、 分辨率越低（Ｗｉｌｌｉａｍｓｏｎ，１９９１），而全波形反演的最大分辨 率为半个波长（零散射角或垂直入射）（Ｐａｇｅｏｔ ｅｔ ａｌ．， ２０１３）．可见，波形反演能显著提高速度结构的分辨率</p><h4 id="海上资料比陆上简单"><a href="#海上资料比陆上简单" class="headerlink" title="海上资料比陆上简单"></a>海上资料比陆上简单</h4><p>波形反演的前期工作主要应用于海上地 震资料，陆上资料的应用还存在较大的挑战．</p><h4 id="自相关"><a href="#自相关" class="headerlink" title="自相关"></a>自相关</h4><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202302121649748.png"></p><p>第一步：将“画样”与原信号中的开始端对齐，逐点一一对应地相乘，得到一小段新曲线；</p><p>第二步：将新曲线上各个点的值进行算术平均，得到一个均值；</p><p>第三步：将得到的均值描绘在最终曲线图中；</p><p>第四步：将“画样”向后挪动一点（“步距”），重复上述过程，直至“画样”移动到曲线末端。</p><p>这个工作很繁琐，但好在不太难，余则成教会翠平后就忙着应付陆桥山去了，等晚上回到家，看到的结果虽然不是太满意，但最终的曲线中还是表现出了很强的规律性，他拿尺子量了所有“锯齿”的间距，取了个平均值，得到了Δt≈0.2s，取倒数便是5Hz。第二天，余则成顺利地在5号车厢与情报员完成了交接。</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202302121702137.png"></p><h4 id="极化波"><a href="#极化波" class="headerlink" title="极化波"></a>极化波</h4><p>P波和S波，他们的质点运动轨迹都是直线，因此他们都是线性极化波。</p><h4 id="震相"><a href="#震相" class="headerlink" title="震相"></a>震相</h4><p>在地震图中显示的不同性质或不同传播路径的地震波叫震相。震相识别主要根据各类真相在地震记录图中的到时、波形、振幅、周期和质点运动方式等特征。震相识别技术是针对直达纵波和直达横波进行的，因为这两种震相最为明显，也是用于其他震相识别的时间标尺。</p><p>识别方式：</p><ol><li>单台识别</li><li>多台震相识别</li><li>极化分析法</li><li>STA/LTA (短长时窗平均比)算法</li></ol><p>赵娜. 《基于月震层析成像的月球正面内部结构研究》. 博士, 中国地质大学, 2015. <a href="https://kns.cnki.net/KCMS/detail/detail.aspx?dbcode=CDFD&amp;dbname=CDFDLAST2016&amp;filename=1016061158.nh&amp;v=">https://kns.cnki.net/KCMS/detail/detail.aspx?dbcode=CDFD&amp;dbname=CDFDLAST2016&amp;filename=1016061158.nh&amp;v=</a>.</p><p> 主要震相包括：<br> PcP, PcS, ScS, ScP 等来自核幔边界的反射波<br> PKP, PKS,SKP, SKS  等在液态外核中传播的透射波</p><p>mantle: 地幔<br>crust: 地壳<br>core: 地核<br>subsurface: 次表面<br>surface：表面</p><h4 id="层析成像"><a href="#层析成像" class="headerlink" title="层析成像"></a>层析成像</h4><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202302131141648.png"></p><h4 id="反演"><a href="#反演" class="headerlink" title="反演"></a>反演</h4><p>大多数非线性反演问题都可以归结为确定使残差函数最小化都模型参数，这种函数决定了观测数据和预测数据之间的残差，对模型有一些正规化条件。当模型中只有一类参数时，以梯度技术为基础的方法较好，特别是包含梯度变化率的信息。</p><p>在问题依赖于多参数类的时候，简单的梯度方法混合了不同特性的参数和物理量。这可能导致较差的收敛性和对不同类型参数的强依赖性。这一问题可以用模型空间中有限数量的向量所组成的子空间局部最小代替梯度步解决，即子空间反演方法。可以同时反演震源位置和速度场。</p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202302131154365.png"></p><h4 id="月震和地震区别"><a href="#月震和地震区别" class="headerlink" title="月震和地震区别"></a>月震和地震区别</h4><p>月球内部分层结构与地球相似，也分为月壳、月幔和月核，不同的是月球内部没有软流圈，故更不存在板块运动。很多研究认为月球是一个僵死的星体，因此月球上很少有自身构造活动引起的月震，多是由外部的源引起月震活动。</p><h4 id="月球特征"><a href="#月球特征" class="headerlink" title="月球特征"></a>月球特征</h4><p>表面巨风化层具有散射特性。</p><h4 id="火星"><a href="#火星" class="headerlink" title="火星"></a>火星</h4><p>虽然现在的火星看起来死气沉沉，表面上没有液态水存在，到处都是红色的沙土，空气非常稀薄，温度更是降低到零下50度。但是火星曾经也是一个温暖的星球，在数十亿年前，火星拥有厚厚的大气层，温度也在零上，这意味着其表面上可能有液态水形成的湖泊和海洋，虽然那个时候的太阳比现在更暗更弱。反而现在太阳变得更亮了，火星上的环境却变得死气沉沉，不再适合生命的存在。</p><p>可悲的是，这一切的变化其实从一开始就注定了，火星实在是太小了，它只有地球直径一半的大小，这意味着它的内核冷却速度更快，我们地球核心到现在都处于熔融状态，到处喷发的火山和地震带就是证明。熔融状态的核心中蕴含着丰富的铁元素，而核心在不断流动的过程中会产生强大的磁场，这些磁场为地球上大气和生命的存在提供坚实的保障基础，它能够偏转太阳风中的高能粒子，防止这些太阳风将地球大气层中的物质吹散到天空中。</p><p><a href="https://www.108hei.com/wp-content/uploads/2021/07/2021070704533327.jpg"><img src="https://www.108hei.com/wp-content/uploads/2021/07/2021070704533327.jpg" alt="我们真的有能力改造火星环境吗？"></a></p><p>而火星过小的内核意味着其冷却速度更快，当其核心凝固的时候，也意味着其早期的磁场消失了，原始火星大气层暴露在太阳风的肆虐下，只需要大约1亿年的时间，太阳风就剥离了绝大部分的火星大气，当火星大气慢慢消失的时候，大气压就会下降，火星表面上湖泊和海洋中的液态水沸腾了，最终这些水变成水蒸气飘散到空中，在太阳高能粒子的轰击下，分解成氢气和氧气，最终逃逸到太空中。慢慢的，火星上的大气和水都消失了，慢慢的，火星上的气候越来越干燥，温度越来越低，最终就变成了现在这样一副死气沉沉的样子。</p><h4 id="一个新的动画显示了地震波如何在火星表面之下传递。"><a href="#一个新的动画显示了地震波如何在火星表面之下传递。" class="headerlink" title="一个新的动画显示了地震波如何在火星表面之下传递。"></a>一个新的动画显示了地震波如何在火星表面之下传递。</h4><p><a href="https://www.108hei.com/wp-content/uploads/2020/09/Marsquake.gif">https://www.108hei.com/wp-content/uploads/2020/09/Marsquake.gif</a><br>![[Marsquake.gif]]</p><h2 id="由于火星上缺少水、风的作用，"><a href="#由于火星上缺少水、风的作用，" class="headerlink" title="由于火星上缺少水、风的作用，"></a>由于火星上缺少水、风的作用，</h2>]]></content>
      
      
      
        <tags>
            
            <tag> seismic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Specfem3d_global 使用技巧</title>
      <link href="/2023/03/01/2023-03-01-specfem3d-global-shi-yong-ji-qiao/"/>
      <url>/2023/03/01/2023-03-01-specfem3d-global-shi-yong-ji-qiao/</url>
      
        <content type="html"><![CDATA[<h4 id="NCHUNKS"><a href="#NCHUNKS" class="headerlink" title="NCHUNKS"></a>NCHUNKS</h4><p>如果想 <code>NCHUNKS = 6</code> ，则需 <code>ABSORBING_CONDITIONS = .false.</code> 取消吸收</p><h4 id="SAVE-FORWARD"><a href="#SAVE-FORWARD" class="headerlink" title="SAVE_FORWARD"></a>SAVE_FORWARD</h4><p>如果想 <code>SAVE_FORWARD = .true.</code> ,则需打开 <code>PARTIAL_PHYS_DISPERSION_ONLY    = .false.</code> 和 <code>UNDO_ATTENUATION                = .false.</code>  其中任一</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Simulation input parameters</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># forward or adjoint simulation</span></span><br><span class="line">SIMULATION_TYPE                 = 1   <span class="comment"># set to 1 for forward simulations, 2 for adjoint simulations for sources, and 3 for kernel simulations</span></span><br><span class="line">NOISE_TOMOGRAPHY                = 0   <span class="comment"># flag of noise tomography, three steps (1,2,3). If earthquake simulation, set it to 0.</span></span><br><span class="line">SAVE_FORWARD                    = .<span class="literal">false</span>.   <span class="comment"># save last frame of forward simulation or not</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># number of chunks (1,2,3 or 6)</span></span><br><span class="line">NCHUNKS                         = 6</span><br><span class="line"></span><br><span class="line"><span class="comment"># angular width of the first chunk (not used if full sphere with six chunks)</span></span><br><span class="line">ANGULAR_WIDTH_XI_IN_DEGREES     = 15.d0   <span class="comment"># angular size of a chunk</span></span><br><span class="line">ANGULAR_WIDTH_ETA_IN_DEGREES    = 15.d0</span><br><span class="line">CENTER_LATITUDE_IN_DEGREES      = 4.5d0</span><br><span class="line">CENTER_LONGITUDE_IN_DEGREES     = 136.d0</span><br><span class="line">GAMMA_ROTATION_AZIMUTH          = 0.d0</span><br><span class="line"></span><br><span class="line"><span class="comment"># number of elements at the surface along the two sides of the first chunk</span></span><br><span class="line"><span class="comment"># (must be multiple of 16 and 8 * multiple of NPROC below)</span></span><br><span class="line">NEX_XI                          = 32</span><br><span class="line">NEX_ETA                         = 32</span><br><span class="line"></span><br><span class="line"><span class="comment"># number of MPI processors along the two sides of the first chunk</span></span><br><span class="line">NPROC_XI                        = 2</span><br><span class="line">NPROC_ETA                       = 2</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Model</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1D models with real structure:</span></span><br><span class="line"><span class="comment"># 1D_isotropic_prem, 1D_transversely_isotropic_prem, 1D_iasp91, 1D_1066a, 1D_ak135f_no_mud, 1D_ref, 1D_ref_iso, 1D_jp3d,1D_sea99</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1D models with only one fictitious averaged crustal layer:</span></span><br><span class="line"><span class="comment"># 1D_isotropic_prem_onecrust, 1D_transversely_isotropic_prem_onecrust, 1D_iasp91_onecrust, 1D_1066a_onecrust, 1D_ak135f_no_mud_onecrust</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># fully 3D models:</span></span><br><span class="line"><span class="comment"># transversely_isotropic_prem_plus_3D_crust_2.0, 3D_anisotropic, 3D_attenuation,</span></span><br><span class="line"><span class="comment"># s20rts, s40rts, s362ani, s362iso, s362wmani, s362ani_prem, s362ani_3DQ, s362iso_3DQ,</span></span><br><span class="line"><span class="comment"># s29ea, sea99_jp3d1994, sea99, jp3d1994, heterogen, full_sh, sgloberani_aniso, sgloberani_iso</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 3D crustal models:</span></span><br><span class="line"><span class="comment"># crust1.0, crust2.0, EPcrust, EuCRUST, crustmaps, crustSH</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Mars models:</span></span><br><span class="line"><span class="comment"># 1D_Sohl, 1D_Sohl_3D_crust, 1D_case65TAY, 1D_case65TAY_3D_crust, mars_1D, mars_1D_3D_crust</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Moon models:</span></span><br><span class="line"><span class="comment"># vpremoon</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 3D models with 3D crust: append "_**crustname**" to the mantle model name</span></span><br><span class="line"><span class="comment">#                          to take a 3D crustal model (by default crust2.0 is taken for 3D mantle models)</span></span><br><span class="line"><span class="comment">#                          e.g. s20rts_crust1.0, s362ani_crustmaps, full_sh_crustSH, sglobe_EPcrust, etc.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 3D models with 1D crust: append "_1Dcrust" to the 3D model name</span></span><br><span class="line"><span class="comment">#                          to take the 1D crustal model from the</span></span><br><span class="line"><span class="comment">#                          associated reference model rather than the default 3D crustal model</span></span><br><span class="line"><span class="comment">#                          e.g. s20rts_1Dcrust, s362ani_1Dcrust, etc.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#MODEL                           = 1D_Sohl_3D_crust</span></span><br><span class="line"><span class="comment">#MODEL                           = mars_1D</span></span><br><span class="line"><span class="comment">#MODEL                           = 1D_case65TAY_3d_crust</span></span><br><span class="line">MODEL                           = 1D_isotropic_prem</span><br><span class="line"><span class="comment"># parameters describing the Earth model</span></span><br><span class="line">OCEANS                          = .<span class="literal">false</span>.</span><br><span class="line">ELLIPTICITY                     = .<span class="literal">false</span>.</span><br><span class="line">TOPOGRAPHY                      = .<span class="literal">false</span>.</span><br><span class="line">GRAVITY                         = .<span class="literal">true</span>.</span><br><span class="line">ROTATION                        = .<span class="literal">true</span>.</span><br><span class="line">ATTENUATION                     = .<span class="literal">true</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># record length in minutes</span></span><br><span class="line"><span class="comment">#RECORD_LENGTH_IN_MINUTES        = 2.5d0</span></span><br><span class="line">RECORD_LENGTH_IN_MINUTES        = 10.d0</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Mesh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## regional mesh cut-off</span></span><br><span class="line"><span class="comment"># using this flag will cut-off the mesh in the mantle at a layer matching to the given cut-off depth.</span></span><br><span class="line"><span class="comment"># this flag only has an effect for regional simulations, i.e., for NCHUNKS values less than 6.</span></span><br><span class="line"><span class="comment"># regional mesh cutoff</span></span><br><span class="line">REGIONAL_MESH_CUTOFF            = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># regional mesh cut-off depth (in km)</span></span><br><span class="line"><span class="comment"># possible selections are: 24.4d0, 80.d0, 220.d0, 400.d0, 600.d0, 670.d0, 771.d0</span></span><br><span class="line"><span class="comment"># regional msh cutoff depth</span></span><br><span class="line">REGIONAL_MESH_CUTOFF_DEPTH      = 400.d0</span><br><span class="line"></span><br><span class="line"><span class="comment"># regional mesh cut-off w/ a second doubling layer below 220km interface</span></span><br><span class="line"><span class="comment"># (by default, a first doubling layer will be added below the Moho, and a second one below the 771km-depth layer.</span></span><br><span class="line"><span class="comment">#  Setting this flag to .true., will move the second one below the 220km-depth layer for regional mesh cut-offs only.)</span></span><br><span class="line"><span class="comment">#  regional mesh add 2nd doubling</span></span><br><span class="line">REGIONAL_MESH_ADD_2ND_DOUBLING  = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Absorbing boundary conditions</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># absorbing boundary conditions for a regional simulation</span></span><br><span class="line">ABSORBING_CONDITIONS            = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># run global simulation for a circular region and apply high attenuation for the rest of the model</span></span><br><span class="line"><span class="comment"># this creates an absorbing boundary with less reflection than stacey at a cost of 6x the computational cost</span></span><br><span class="line"><span class="comment"># NCHUNKS must be set to 6 to enable this flag</span></span><br><span class="line"><span class="comment"># absorb using global sponge</span></span><br><span class="line">ABSORB_USING_GLOBAL_SPONGE      = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># location and size of the region with no sponge (the region to run simulation)</span></span><br><span class="line">SPONGE_LATITUDE_IN_DEGREES      = 40.d0</span><br><span class="line">SPONGE_LONGITUDE_IN_DEGREES     = 25.d0</span><br><span class="line">SPONGE_RADIUS_IN_DEGREES        = 25.d0</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># undoing attenuation for sensitivity kernel calculations</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># to undo attenuation for sensitivity kernel calculations or forward runs with SAVE_FORWARD</span></span><br><span class="line"><span class="comment"># use one (and only one) of the two flags below. UNDO_ATTENUATION is much better (it is exact)</span></span><br><span class="line"><span class="comment"># but requires a significant amount of disk space for temporary storage.</span></span><br><span class="line"><span class="comment"># partial phys dispersion only</span></span><br><span class="line"><span class="comment"># undo attenuation</span></span><br><span class="line">PARTIAL_PHYS_DISPERSION_ONLY    = .<span class="literal">false</span>.</span><br><span class="line">UNDO_ATTENUATION                = .<span class="literal">true</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">## undo attenuation memory</span></span><br><span class="line"><span class="comment"># How much memory (in GB) is installed on your machine per CPU core</span></span><br><span class="line"><span class="comment"># (only used for UNDO_ATTENUATION, can be ignored otherwise)</span></span><br><span class="line"><span class="comment"># Beware, this value MUST be given per core, i.e. per MPI thread, i.e. per MPI rank, NOT per node.</span></span><br><span class="line"><span class="comment"># This value is for instance:</span></span><br><span class="line"><span class="comment">#   -  4 GB on Tiger at Princeton</span></span><br><span class="line"><span class="comment">#   -  4 GB on TGCC Curie in Paris</span></span><br><span class="line"><span class="comment">#   -  4 GB on Titan at ORNL when using CPUs only (no GPUs); start your run with "aprun -n$NPROC -N8 -S4 -j1"</span></span><br><span class="line"><span class="comment">#   -  2 GB on the machine used by Christina Morency</span></span><br><span class="line"><span class="comment">#   -  2 GB on the TACC machine used by Min Chen</span></span><br><span class="line"><span class="comment">#   -  1.5 GB on the GPU cluster in Marseille</span></span><br><span class="line"><span class="comment"># When running on GPU machines, it is simpler to set PERCENT_OF_MEM_TO_USE_PER_CORE = 100.d0</span></span><br><span class="line"><span class="comment"># and then set MEMORY_INSTALLED_PER_CORE_IN_GB to the amount of memory that you estimate is free (rather than installed)</span></span><br><span class="line"><span class="comment"># on the host of the GPU card while running your GPU job.</span></span><br><span class="line"><span class="comment"># For GPU runs on Titan at ORNL, use PERCENT_OF_MEM_TO_USE_PER_CORE = 100.d0 and MEMORY_INSTALLED_PER_CORE_IN_GB = 25.d0</span></span><br><span class="line"><span class="comment"># and run your job with "aprun -n$NPROC -N1 -S1 -j1"</span></span><br><span class="line"><span class="comment"># (each host has 32 GB on Titan, each GPU has 6 GB, thus even if all the GPU arrays are duplicated on the host</span></span><br><span class="line"><span class="comment">#  this leaves 32 - 6 = 26 GB free on the host; leaving 1 GB for the Linux system, we can safely use 100% of 25 GB)</span></span><br><span class="line">MEMORY_INSTALLED_PER_CORE_IN_GB = 4.d0</span><br><span class="line"><span class="comment"># What percentage of this total do you allow us to use for arrays to undo attenuation, keeping in mind that you</span></span><br><span class="line"><span class="comment"># need to leave some memory available for the GNU/Linux system to run</span></span><br><span class="line"><span class="comment"># (a typical value is 85%; any value below is fine but the code will then save a lot of data to disk;</span></span><br><span class="line"><span class="comment">#  values above, say 90% or 92%, can be OK on some systems but can make the adjoint code run out of memory</span></span><br><span class="line"><span class="comment">#  on other systems, depending on how much memory per node the GNU/Linux system needs for itself; thus you can try</span></span><br><span class="line"><span class="comment">#  a higher value and if the adjoint crashes then try again with a lower value)</span></span><br><span class="line"><span class="comment">#  percent of mem to use per core</span></span><br><span class="line">PERCENT_OF_MEM_TO_USE_PER_CORE  = 85.d0</span><br><span class="line"></span><br><span class="line"><span class="comment">## exact mass matrices for rotation</span></span><br><span class="line"><span class="comment"># three mass matrices instead of one are needed to handle rotation very accurately;</span></span><br><span class="line"><span class="comment"># otherwise rotation is handled slightly less accurately (but still reasonably well);</span></span><br><span class="line"><span class="comment"># set to .true. if you are interested in precise effects related to rotation;</span></span><br><span class="line"><span class="comment"># set to .false. if you are solving very large inverse problems at high frequency and also undoing attenuation exactly</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># using the UNDO_ATTENUATION flag above, in which case saving as much memory as possible can be a good idea.</span></span><br><span class="line"><span class="comment"># You can also safely set it to .false. if you are not in a period range in which rotation matters,</span></span><br><span class="line"><span class="comment"># e.g. if you are targetting very short-period body waves. if in doubt, set to .true.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You can safeely set it to .true. if you have ABSORBING_CONDITIONS above, because in that case the code</span></span><br><span class="line"><span class="comment"># will use three mass matrices anyway and thus there is no additional memory cost.</span></span><br><span class="line"><span class="comment"># this flag is of course unused if ROTATION above is set to .false.</span></span><br><span class="line"><span class="comment"># exact mass matrix for rotation </span></span><br><span class="line">EXACT_MASS_MATRIX_FOR_ROTATION  = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># LDDRK time scheme</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># this for LDDRK high-order time scheme instead of Newmark</span></span><br><span class="line"><span class="comment"># use lddrk</span></span><br><span class="line">USE_LDDRK                       = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># the maximum CFL of LDDRK is significantly higher than that of the Newmark scheme,</span></span><br><span class="line"><span class="comment"># in a ratio that is theoretically 1.327 / 0.697 = 1.15 / 0.604 = 1.903 for a solid with Poisson's ratio = 0.25</span></span><br><span class="line"><span class="comment"># and for a fluid (see the manual of the 2D code, SPECFEM2D, Tables 4.1 and 4.2, and that ratio does not</span></span><br><span class="line"><span class="comment"># depend on whether we are in 2D or in 3D). However in practice a ratio of about 1.5 to 1.7 is often safer</span></span><br><span class="line"><span class="comment"># (for instance for models with a large range of Poisson's ratio values).</span></span><br><span class="line"><span class="comment"># Since the code computes the time step using the Newmark scheme, for LDDRK we will simply</span></span><br><span class="line"><span class="comment"># multiply that time step by this ratio when LDDRK is on and when flag INCREASE_CFL_FOR_LDDRK is true.</span></span><br><span class="line"><span class="comment"># increase cfl for lddrk</span></span><br><span class="line">INCREASE_CFL_FOR_LDDRK          = .<span class="literal">true</span>.</span><br><span class="line">RATIO_BY_WHICH_TO_INCREASE_IT   = 1.5d0</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Visualization</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># save AVS or OpenDX movies</span></span><br><span class="line"><span class="comment">#MOVIE_COARSE saves movie only at corners of elements (SURFACE OR VOLUME) 仅在元素的角落保存电影</span></span><br><span class="line"><span class="comment">#MOVIE_COARSE does not work with create_movie_AVS_DX</span></span><br><span class="line">MOVIE_SURFACE                   = .<span class="literal">false</span>.</span><br><span class="line">MOVIE_VOLUME                    = .<span class="literal">false</span>.</span><br><span class="line">MOVIE_COARSE                    = .<span class="literal">true</span>.</span><br><span class="line">NTSTEP_BETWEEN_FRAMES           = 50</span><br><span class="line">HDUR_MOVIE                      = 0.d0</span><br><span class="line"></span><br><span class="line"><span class="comment"># save movie in volume.  Will save element if center of element is in prescribed volume</span></span><br><span class="line"><span class="comment"># top/bottom: depth in KM, use MOVIE_TOP = -100 to make sure the surface is stored.</span></span><br><span class="line"><span class="comment"># west/east: longitude, degrees East [-180/180] top/bottom: latitute, degrees North [-90/90]</span></span><br><span class="line"><span class="comment"># start/stop: frames will be stored at MOVIE_START + i*NSTEP_BETWEEN_FRAMES, where i=(0,1,2..) and iNSTEP_BETWEEN_FRAMES &lt;= MOVIE_STOP</span></span><br><span class="line"><span class="comment"># movie_volume_type: 1=strain, 2=time integral of strain, 3=\mu*time integral of strain</span></span><br><span class="line"><span class="comment"># type 4 saves the trace and deviatoric stress in the whole volume, 5=displacement, 6=velocity</span></span><br><span class="line">MOVIE_VOLUME_TYPE               = 2</span><br><span class="line">MOVIE_TOP_KM                    = -100.0</span><br><span class="line">MOVIE_BOTTOM_KM                 = 1000.0</span><br><span class="line">MOVIE_WEST_DEG                  = -90.0</span><br><span class="line">MOVIE_EAST_DEG                  = 90.0</span><br><span class="line">MOVIE_NORTH_DEG                 = 90.0</span><br><span class="line">MOVIE_SOUTH_DEG                 = -90.0</span><br><span class="line">MOVIE_START                     = 0</span><br><span class="line">MOVIE_STOP                      = 40000</span><br><span class="line"></span><br><span class="line"><span class="comment"># save mesh files to check the mesh</span></span><br><span class="line">SAVE_MESH_FILES                 = .<span class="literal">true</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># restart files (number of runs can be 1 or higher, choose 1 for no restart files)</span></span><br><span class="line">NUMBER_OF_RUNS                  = 1</span><br><span class="line">NUMBER_OF_THIS_RUN              = 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># path to store the local database files on each node</span></span><br><span class="line">LOCAL_PATH                      = ./DATABASES_MPI</span><br><span class="line"><span class="comment"># temporary wavefield/kernel/movie files</span></span><br><span class="line">LOCAL_TMP_PATH                  = ./DATABASES_MPI</span><br><span class="line"></span><br><span class="line"><span class="comment"># interval at which we output time step info and max of norm of displacement</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_INFO      = 500</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Sources</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use a (tilted) FORCESOLUTION force point source (or several) instead of a CMTSOLUTION moment-tensor source.</span></span><br><span class="line"><span class="comment"># This can be useful e.g. for asteroid simulations</span></span><br><span class="line"><span class="comment"># in which the source is a vertical force, normal force, tilted force, impact etc.</span></span><br><span class="line"><span class="comment"># If this flag is turned on, the FORCESOLUTION file must be edited by giving:</span></span><br><span class="line"><span class="comment"># - the corresponding time-shift parameter,</span></span><br><span class="line"><span class="comment"># - the half duration parameter of the source,</span></span><br><span class="line"><span class="comment"># - the coordinates of the source,</span></span><br><span class="line"><span class="comment"># - the source time function of the source,</span></span><br><span class="line"><span class="comment"># - the magnitude of the force source,</span></span><br><span class="line"><span class="comment"># - the components of a (non necessarily unitary) direction vector for the force source in the E/N/Z_UP basis.</span></span><br><span class="line"><span class="comment"># The direction vector is made unitary internally in the code and thus only its direction matters here;</span></span><br><span class="line"><span class="comment"># its norm is ignored and the norm of the force used is the factor force source times the source time function.</span></span><br><span class="line"><span class="comment"># use force point source</span></span><br><span class="line">USE_FORCE_POINT_SOURCE          = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># use monochromatic source time function for CMTSOLUTION moment-tensor source.</span></span><br><span class="line"><span class="comment"># half duration is interpreted as a PERIOD just to avoid changing CMTSOLUTION file format</span></span><br><span class="line"><span class="comment"># default is .false. which uses Heaviside function</span></span><br><span class="line"><span class="comment"># use monochromatic cmt source</span></span><br><span class="line">USE_MONOCHROMATIC_CMT_SOURCE    = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># print source time function</span></span><br><span class="line"><span class="comment"># print source time function</span></span><br><span class="line">PRINT_SOURCE_TIME_FUNCTION      = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Seismograms</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># interval in time steps for temporary writing of seismograms</span></span><br><span class="line"><span class="comment"># ntstep between output seismos</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_SEISMOS   = 5000000</span><br><span class="line"></span><br><span class="line"><span class="comment"># set to n to reduce the sampling rate of output seismograms by a factor of n</span></span><br><span class="line"><span class="comment"># defaults to 1, which means no down-sampling</span></span><br><span class="line"><span class="comment"># ntstep between output sample</span></span><br><span class="line">NTSTEP_BETWEEN_OUTPUT_SAMPLE    = 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># option to save strain seismograms</span></span><br><span class="line"><span class="comment"># this option is useful for strain Green's tensor</span></span><br><span class="line"><span class="comment"># this feature is currently under development</span></span><br><span class="line"><span class="comment"># save seismograms strain</span></span><br><span class="line">SAVE_SEISMOGRAMS_STRAIN         = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># save seismograms also when running the adjoint runs for an inverse problem</span></span><br><span class="line"><span class="comment"># (usually they are unused and not very meaningful, leave this off in almost all cases)</span></span><br><span class="line"><span class="comment"># save seismograms in adjoint run</span></span><br><span class="line">SAVE_SEISMOGRAMS_IN_ADJOINT_RUN = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># output format for the seismograms (one can use either or all of the three formats)</span></span><br><span class="line">OUTPUT_SEISMOS_ASCII_TEXT       = .<span class="literal">true</span>.</span><br><span class="line">OUTPUT_SEISMOS_SAC_ALPHANUM     = .<span class="literal">false</span>.</span><br><span class="line">OUTPUT_SEISMOS_SAC_BINARY       = .<span class="literal">false</span>.</span><br><span class="line">OUTPUT_SEISMOS_ASDF             = .<span class="literal">false</span>.</span><br><span class="line">OUTPUT_SEISMOS_3D_ARRAY         = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># rotate seismograms to Radial-Transverse-Z or use default North-East-Z reference frame</span></span><br><span class="line"><span class="comment"># rotate seismograms rt</span></span><br><span class="line">ROTATE_SEISMOGRAMS_RT           = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># decide if main process writes all the seismograms or if all processes do it in parallel</span></span><br><span class="line"><span class="comment"># write seismograms by main</span></span><br><span class="line">WRITE_SEISMOGRAMS_BY_MAIN       = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># save all seismograms in one large combined file instead of one file per seismogram</span></span><br><span class="line"><span class="comment"># to avoid overloading shared non-local file systems such as LUSTRE or GPFS for instance</span></span><br><span class="line"><span class="comment"># save all seismos in one file</span></span><br><span class="line"><span class="comment"># use binary for large file</span></span><br><span class="line">SAVE_ALL_SEISMOS_IN_ONE_FILE    = .<span class="literal">false</span>.</span><br><span class="line">USE_BINARY_FOR_LARGE_FILE       = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># flag to impose receivers at the surface or allow them to be buried</span></span><br><span class="line"><span class="comment"># receivers can be buried</span></span><br><span class="line">RECEIVERS_CAN_BE_BURIED         = .<span class="literal">true</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  Adjoint kernel outputs</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># interval in time steps for reading adjoint traces</span></span><br><span class="line"><span class="comment"># 0 = read the whole adjoint sources at start time</span></span><br><span class="line">NTSTEP_BETWEEN_READ_ADJSRC      = 1000000</span><br><span class="line"></span><br><span class="line"><span class="comment"># use ASDF format for reading the adjoint sources</span></span><br><span class="line">READ_ADJSRC_ASDF                = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># this parameter must be set to .true. to compute anisotropic kernels</span></span><br><span class="line"><span class="comment"># in crust and mantle (related to the 21 Cij in geographical coordinates)</span></span><br><span class="line"><span class="comment"># default is .false. to compute isotropic kernels (related to alpha and beta)</span></span><br><span class="line">ANISOTROPIC_KL                  = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># output only transverse isotropic kernels (alpha_v,alpha_h,beta_v,beta_h,eta,rho)</span></span><br><span class="line"><span class="comment"># rather than fully anisotropic kernels when ANISOTROPIC_KL above is set to .true.</span></span><br><span class="line"><span class="comment"># means to save radial anisotropic kernels, i.e., sensitivity kernels for beta_v, beta_h, etc.</span></span><br><span class="line">SAVE_TRANSVERSE_KL_ONLY         = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># output only the kernels used for the current azimuthally anisotropic inversions of surface waves,</span></span><br><span class="line"><span class="comment"># i.e., bulk_c, bulk_betav, bulk_betah, eta, Gc_prime, Gs_prime and rho</span></span><br><span class="line"><span class="comment"># (Gc' &amp; Gs' which are the normalized Gc &amp; Gs kernels by isotropic \rho\beta of the 1D reference model)</span></span><br><span class="line">SAVE_AZIMUTHAL_ANISO_KL_ONLY    = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># output approximate Hessian in crust mantle region.</span></span><br><span class="line"><span class="comment"># means to save the preconditioning for gradients, they are cross correlations between forward and adjoint accelerations.</span></span><br><span class="line">APPROXIMATE_HESS_KL             = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># forces transverse isotropy for all mantle elements</span></span><br><span class="line"><span class="comment"># (default is to use transverse isotropy only between crust and 220)</span></span><br><span class="line"><span class="comment"># means we allow radial anisotropy throughout the whole crust/mantle region</span></span><br><span class="line">USE_FULL_TISO_MANTLE            = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># output kernel mask to zero out source region</span></span><br><span class="line"><span class="comment"># to remove large values near the sources in the sensitivity kernels</span></span><br><span class="line">SAVE_SOURCE_MASK                = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># output kernels on a regular grid instead of on the GLL mesh points (a bit expensive)</span></span><br><span class="line">SAVE_REGULAR_KL                 = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment"># compute steady state kernels for source encoding</span></span><br><span class="line">STEADY_STATE_KERNEL             = .<span class="literal">false</span>.</span><br><span class="line">STEADY_STATE_LENGTH_IN_MINUTES  = 0.d0</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Dimitri Komatitsch, July 2014, CNRS Marseille, France:</span></span><br><span class="line"><span class="comment"># added the ability to run several calculations (several earthquakes)</span></span><br><span class="line"><span class="comment"># in an embarrassingly-parallel fashion from within the same run;</span></span><br><span class="line"><span class="comment"># this can be useful when using a very large supercomputer to compute</span></span><br><span class="line"><span class="comment"># many earthquakes in a catalog, in which case it can be better from</span></span><br><span class="line"><span class="comment"># a batch job submission point of view to start fewer and much larger jobs,</span></span><br><span class="line"><span class="comment"># each of them computing several earthquakes in parallel.</span></span><br><span class="line"><span class="comment"># To turn that option on, set parameter NUMBER_OF_SIMULTANEOUS_RUNS to a value greater than 1.</span></span><br><span class="line"><span class="comment"># To implement that, we create NUMBER_OF_SIMULTANEOUS_RUNS MPI sub-communicators,</span></span><br><span class="line"><span class="comment"># each of them being labeled "my_local_mpi_comm_world", and we use them</span></span><br><span class="line"><span class="comment"># in all the routines in "src/shared/parallel.f90", except in MPI_ABORT() because in that case</span></span><br><span class="line"><span class="comment"># we need to kill the entire run.</span></span><br><span class="line"><span class="comment"># When that option is on, of course the number of processor cores used to start</span></span><br><span class="line"><span class="comment"># the code in the batch system must be a multiple of NUMBER_OF_SIMULTANEOUS_RUNS,</span></span><br><span class="line"><span class="comment"># all the individual runs must use the same number of processor cores,</span></span><br><span class="line"><span class="comment"># which as usual is NPROC in the Par_file,</span></span><br><span class="line"><span class="comment"># and thus the total number of processor cores to request from the batch system</span></span><br><span class="line"><span class="comment"># should be NUMBER_OF_SIMULTANEOUS_RUNS * NPROC.</span></span><br><span class="line"><span class="comment"># All the runs to perform must be placed in directories called run0001, run0002, run0003 and so on</span></span><br><span class="line"><span class="comment"># (with exactly four digits).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Imagine you have 10 independent calculations to do, each of them on 100 cores; you have three options:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1/ submit 10 jobs to the batch system</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 2/ submit a single job on 1000 cores to the batch, and in that script create a sub-array of jobs to start 10 jobs,</span></span><br><span class="line"><span class="comment"># each running on 100 cores (see e.g. http://www.schedmd.com/slurmdocs/job_array.html )</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 3/ submit a single job on 1000 cores to the batch, start SPECFEM3D on 1000 cores, create 10 sub-communicators,</span></span><br><span class="line"><span class="comment"># cd into one of 10 subdirectories (called e.g. run0001, run0002,... run0010) depending on the sub-communicator</span></span><br><span class="line"><span class="comment"># your MPI rank belongs to, and run normally on 100 cores using that sub-communicator.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The option below implements 3/.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">NUMBER_OF_SIMULTANEOUS_RUNS     = 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># if we perform simultaneous runs in parallel, if only the source and receivers vary between these runs</span></span><br><span class="line"><span class="comment"># but not the mesh nor the model (velocity and density) then we can also read the mesh and model files</span></span><br><span class="line"><span class="comment"># from a single run in the beginning and broadcast them to all the others; for a large number of simultaneous</span></span><br><span class="line"><span class="comment"># runs for instance when solving inverse problems iteratively this can DRASTICALLY reduce I/Os to disk in the solver</span></span><br><span class="line"><span class="comment"># (by a factor equal to NUMBER_OF_SIMULTANEOUS_RUNS), and reducing I/Os is crucial in the case of huge runs.</span></span><br><span class="line"><span class="comment"># Thus, always set this option to .true. if the mesh and the model are the same for all simultaneous runs.</span></span><br><span class="line"><span class="comment"># In that case there is no need to duplicate the mesh and model file database (the content of the DATABASES_MPI</span></span><br><span class="line"><span class="comment"># directories) in each of the run0001, run0002,... directories, it is sufficient to have one in run0001</span></span><br><span class="line"><span class="comment"># and the code will broadcast it to the others)</span></span><br><span class="line">BROADCAST_SAME_MESH_AND_MODEL   = .<span class="literal">false</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set to true to use GPUs</span></span><br><span class="line">GPU_MODE                        = .<span class="literal">false</span>.</span><br><span class="line"><span class="comment"># Only used if GPU_MODE = .true. :</span></span><br><span class="line">GPU_RUNTIME                     = 1</span><br><span class="line"><span class="comment"># 2 (OpenCL), 1 (Cuda) ou 0 (Compile-time -- does not work if configured with --with-cuda *AND* --with-opencl)</span></span><br><span class="line">GPU_PLATFORM                    = NVIDIA</span><br><span class="line">GPU_DEVICE                      = Tesla</span><br><span class="line"></span><br><span class="line"><span class="comment"># set to true to use the ADIOS library for I/Os</span></span><br><span class="line">ADIOS_ENABLED                   = .<span class="literal">false</span>.</span><br><span class="line">ADIOS_FOR_FORWARD_ARRAYS        = .<span class="literal">true</span>.</span><br><span class="line">ADIOS_FOR_MPI_ARRAYS            = .<span class="literal">true</span>.</span><br><span class="line">ADIOS_FOR_ARRAYS_SOLVER         = .<span class="literal">true</span>.</span><br><span class="line">ADIOS_FOR_SOLVER_MESHFILES      = .<span class="literal">true</span>.</span><br><span class="line">ADIOS_FOR_AVS_DX                = .<span class="literal">true</span>.</span><br><span class="line">ADIOS_FOR_KERNELS               = .<span class="literal">true</span>.</span><br><span class="line">ADIOS_FOR_MODELS                = .<span class="literal">true</span>.</span><br><span class="line">ADIOS_FOR_UNDO_ATTENUATION      = .<span class="literal">true</span>.</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> specfem </tag>
            
            <tag> forward </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Specfem2d</title>
      <link href="/2022/11/28/2022-11-28-specfem2d/"/>
      <url>/2022/11/28/2022-11-28-specfem2d/</url>
      
        <content type="html"><![CDATA[<p>#Specfem</p><h2 id="Par-file"><a href="#Par-file" class="headerlink" title="Par_file"></a>Par_file</h2><h3 id="simulation-input-parameters"><a href="#simulation-input-parameters" class="headerlink" title=" simulation input parameters "></a><center> simulation input parameters </center></h3><h5 id="title-of-job"><a href="#title-of-job" class="headerlink" title="title of job"></a>title of job</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">title=Specfem2d</span><br></pre></td></tr></tbody></table></figure><h5 id="forward-or-adjont-simulation"><a href="#forward-or-adjont-simulation" class="headerlink" title="forward or adjont simulation"></a>forward or adjont simulation</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SIMULATION<span class="emphasis">_TYPE=1</span></span><br><span class="line"><span class="emphasis">&lt;!-- 1 = forward, 2 = adjoint, 3 = both sumulataneously --&gt; </span></span><br><span class="line"><span class="emphasis">NOISE_</span>TOMOGRAPHY=0</span><br><span class="line">&lt;!-- 0 = regular wave propagation simulation, 1/2/3 = noise simulation --&gt; </span><br><span class="line">SAVE<span class="emphasis">_FORWARD=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- save the last frame, needed for adjoint simulation --&gt; </span></span><br></pre></td></tr></tbody></table></figure><h5 id="parameters-concerning-partitioning"><a href="#parameters-concerning-partitioning" class="headerlink" title="parameters concerning partitioning"></a>parameters concerning partitioning</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NPROC=4</span><br><span class="line">partitioning<span class="emphasis">_method=3</span></span><br></pre></td></tr></tbody></table></figure><h5 id="number-of-control-nodes-pre-element-4-or-9"><a href="#number-of-control-nodes-pre-element-4-or-9" class="headerlink" title="number of control nodes pre element (4 or 9)"></a>number of control nodes pre element (4 or 9)</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ngnod=9</span><br></pre></td></tr></tbody></table></figure><h5 id="time-step-parameters"><a href="#time-step-parameters" class="headerlink" title="time step parameters"></a>time step parameters</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSTEP=1600</span><br><span class="line">&lt;!-- total number of time steps --&gt; </span><br><span class="line">DT=1.1d-3</span><br><span class="line">&lt;!-- duration of a time step --&gt; </span><br></pre></td></tr></tbody></table></figure><h5 id="time-stepping"><a href="#time-stepping" class="headerlink" title="time stepping"></a>time stepping</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">time<span class="emphasis">_stepping_</span>scheme=1</span><br><span class="line">&lt;!-- 1 = Newmark, 2 = LDDRK4-6, 3 = classical RK4 4th-order 4-stage Runge-Kutta --&gt; </span><br></pre></td></tr></tbody></table></figure><h5 id="axisymmetric-2-5D-or-Cartesian-plannar-2D-simulation"><a href="#axisymmetric-2-5D-or-Cartesian-plannar-2D-simulation" class="headerlink" title="axisymmetric (2.5D) or Cartesian plannar (2D) simulation"></a>axisymmetric (2.5D) or Cartesian plannar (2D) simulation</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AXISYM=.false.</span><br></pre></td></tr></tbody></table></figure><h5 id="set-the-type-of-calculation-P-SV-or-SH-membrane-waves"><a href="#set-the-type-of-calculation-P-SV-or-SH-membrane-waves" class="headerlink" title="set the type of calculation (P_SV or SH/membrane waves)"></a>set the type of calculation (P_SV or SH/membrane waves)</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P<span class="emphasis">_SV=.true.</span></span><br></pre></td></tr></tbody></table></figure><h5 id="set-to-true-to-use-GPUs"><a href="#set-to-true-to-use-GPUs" class="headerlink" title="set to true to use GPUs"></a>set to true to use GPUs</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GPU<span class="emphasis">_MODO=.false.</span></span><br></pre></td></tr></tbody></table></figure><h5 id="creates-reads-a-binary-database-that-allows-to-skip-all-time-consuming-setup-steps-in-initialization"><a href="#creates-reads-a-binary-database-that-allows-to-skip-all-time-consuming-setup-steps-in-initialization" class="headerlink" title="creates/reads a binary database that allows to skip all time consuming setup steps in initialization"></a>creates/reads a binary database that allows to skip all time consuming setup steps in initialization</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setup<span class="emphasis">_with_</span>binary<span class="emphasis">_database=0</span></span><br><span class="line"><span class="emphasis">&lt;!-- 0 = does not read/create database --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- 1 = creates database --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- 2 = reads database --&gt; </span></span><br></pre></td></tr></tbody></table></figure><h5 id="available-models"><a href="#available-models" class="headerlink" title="available models"></a>available models</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MODEL=default</span><br><span class="line">&lt;!-- default       - define model using nbmodels below --&gt;</span><br><span class="line">&lt;!-- ascii         - read model from ascii database file --&gt;</span><br><span class="line">&lt;!-- binary        - read model from binary databse file --&gt;</span><br><span class="line">&lt;!-- binary<span class="emphasis">_voigt  - read Voigt model from binary database file --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- external      - define model using define_</span>external<span class="emphasis">_model subroutine --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- gll           - read GLL model from binary database file --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- legacy        - read model from model_</span>velocity.dat<span class="emphasis">_input --&gt;</span></span><br><span class="line"><span class="emphasis">SAVE_</span>MODEL=default</span><br><span class="line">&lt;!-- Output the model with the requested type, does not save if turn to default or .false. --&gt;</span><br><span class="line">&lt;!-- (available output formats: ascii, binary, gll, legacy) --&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="attenuation"><a href="#attenuation" class="headerlink" title=" attenuation "></a><center> attenuation </center></h3><h5 id="attenuation-parameters"><a href="#attenuation-parameters" class="headerlink" title="attenuation parameters"></a>attenuation parameters</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ATTENUATION<span class="emphasis">_VISCOELASTIC=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- turn attenuation (viscoelasticity) on or off for non-poroelastic solid parts of the model --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 为模型的非多孔弹性实体部分打开或关闭衰减（粘弹性） --&gt; </span></span><br><span class="line"><span class="emphasis">ATTENUATION_</span>VISCOACOUSTIC=.false.</span><br><span class="line">&lt;!-- turn attenuation (viscoacousticity) on or off for non-prooelastic fluid parts of the model --&gt; </span><br><span class="line">&lt;!-- 为模型的非弹性流体部分打开或关闭衰减（粘声性） --&gt; </span><br></pre></td></tr></tbody></table></figure><h5 id="for-viscoelastic-attenuation"><a href="#for-viscoelastic-attenuation" class="headerlink" title="for viscoelastic attenuation"></a>for viscoelastic attenuation</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">N<span class="emphasis">_SLS=3</span></span><br><span class="line"><span class="emphasis">&lt;!-- number of standard linear solids for attenuation (3 is usually the minimum) --&gt; </span></span><br><span class="line"><span class="emphasis">ATTENUATION_</span>f0<span class="emphasis">_REFERENCE=5.196</span></span><br><span class="line"><span class="emphasis">&lt;!-- in case of attenuation, reference frequency in Hz at which the velocity values in the velcity model are givem (unused othervise); relevant only if source is a Dirac or a Heaviside, otherwise it is automatically set to f0 the dominant frequency of the source in the DATA/SOURCE file --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 在衰减的情况下，给出速度模型中速度值的参考频率（Hz）（未使用的其他方式）； 仅当源是 Dirac 或 Heaviside 时才相关，否则它会自动设置为 f0 数据/源文件中源的主频率 --&gt;</span></span><br><span class="line"><span class="emphasis">READ_</span>VELOCITIES<span class="emphasis">_AI_</span>f0=.false.</span><br><span class="line">&lt;!-- read seismic velocities at ATTENUATION<span class="emphasis">_f0_</span>REFERENCE instead of at infinite frequency (see user manual for more information) --&gt; </span><br><span class="line">USE<span class="emphasis">_SOLVOPT=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- use more precise but much more expensive way of determining the Q factor relaxation times, as in http://komatitsch.free.fr/preprints/GJI_</span>Lombard<span class="emphasis">_2016.pdf</span></span><br><span class="line"><span class="emphasis"> --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 使用更精确但更昂贵的方法来确定 Q 因子弛豫时间 --&gt; </span></span><br></pre></td></tr></tbody></table></figure><h5 id="for-poroelastic-attenuation"><a href="#for-poroelastic-attenuation" class="headerlink" title="for poroelastic attenuation"></a>for poroelastic attenuation</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ATTENUATION<span class="emphasis">_PORO_</span>FLUID<span class="emphasis">_PART=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- turn viscous attenuation on or off for the fluid part of poroelastic parts of the model --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 打开或关闭模型多孔弹性部分的流体部分的粘性衰减 --&gt; </span></span><br><span class="line"><span class="emphasis">Q0_</span>poroelastic=1</span><br><span class="line">&lt;!-- quality factor for viscous attenuation (ignore it if you are not using a poroelastic material) --&gt; </span><br><span class="line">&lt;!-- 粘性衰减的品质因数（如果您不使用多孔弹性材料，请忽略它） --&gt; </span><br><span class="line">freq0<span class="emphasis">_poroelastic=10</span></span><br><span class="line"><span class="emphasis">&lt;!-- frequency for viscous attenuation (ignore it if you are not using a poroelastic material) --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 粘性衰减的频率（如果您不使用多孔弹性材料，请忽略它） --&gt; </span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&lt;!-- to undo attenuation and/or PMLs for sensitivity kernel calculations or forward runs with SAVE_</span>FORWARD --&gt;</span><br><span class="line">&lt;!-- use the flag below. It performs undoing of attenuation and/or of PMLs in an exact way for sensitivity kernel calculations --&gt;</span><br><span class="line">&lt;!-- but requires disk space for temporary storage, and uses a significant amount of memory used as buffers for temporary storage. --&gt;</span><br><span class="line">&lt;!-- When that option is on the second parameter indicates how often the code dumps restart files to disk (if in doubt, use something between 100 and 1000). --&gt;</span><br><span class="line">&lt;!-- 使用 SAVE<span class="emphasis">_FORWARD 撤消衰减和/或 PML 以进行灵敏度内核计算或前向运行 --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- 使用下面的标志。 它以精确的方式执行衰减和/或 PML 的撤销以进行灵敏度核计算 --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- 但需要磁盘空间用于临时存储，并使用大量内存用作临时存储的缓冲区。 --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- 当该选项位于第二个参数上时，表示代码将重新启动文件转储到磁盘的频率（如果有疑问，请使用 100 到 1000 之间的值）。 --&gt;</span></span><br><span class="line"><span class="emphasis">UNDO_</span>ATTENUATION<span class="emphasis">_AND_</span>OR<span class="emphasis">_PML=.false.</span></span><br><span class="line"><span class="emphasis">NT_</span>DUMP<span class="emphasis">_ATTENUATION=500</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&lt;!-- Instead of reconstructing the forward wavefield, this option reads it from the disk using asynchronous I/O. --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- Outperforms conventional mode using a value of NSTEP_</span>BETWEEN<span class="emphasis">_COMPUTE_</span>KERNELS high enough. --&gt;</span><br><span class="line">&lt;!-- 该选项不是重建前向波场，而是使用异步 I/O 从磁盘读取它。 --&gt;</span><br><span class="line">&lt;!-- 使用足够高的 NSTEP<span class="emphasis">_BETWEEN_</span>COMPUTE<span class="emphasis">_KERNELS 值优于传统模式。--&gt;</span></span><br><span class="line"><span class="emphasis">NO_</span>BACKWARD<span class="emphasis">_RECONSTRUCTION=.false.</span></span><br></pre></td></tr></tbody></table></figure><h3 id="source"><a href="#source" class="headerlink" title=" source "></a><center> source </center></h3><h5 id="source-parameters"><a href="#source-parameters" class="headerlink" title="source parameters"></a>source parameters</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">NSOURCE=1</span><br><span class="line">&lt;!-- number of sources (source informfation is then read from the DATA/SOURCE file) --&gt; </span><br><span class="line"></span><br><span class="line">force<span class="emphasis">_normal_</span>to+surface=.false.</span><br><span class="line">&lt;!-- angleforce normal to surface (external mesh and curve file needed) --&gt; </span><br><span class="line">&lt;!-- 垂直于表面的角力（需要外部网格和曲线文件）--&gt;</span><br><span class="line">&lt;!-- use an existing initial wave field as source or start from zero (medium initially at rest) --&gt; </span><br><span class="line">&lt;!-- 使用现有的初始波场作为源或从零开始（介质最初处于静止状态）--&gt;</span><br><span class="line">initialfield=.false.</span><br><span class="line">add<span class="emphasis">_Bielak_</span>conditions<span class="emphasis">_bottom=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- add Bielak conditions or not if initial plane wave --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 如果初始平面波是否添加 Bielak 条件 --&gt;</span></span><br><span class="line"><span class="emphasis">add_</span>Bielak<span class="emphasis">_conditions_</span>right=.false.</span><br><span class="line">add<span class="emphasis">_Bielak_</span>conditions<span class="emphasis">_top=.false.</span></span><br><span class="line"><span class="emphasis">add_</span>Bielak<span class="emphasis">_conditions_</span>left=.false.</span><br></pre></td></tr></tbody></table></figure><h5 id="acoustic-forcing"><a href="#acoustic-forcing" class="headerlink" title="acoustic forcing"></a>acoustic forcing</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ACOUSTIC<span class="emphasis">_FORCING=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- acoustic forcing of an acoustic medium with a rigid interface --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 具有刚性界面的声学介质的声强迫 --&gt;```</span></span><br></pre></td></tr></tbody></table></figure><h3 id="receivers"><a href="#receivers" class="headerlink" title=" receivers "></a><center> receivers </center></h3><h5 id="receiver-set-parameters-for-recording-stations-i-e-recording-points"><a href="#receiver-set-parameters-for-recording-stations-i-e-recording-points" class="headerlink" title="receiver set parameters for recording stations (i.e. recording points)"></a>receiver set parameters for recording stations (i.e. recording points)</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">seismotype=1</span><br><span class="line">&lt;!-- record 1 = displ, 2 = veloc, 3 = accel, 4 = pressure, 5 = curl of displ, 6 = the fluid potential --&gt; </span><br></pre></td></tr></tbody></table></figure><h5 id="subsampling-of-the-seismograms-to-create-smaller-files-butless-accurately-sampled-in-time"><a href="#subsampling-of-the-seismograms-to-create-smaller-files-butless-accurately-sampled-in-time" class="headerlink" title="subsampling of the seismograms to create smaller files (butless accurately sampled in time)"></a>subsampling of the seismograms to create smaller files (butless accurately sampled in time)</h5><!-- 对地震图进行二次采样以创建更小的文件（但采样时间不太准确） --><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subsamp<span class="emphasis">_siesmos=1</span></span><br></pre></td></tr></tbody></table></figure><h5 id="so-far-this-option-can-only-be-used-if-all-the-receivers-are-in-acoustic-elements"><a href="#so-far-this-option-can-only-be-used-if-all-the-receivers-are-in-acoustic-elements" class="headerlink" title="so far, this option can only be used if all the receivers are in acoustic elements"></a>so far, this option can only be used if all the receivers are in acoustic elements</h5><!-- 到目前为止，只有当所有接收器都在声学元中时才能使用此选项 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE<span class="emphasis">_TRICL_</span>FOR<span class="emphasis">_BETTER_</span>PRESSURE=.false.</span><br></pre></td></tr></tbody></table></figure><h5 id="every-how-many-time-steps-we-save-the-seismograms"><a href="#every-how-many-time-steps-we-save-the-seismograms" class="headerlink" title="every how many time steps we save the seismograms"></a>every how many time steps we save the seismograms</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- (costly, do not use a very small value; if you use a very large value that is larger than the total number of time steps of the run, the seismograms will automatically be saved once at the end of the run anyway)&lt;++&gt; --&gt; </span><br><span class="line">&lt;!-- (代价高昂，不要使用非常小的值；如果使用的值大于运行的总时间步数，则无论如何都会在运行结束时自动保存一次地震图 ) --&gt;</span><br><span class="line">NSTEP<span class="emphasis">_BETWEEN_</span>OUTPUT<span class="emphasis">_SEISMOS=1000</span></span><br></pre></td></tr></tbody></table></figure><h5 id="use-this-t0-as-earliest-satrting-time-rather-than-the-automatically-calculated-one"><a href="#use-this-t0-as-earliest-satrting-time-rather-than-the-automatically-calculated-one" class="headerlink" title="use this t0 as earliest satrting time rather than the automatically calculated one"></a>use this t0 as earliest satrting time rather than the automatically calculated one</h5><!-- 使用这个 t0 作为最早的开始时间而不是自动计算的时间 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USER<span class="emphasis">_T0=0.0d0</span></span><br></pre></td></tr></tbody></table></figure><h5 id="seismogram-formats"><a href="#seismogram-formats" class="headerlink" title="seismogram formats"></a>seismogram formats</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">save<span class="emphasis">_ASCII_</span>seismograms=.true.</span><br><span class="line">&lt;!-- save seismograms in ASCII format or not --&gt; </span><br><span class="line">save<span class="emphasis">_binary_</span>seismograms<span class="emphasis">_single=.true.</span></span><br><span class="line"><span class="emphasis">&lt;!-- save seismograms in single precision binary format or not (can be used jointly with ASCII above to save both) --&gt; </span></span><br><span class="line"><span class="emphasis">save_</span>binary<span class="emphasis">_seismograms_</span>double=.false.</span><br><span class="line">&lt;!-- save seismograms in double precision binary format or not (can be used jointly with both flags above to save all) --&gt; </span><br><span class="line">SU<span class="emphasis">_FORMAT=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- output single precision binary seismograms in Seismic Unix format (adjoint traces will be read in the same format) --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 以 Seismic Unix 格式输出单精度二进制地震图（以相同格式读取伴随轨迹） --&gt;</span></span><br></pre></td></tr></tbody></table></figure><h5 id="use-an-existing-STATION-file-found-in-DATA-or-create-a-new-one-from-the-receiver-positions-below-in-this-Par-file"><a href="#use-an-existing-STATION-file-found-in-DATA-or-create-a-new-one-from-the-receiver-positions-below-in-this-Par-file" class="headerlink" title="use an existing STATION file found in ./DATA or create a new one from the receiver positions below in this Par_file"></a>use an existing STATION file found in ./DATA or create a new one from the receiver positions below in this Par_file</h5><!-- 使用在 ./DATA 中找到的现有 STATION 文件或从此 Par_file 中的以下接收器位置创建一个新文件 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use<span class="emphasis">_existing_</span>STATIONS=.false.</span><br></pre></td></tr></tbody></table></figure><h5 id="number-of-receiver-sets-i-e-number-of-receiver-lines-to-create-below"><a href="#number-of-receiver-sets-i-e-number-of-receiver-lines-to-create-below" class="headerlink" title="number of receiver sets (i.e. number of receiver lines to create below)"></a>number of receiver sets (i.e. number of receiver lines to create below)</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nreceiversets=2</span><br></pre></td></tr></tbody></table></figure><h5 id="orientation"><a href="#orientation" class="headerlink" title="orientation"></a>orientation</h5><!-- 方向 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">anglerec=0.d0</span><br><span class="line">&lt;!-- angle to rotate components at receivers --&gt; </span><br><span class="line">&lt;!-- 在接收器处旋转组件的角度 --&gt;</span><br><span class="line">rec<span class="emphasis">_normal_</span>to<span class="emphasis">_surface=.false.</span></span><br><span class="line"><span class="emphasis">&lt;!-- base anglerec normal to surface (external mesh and curve file needed) --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 基础角度检波器与表面垂直（需要外部网格和曲线文件）--&gt;</span></span><br></pre></td></tr></tbody></table></figure><h5 id="first-receiver-set-repeat-these-6-lines-and-adjust-nreceiversets-accordingly"><a href="#first-receiver-set-repeat-these-6-lines-and-adjust-nreceiversets-accordingly" class="headerlink" title="first receiver set (repeat these 6 lines and adjust nreceiversets accordingly)"></a>first receiver set (repeat these 6 lines and adjust nreceiversets accordingly)</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">nrec=11</span><br><span class="line">&lt;!-- number of receivers --&gt; </span><br><span class="line">xdeb=300.</span><br><span class="line">&lt;!-- first receiver x in meters --&gt; </span><br><span class="line">zdeb=2200.</span><br><span class="line">&lt;!-- first receiver z in meters --&gt; </span><br><span class="line">xfin=3700.</span><br><span class="line">&lt;!-- last receiver x in meters (ignored if only one receiver) --&gt; </span><br><span class="line">zfin=2200.</span><br><span class="line">&lt;!-- last receiver z in meters (ignored if only one receiver) --&gt; </span><br><span class="line">record<span class="emphasis">_at_</span>surface<span class="emphasis">_same_</span>vertical=.true.</span><br><span class="line">&lt;!-- receivers inside the medium or at the surface (z values are ignored if this is set to true, they are replaced with the topography height) --&gt; </span><br><span class="line">&lt;!-- 介质内部或表面的接收器（如果设置为 true，z 值将被忽略，它们会被地形高度替换）--&gt;</span><br></pre></td></tr></tbody></table></figure><h5 id="second-revceiver-set"><a href="#second-revceiver-set" class="headerlink" title="second revceiver set"></a>second revceiver set</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nrec=11</span><br><span class="line">xdeb=2500.</span><br><span class="line">zdeb=2500.</span><br><span class="line">xfin=1500.</span><br><span class="line">zfin=0.</span><br><span class="line">record<span class="emphasis">_at_</span>surface<span class="emphasis">_same_</span>vertical=.false.</span><br></pre></td></tr></tbody></table></figure><h3 id="adjoint-kernel-outputs"><a href="#adjoint-kernel-outputs" class="headerlink" title=" adjoint kernel outputs "></a><center> adjoint kernel outputs </center></h3><h5 id="save-sensitivity-kernels-in-ASCII-format-much-bigger-files-but-compatible-with-current-GMT-scripts-or-in-binary-format"><a href="#save-sensitivity-kernels-in-ASCII-format-much-bigger-files-but-compatible-with-current-GMT-scripts-or-in-binary-format" class="headerlink" title="save sensitivity kernels in ASCII format (much bigger files, but compatible with current GMT scripts) or in binary format"></a>save sensitivity kernels in ASCII format (much bigger files, but compatible with current GMT scripts) or in binary format</h5><!-- 以 ASCII 格式（更大的文件，但与当前的 GMT 脚本兼容）或二进制格式保存敏感内核 --><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">save<span class="emphasis">_ASCII_</span>kernels=.true.</span><br></pre></td></tr></tbody></table></figure><h5 id="since-the-accuracy-of-kernel-integration-may-not-need-to-respect-the-CFL-this-option-permits-to-save-computing-time-and-memory-with-UNDO-ATTENUATION-AND-OR-PML-mode"><a href="#since-the-accuracy-of-kernel-integration-may-not-need-to-respect-the-CFL-this-option-permits-to-save-computing-time-and-memory-with-UNDO-ATTENUATION-AND-OR-PML-mode" class="headerlink" title="since the accuracy of kernel integration may not need to respect the CFL, this option permits to save computing time, and memory with UNDO_ATTENUATION_AND_OR_PML mode"></a>since the accuracy of kernel integration may not need to respect the CFL, this option permits to save computing time, and memory with UNDO_ATTENUATION_AND_OR_PML mode</h5><!-- 由于内核集成的准确性可能不需要尊重 CFL，此选项允许使用 UNDO_ATTENUATION_AND_OR_PML 模式节省计算时间和内存 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSTEP<span class="emphasis">_BETEEN_</span>COMPUTE<span class="emphasis">_KERNELS=1</span></span><br></pre></td></tr></tbody></table></figure><h3 id="boundary-confitions"><a href="#boundary-confitions" class="headerlink" title=" boundary confitions "></a><center> boundary confitions </center></h3><h4 id="Perfectly-Matched-Layer-PML-boundaries"><a href="#Perfectly-Matched-Layer-PML-boundaries" class="headerlink" title="Perfectly Matched Layer (PML) boundaries"></a>Perfectly Matched Layer (PML) boundaries</h4><!-- 完美匹配层 (PML) 边界 --> <h5 id="absorbings-boundary-active-or-not"><a href="#absorbings-boundary-active-or-not" class="headerlink" title="absorbings boundary active or not"></a>absorbings boundary active or not</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">PML<span class="emphasis">_BOUNDARY_</span>CONDITIONS=.true.</span><br><span class="line">NELEM<span class="emphasis">_PML_</span>THICKNESS=3</span><br><span class="line">ROTATE<span class="emphasis">_PML_</span>ACTIVATE=.false.</span><br><span class="line">ROTATE<span class="emphasis">_PML_</span>ANGLE=30.</span><br><span class="line">&lt;!-- change the four parameters below only if you know what you are doing; they change the damping progiles inside the PMLs --&gt; </span><br><span class="line">&lt;!-- 仅在知道自己在做什么时才更改以下四个参数； 他们改变了 PML 内的阻尼特性 --&gt;</span><br><span class="line">K<span class="emphasis">_MIN_</span>PML=1.0d0</span><br><span class="line">K<span class="emphasis">_MAX_</span>PML=1.0d0</span><br><span class="line">damping<span class="emphasis">_change_</span>factor<span class="emphasis">_acoustic=0.5d0</span></span><br><span class="line"><span class="emphasis">damping_</span>change<span class="emphasis">_factor_</span>elastic=1.0d0</span><br><span class="line">&lt;!-- set the parameter below to .false. unless you know what you are doing; this implements automatic adjustment of the PML parametersfor elongated models. --&gt;</span><br><span class="line">&lt;!-- 将下面的参数设置为 .false。 除非你知道自己在做什么； 这实现了细长模型的 PML 参数的自动调整。 --&gt;</span><br><span class="line">&lt;!-- The goal is to improve the absorbing efficiency of PML for waves with large incidence angles, but this can lead to artefacts. --&gt; </span><br><span class="line">&lt;!-- 目标是提高 PML 对大入射角波的吸收效率，但这会导致伪影。 --&gt;</span><br><span class="line">&lt;!-- In particular, this option is efficient only when the number of sources NSOURCES is equal to one --&gt; </span><br><span class="line">&lt;!-- 特别是，这个选项只有在源NSOURCES的数量等于1时才有效--&gt;</span><br><span class="line">PML<span class="emphasis">_PARAMETER_</span>ADJUSTMENT=.false.</span><br></pre></td></tr></tbody></table></figure><h5 id="Stacey-ABC"><a href="#Stacey-ABC" class="headerlink" title="Stacey ABC"></a>Stacey ABC</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STACEY<span class="emphasis">_ABSORBING_</span>CONDITIONS=.false.</span><br></pre></td></tr></tbody></table></figure><h5 id="periodic-boundaries"><a href="#periodic-boundaries" class="headerlink" title="periodic boundaries"></a>periodic boundaries</h5><!-- 周期性边界 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ADD<span class="emphasis">_PERIODIC_</span>CONDITIONS=.false.</span><br><span class="line">PERIODIC<span class="emphasis">_HORIZ_</span>DIST=4000.d0</span><br></pre></td></tr></tbody></table></figure><h3 id="velocity-and-density-models"><a href="#velocity-and-density-models" class="headerlink" title="velocity and density models "></a><center>velocity and density models </center></h3><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">nbmodels=4</span><br><span class="line">&lt;!-- available material types  --&gt; </span><br><span class="line">&lt;!-- 可用的材料类型 --&gt;</span><br><span class="line">&lt;!-- acoustic:model<span class="emphasis">_number1rhoVp000QKappa9999000000(for QKappa use 9999 to ignore it) --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- elastic:model_</span>number1rhoVpVs00QKappaQmu000000(for QKappa and Qmu use 9999 to ignore them) --&gt; </span><br><span class="line">&lt;!-- when viscoelasticity or viscoacousticity is turned on, the Vp and Vs values that are read here are the UNTELAXED ones i.e. the values at infinite frequency unless the READ<span class="emphasis">_VELOCITIES_</span>AT<span class="emphasis">_f0 parameter above is set to true, in which case they are the values at frequency f0 --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- 当粘弹性或粘声性打开时，这里读取的 Vp 和 Vs 值是 UNTELAXED 的值，即无限频率的值，除非上面的 READ_</span>VELOCITIES<span class="emphasis">_AT_</span>f0 参数设置为 true，在这种情况下它们是频率的值 f0 --&gt;</span><br><span class="line">&lt;!-- Please also note that Qmu is always equal to Qs, but QKappa is in general not equal to Qp. To convert one to the other see doc/Qkappa<span class="emphasis">_Qmu_</span>versus<span class="emphasis">_Qp_</span>Qs<span class="emphasis">_relationship_</span>in<span class="emphasis">_2D_</span>plane<span class="emphasis">_strain.pdf and utils/attenuation/conversion_</span>from<span class="emphasis">_Qkappa_</span>Qmu<span class="emphasis">_to_</span>Qp<span class="emphasis">_Qs_</span>from<span class="emphasis">_Dahlen_</span>Tromp<span class="emphasis">_959_</span>960.f90. --&gt; </span><br><span class="line">&lt;!-- 还请注意，Qmu 总是等于 Qs，但 QKappa 通常不等于 Qp。 要将一个转换为另一个，请参阅 doc/Qkappa<span class="emphasis">_Qmu_</span>versus<span class="emphasis">_Qp_</span>Qs<span class="emphasis">_relationship_</span>in<span class="emphasis">_2D_</span>plane<span class="emphasis">_strain.pdf 和 utils/attenuation/conversion_</span>from<span class="emphasis">_Qkappa_</span>Qmu<span class="emphasis">_to_</span>Qp<span class="emphasis">_Qs_</span>from<span class="emphasis">_Dahlen_</span>Tromp<span class="emphasis">_959_</span>960.f90。 --&gt;</span><br><span class="line">&lt;!-- acoustic:model<span class="emphasis">_number1rhoVp000QKappa9999000000(for QKappa use 9999 to ignore it) --&gt; </span></span><br><span class="line"><span class="emphasis">&lt;!-- elastic:model_</span>number1rhoVpVs00QKappaQmu000000(for QKappa and Qmu use 9999 to ignore them) --&gt; </span><br><span class="line"></span><br><span class="line">&lt;!-- anisotropic: model<span class="emphasis">_number2rhoc11c13 c15 c33 c35c55c12 c23 c25 000 --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- anisotropic in AXISYM: model_</span>number2rho c11 c13 c15 c33 c35c55c12 c23 c25 c22 00 --&gt;</span><br><span class="line">&lt;!-- poroelastic: model<span class="emphasis">_number3rhos rhof phi c kxx kxzkzzKsKfKfr etaf mufr Qmu --&gt;</span></span><br><span class="line"><span class="emphasis">&lt;!-- tomo:        model_</span>number-1  00A0000000000 --&gt;</span><br><span class="line">1 1 2700.d0 3000.d0 1732.051d0 0 0 9999 9999 0 0 0 0 0 0</span><br><span class="line">2 1 2500.d0 2700.d0 0 0 0 9999 9999 0 0 0 0 0 0</span><br><span class="line">3 1 2200.d0 2500.d0 1443.375d0 0 0 9999 9999 0 0 0 0 0 0</span><br><span class="line">4 1 2200.d0 2200.d0 1343.375d0 0 0 9999 9999 0 0 0 0 0 0</span><br></pre></td></tr></tbody></table></figure><h5 id="external-tomography-file"><a href="#external-tomography-file" class="headerlink" title="external tomography file"></a>external tomography file</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TOMEGRAPHY<span class="emphasis">_FILE=./DATA/tomo_</span>file.xyz</span><br></pre></td></tr></tbody></table></figure><h5 id="use-an-external-mesh-created-by-an-external-meshing-tool-or-use-the-internal-mesher"><a href="#use-an-external-mesh-created-by-an-external-meshing-tool-or-use-the-internal-mesher" class="headerlink" title="use an external mesh created by an external meshing tool or use the internal mesher"></a>use an external mesh created by an external meshing tool or use the internal mesher</h5><!-- 使用由外部网格划分工具创建的外部网格或使用内部网格生成器 --><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read<span class="emphasis">_external_</span>mesh=.false.</span><br></pre></td></tr></tbody></table></figure><h3 id="PARAMETERS-FOR-EXTERNAL-MESHING-外部网格参数"><a href="#PARAMETERS-FOR-EXTERNAL-MESHING-外部网格参数" class="headerlink" title="PARAMETERS FOR EXTERNAL MESHING (外部网格参数)"></a>PARAMETERS FOR EXTERNAL MESHING (外部网格参数)</h3><h5 id="data-concerning-mesh-when-generated-using-third-party-app"><a href="#data-concerning-mesh-when-generated-using-third-party-app" class="headerlink" title="data concerning mesh, when generated using third-party app"></a>data concerning mesh, when generated using third-party app</h5><!-- 有关网格的数据，当使用第三方应用程序生成时 --> <!-- see also absorbing_conditions above --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mesh<span class="emphasis">_file=./DATA/mesh_</span>file</span><br><span class="line">&lt;!-- file containing the mesh --&gt; </span><br><span class="line">nodes<span class="emphasis">_coords_</span>file=./DATA/nodes<span class="emphasis">_coords_</span>file</span><br><span class="line">&lt;!-- file containing the nodes coordinates --&gt; </span><br><span class="line">materials<span class="emphasis">_file=./DATA/materials_</span>file</span><br><span class="line">&lt;!-- file containing the material number for each element --&gt; </span><br><span class="line">free<span class="emphasis">_surface_</span>file=./DATA/free<span class="emphasis">_surface_</span>file</span><br><span class="line">&lt;!-- file containing the free surface --&gt; </span><br><span class="line">axial<span class="emphasis">_elements_</span>file=./DATAaxial<span class="emphasis">_elements_</span>file</span><br><span class="line">&lt;!-- file containing the axial elements if AXISYM is true --&gt; </span><br><span class="line">absorbing<span class="emphasis">_surface_</span>file=./DATAabsorbing<span class="emphasis">_surface_</span>file</span><br><span class="line">&lt;!-- file containing the absorbing surface --&gt; </span><br><span class="line">acoustic<span class="emphasis">_forcing_</span>surface<span class="emphasis">_file=./DATA/MSH/Surf_</span>acforcing<span class="emphasis">_Botom_</span>enforcing<span class="emphasis">_mesh</span></span><br><span class="line"><span class="emphasis">&lt;!-- file containing the acoustic forcing surface --&gt; </span></span><br><span class="line"><span class="emphasis">absorbing_</span>cpml<span class="emphasis">_file=./DATA/absorbjing_</span>cpml<span class="emphasis">_file</span></span><br><span class="line"><span class="emphasis">&lt;!-- file containing the CPML element numbers --&gt; </span></span><br><span class="line"><span class="emphasis">tangential_</span>detection<span class="emphasis">_curve_</span>file=./DATA/courbe<span class="emphasis">_eros-nodes</span></span><br><span class="line"><span class="emphasis">&lt;!-- file containing the curve delimiting the velocity model --&gt; </span></span><br></pre></td></tr></tbody></table></figure><h3 id="PARAMETERS-FOR-INTERNAL-MESHING-内部网格参数"><a href="#PARAMETERS-FOR-INTERNAL-MESHING-内部网格参数" class="headerlink" title="PARAMETERS FOR INTERNAL MESHING (内部网格参数)"></a>PARAMETERS FOR INTERNAL MESHING (内部网格参数)</h3><h5 id="file-containing-interfaces-for-internal-mesh"><a href="#file-containing-interfaces-for-internal-mesh" class="headerlink" title="file containing interfaces for internal mesh"></a>file containing interfaces for internal mesh</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">interfacesfile=./DATA/interfaces<span class="emphasis">_simple_</span>topo<span class="emphasis">_curved.dat</span></span><br></pre></td></tr></tbody></table></figure><h5 id="geometry-of-the-model-origin-lower-left-corner-0-0-and-mesh-description"><a href="#geometry-of-the-model-origin-lower-left-corner-0-0-and-mesh-description" class="headerlink" title="geometry of the model (origin lower_left corner = 0,0) and mesh description"></a>geometry of the model (origin lower_left corner = 0,0) and mesh description</h5><!-- 模型的几何形状（原点左下角 = 0,0）和网格描述 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xmin=0.d0</span><br><span class="line">&lt;!-- abscissa of left side of the model (模型左侧横坐标) --&gt; </span><br><span class="line">xmax=4000.d0</span><br><span class="line">&lt;!-- abscissa of right side of the model (模型右侧横坐标) --&gt; </span><br><span class="line">nx=80</span><br><span class="line">&lt;!-- number of elements along X --&gt; </span><br></pre></td></tr></tbody></table></figure><h5 id="absorbing-boundary-parameters-see-absorbing-conditions-above"><a href="#absorbing-boundary-parameters-see-absorbing-conditions-above" class="headerlink" title="absorbing boundary parameters (see absorbing_conditions above)"></a>absorbing boundary parameters (see absorbing_conditions above)</h5><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">absorbbottom=.true.</span><br><span class="line">absorbright=.true.</span><br><span class="line">absorbtop=.false.</span><br><span class="line">absorbleft=.true.</span><br></pre></td></tr></tbody></table></figure><h5 id="define-the-defferent-regions-of-the-model-in-the-nx-nz-spectral-element-mesh"><a href="#define-the-defferent-regions-of-the-model-in-the-nx-nz-spectral-element-mesh" class="headerlink" title="define the defferent regions of the model in the (nx, nz) spectral-element mesh"></a>define the defferent regions of the model in the (nx, nz) spectral-element mesh</h5><!-- 在（nx，nz）谱元网格中定义模型的不同区域 --> <figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">nbregions=5</span><br><span class="line">&lt;!-- then set below the different regions and model number for each region --&gt; </span><br><span class="line">&lt;!-- 然后在下面设置不同地区和每个地区的型号--&gt;</span><br><span class="line">&lt;!-- format of each line :nxminnxmaxnzminnzmaxmaterial<span class="emphasis">_number --&gt; </span></span><br><span class="line"><span class="emphasis">1801201</span></span><br><span class="line"><span class="emphasis">15921402</span></span><br><span class="line"><span class="emphasis">718021402</span></span><br><span class="line"><span class="emphasis">18041603</span></span><br><span class="line"><span class="emphasis">607021404</span></span><br></pre></td></tr></tbody></table></figure><h3 id="display-parameters"><a href="#display-parameters" class="headerlink" title="display parameters"></a>display parameters</h3><h5 id=""><a href="#" class="headerlink" title=""></a></h5>]]></content>
      
      
      
        <tags>
            
            <tag> specfem </tag>
            
            <tag> forward </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>specfem3d_globe</title>
      <link href="/2022/11/25/2022-11-25-specfem3d-globe/"/>
      <url>/2022/11/25/2022-11-25-specfem3d-globe/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#visual">visual</a><ul><li><a href="#%E5%89%8D%E6%9C%9F%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6%E5%87%86%E5%A4%87">前期参数文件准备</a></li><li><a href="#gmt-%E7%94%BB%E5%9B%BE">GMT 画图</a></li></ul></li></ul><!-- Created by https://github.com/ekalinin/github-markdown-toc --><!-- Added by: zhangzhiyu, at: 2022年11月23日 星期三 19时48分19秒 CST --><!--te--><h1 id="visual"><a href="#visual" class="headerlink" title="visual"></a>visual</h1><h2 id="前期参数文件准备"><a href="#前期参数文件准备" class="headerlink" title="前期参数文件准备"></a>前期参数文件准备</h2><ul><li>打开 <code>movie_subface</code> 和 <code>movie_volume</code> 并保持 <code>movie_coarse</code>  关闭</li></ul><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211231913795.png"></p><h2 id="GMT-画图"><a href="#GMT-画图" class="headerlink" title="GMT 画图"></a>GMT 画图</h2><ul><li>命令行输入：<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/xcreate_movie_AVS_DX</span><br></pre></td></tr></tbody></table></figure></li></ul><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211231927990.png"><br><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211231929853.png"></p><p>该命令会使 <code>moviedata***</code> 转换为可读文件 <code>gmt_movie_***.Z.xyz</code></p><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211231932893.png"></p><pre><code>其实 `gmt_movie**.pl` 是生成一个 `plot_movie.csh` 文件，主要是使用 gmt 命令, 如：xyps, xyz2grd, </code></pre><h2 id="ps2pdf"><a href="#ps2pdf" class="headerlink" title="ps2pdf"></a>ps2pdf</h2><h3 id="install"><a href="#install" class="headerlink" title="install"></a>install</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install ghostscript</span><br><span class="line"></span><br><span class="line">ps2pdf OUTPUTFILES/gmt_movie_000200.Z.xyz.ps</span><br></pre></td></tr></tbody></table></figure><h1 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h1><h2 id="Par-file"><a href="#Par-file" class="headerlink" title="Par_file"></a>Par_file</h2><p><img src="https://raw.githubusercontent.com/erbiaoger/PicGo/main/image/202211232002617.png"></p><h2 id="各个模型"><a href="#各个模型" class="headerlink" title="各个模型"></a>各个模型</h2><h3 id="1D-models-with-real-structure"><a href="#1D-models-with-real-structure" class="headerlink" title="1D models with real structure:"></a>1D models with real structure:</h3><blockquote><p>1D_isotropic_prem Isotropic version of the spherically symmetric Preliminary Reference Earth Model (PREM) [Dziewo ́ nski and Anderson, 1981]. </p></blockquote><pre><code>1D_transversely_isotropic_prem Transversely isotropic version of PREM. 1D_iasp91 Spherically symmetric isotropic IASP91 model [Kennett and Engdahl, 1991]. 1D_1066a Spherically symmetric earth model 1066A [Gilbert and Dziewo ́ nski, 1975]. When ATTENTUATION is on, it uses an unpublished 1D attenuation model from Scripps. 1D_ak135f_no_mud Spherically symmetric isotropic AK135 model [Kennett et al., 1995] modified to use the density and Q attenuation models of Montagner and Kennett [1995]. That modified model is traditionally called AK135-F, see http://rses.anu.edu.au/seismology/ak135/ak135f.html for more details. As we do not want to use the 300 m-thick mud layer from that model nor the ocean layer, above the d120 discontinuity we switch back to the classical AK135 model of Kennett et al. [1995], i.e., we use AK135-F below and AK135 above. 1D_ref A 1D Earth model developed by Kustowski et al. [2006]. This model is the 1D background model for the 3D models s362ani, s362wmani, s362ani_prem, and s29ea. 1D_CCREM A 1D Earth model developed by Ma and Tkalcic [2021] called CCREM: a new reference Earth model from the global coda-correlation wavefield. Ishii Combines the 1D transversely isotropic PREM with the anisotropic inner core model defined by Ishii et al. [2002].</code></pre><h4 id="for-Mars"><a href="#for-Mars" class="headerlink" title="for Mars:"></a>for Mars:</h4><pre><code>1D_Sohl 1D Mars model developed by Sohl and Spohn [1997]. This model is model A, mostly constrained by geophysical moment of inertia. 1D_case65TAY 1D Mars reference model developed by Plesa et al. [2021]. The model is the 1D reference model for case 65 with a compositional model by Taylor. mars_1D 1D Mars model as defined in file mars_1D.dat in folder DATA/mars.</code></pre><h4 id="for-Moon"><a href="#for-Moon" class="headerlink" title="for Moon:"></a>for Moon:</h4><pre><code>VPREMOON 1D Moon model developed by Garcia et al. [2011]. Uses modified seismic model, starting from table 6 (left side, not geodesic model) with velocity values for outer core and solid inner core based on Weber et al. [2011]</code></pre><h3 id="Fully-3D-models"><a href="#Fully-3D-models" class="headerlink" title="Fully 3D models:"></a>Fully 3D models:</h3><pre><code>transversely_isotropic_prem_plus_3D_crust_2.0 This model has CRUST2.0 [Bassin et al., 2000] on top of a transversely isotropic PREM. We first extrapolate PREM mantle velocity up to the surface, then overwrite the model with CRUST2.0 s20rts By default, the code uses 3D mantle model S20RTS [Ritsema et al., 1999] and 3D crustal model Crust2.0 [Bassin et al., 2000]. Note that S20RTS uses transversely isotropic PREM as a background model, and that we use the PREM radial attenuation model when ATTENUATION is incorporated. See Chapter 12 for a discussion on how to change 3D models.s40rts A global 3D mantle model [Ritsema et al., 2011] succeeding S20RTS with a higher resolution. S40RTS uses transversely isotropic PREM as a backgroun model and the 3D crustal model Crust2.0 [Bassin et al., 2000]. We use the PREM radial attenuation model when ATTENUATION is incorporated. s362ani A global shear-wave speed model developed by Kustowski et al. [2006]. In this model, radial anisotropy is confined to the uppermost mantle. The model (and the corresponding mesh) incorporate tomography on the 650 km and 410 km discontinuities in the 1D reference model REF. s362wmani A version of S362ANI with anisotropy allowed throughout the mantle. s362ani_prem A version of S362ANI calculated using PREM as the 1D reference model. s29ea A global model with higher resolution in the upper mantle beneath Eurasia calculated using REF as the 1D reference model3D_anisotropic See Chapter 12 for a discussion on how to specify your own 3D anisotropic model. 3D_attenuation See Chapter 12 for a discussion on how to specify your own 3D attenuation model. PPM For a user-specified 3D model (Point-Profile-Model) given as ASCII-table, specifying Vs-perturbations with respect to PREM. See Chapter 12 for a discussion on how to specify your own 3D model. full_sh For a user-specified, transversely isotropic 3D model given in spherical harmonics. Coefficients for the crustal model (up to degree 40) are stored in files named C**.dat and MOHO.dat, coefficients for the mantle model (up to degree 20) are stored in files named M**.dat. All model files reside in directory DATA/full_sphericalharmonic_model/. Note that to use the crustal model, one has to set the crustal type value ITYPE_CRUSTAL_MODEL = ICRUST_CRUST_SH in file setup/constants.h. This crustal model can be transversely isotropic as well. sgloberani_iso By default, the code uses 3D isotropic mantle model SGLOBE-rani [Chang et al., 2015] and the 3D crustal model includes perturbations from Crust2.0 [Bassin et al., 2000] as discussed in [Chang et al., 2015]. The model is parametrised horizontally in spherical harmonics up to lmax=35 and with 21 depth splines for the radial direction. Note that SGLOBE-rani uses transversely isotropic PREM as a background model, and that we use the PREM radial attenuation model when ATTENUATION is incorporated. sgloberani_aniso By default, the code uses 3D anisotropic mantle model SGLOBE-rani [Chang et al., 2015] and the 3D crustal model includes perturbations from Crust2.0 [Bassin et al., 2000] as discussed in [Chang et al., 2015]. Note that SGLOBE-rani uses transversely isotropic PREM as a background model, and that we use the PREM radial attenuation model when ATTENUATION is incorporated.sgloberani_aniso By default, the code uses 3D anisotropic mantle model SGLOBE-rani [Chang et al., 2015] and the 3D crustal model includes perturbations from Crust2.0 [Bassin et al., 2000] as discussed in [Chang et al., 2015]. Note that SGLOBE-rani uses transversely isotropic PREM as a background model, and that we use the PREM radial attenuation model when ATTENUATION is incorporated. SPiRaL A multiresolution global tomography model of seismic wave speeds and radial anisotropy variations in the crust and mantle developed by Simmons et al. [2021]. Please see folder DATA/spiral1.4 for further information on how to install the corresponding model files. GLAD_bkmns A Block Mantle &amp; Spherical Harmonics (BKMNS) expansion model developed by Ciardelli et al. [submitted.] for global crust/mantle 3D models GLAD-M25 and GLAD-M15. Please see folder DATA/gladm25 for further information on how to install the corresponding model files.</code></pre><h4 id="for-Mars-1"><a href="#for-Mars-1" class="headerlink" title="for Mars:"></a>for Mars:</h4><pre><code>1D_Sohl_3d_crust This model adds a 3D crust on top of the 1D Mars model developed by Sohl and Spohn [1997]. The crustal model is defined by the files in folder DATA/crustmaps/marscrust*.cmap 1D_case65TAY_3d_crust This model adds a 3D crust on top of the 1D Mars model developed by Plesa et al. [2021]. The crustal model is defined by the files in folder DATA/crustmaps/marscrust*.cmap</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> specfem </tag>
            
            <tag> forward </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SeisFlows--Flexible waveform inversion software</title>
      <link href="/2022/11/20/2022-11-20-seisflows-flexible-waveform-inversion-software/"/>
      <url>/2022/11/20/2022-11-20-seisflows-flexible-waveform-inversion-software/</url>
      
        <content type="html"><![CDATA[<h2 id="SeiFlows————灵活的波形反演软件"><a href="#SeiFlows————灵活的波形反演软件" class="headerlink" title="SeiFlows————灵活的波形反演软件"></a>SeiFlows————灵活的波形反演软件</h2><h3 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h3><pre><code>SeisFlows 是一个开源 Python 包，为石油和天然气勘探、地震层析成像、医学成像和其他领域的研究提供可定制的波形反演工作流程和框架。通过继承默认的反演或偏移类，新方法可以在 SeisFlows 中快速原型化，并且可以在应用到更昂贵的 3D 问题之前在 2D 示例上测试代码。必须使用外部软件包（例如 SPECFEM3D）执行波形模拟。与外部解算器接口的能力提供了灵活性，并且选择 SPECFEM3D 作为默认选项提供可选的 GPU 加速和其他有用的功能。通过支持高性能计算 (HPC) 系统的大规模并行求解器和接口，可以执行具有数千条地震轨迹和数十亿模型参数的反演。到目前为止，SeisFlows 已在由国防部、雪佛龙公司、道达尔公司、普林斯顿大学和阿拉斯加大学费尔班克斯分校管理的集群上运行。</code></pre><p>[TOC]</p><h3 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1. 介绍"></a>1. 介绍</h3><p>波形反演是一种强大且计算量大的方法，用于估计物体的材料属性和成像其内部结构（Virieux 和 Optero，2009；Burstedde 和 Ghattas，2009）。 无论是应用于人体、油气藏还是在大陆克拉通，需要仔细集成软件组件，包括波动方程求解器、非线性优化库和信号处理程序。</p><p>许多波形反演包是石油和天然气公司开发的专有代码。 通常，独立研究人员无法使用此类软件。</p><p>在工业之外，已经开发了许多开源波形反演包。 MADAGASCAR 是一个广泛使用的勘探地球物理软件包，提供了多种功能，包括一些波形反演功能（Fomel 等人，2012 年）。 SEISCOPE 是另一种广泛使用的工具，它提供 FORTRAN 90 非c线性优化例程，而不是完整的反演工作流程（M_etivier 和 Brossier，2016 年）。 最近的三个软件包 PySIT、LASIF 和 SimPEG 使用 Python 进行软件集成和数据处理任务。 PySIT 以工具箱格式提供强大的波形反演功能（Hewett 和 Demanet，2013 年）。 LASIF 为组织和可视化地震断层扫描结果提供了一个有用的系统（Krischer 等人，2015a）。 SimPEG 为地球物理反演提供了广泛的框架，并附带基于有限体积法的模拟工具（Cockett 等人，2015 年）。</p><p>SeisFlows 与以前的软件不同，它提供了一个强调灵活性和 HPC 可移植性的高级反演工作流程。 为了在广泛的社区中使用并在不断发展的研究领域中保持相关性，软件必须在硬件和软件环境中具有灵活性和可移植性。 对于方法论研究，希望能够在工作站或小型集群上进行原型设计。 对于大型 3D 应用程序，在大规模并行环境中运行是必不可少的。 由于集群之间缺乏标准化，可移植性在大规模应用中尤其困难</p><p>为了帮助实现这些设计目标，SeisFlows 将反演问题抽象为六个部分：(1) 求解器、(2) 预处理、(3) 后处理、(4) 非线性优化、(5) 系统和 (6) 工作流。 SeisFlows 底层的源代码基于这些类别以模块化方式构建，并且为每个用户提供了多种选择。 例如，如果地震断层扫描项目中的研究区域扩大，用户可以将笛卡尔求解器换成球形全地球求解器。 如果 PBS 集群下线，而 SLURM 集群上线替换它，用户可以将 PBS 系统接口换成 SLURM 系统接口。 如果主包中缺少所需的功能，用户可以贡献自己的类或重载默认类。</p><table><thead><tr><th>名称</th><th>内容</th></tr></thead><tbody><tr><td>工作流</td><td>反演 成像</td></tr><tr><td>系统</td><td>串行 多线程 批处理  分布式集群管理系统 大型计算节点集群的高度可伸缩和容错的集群管理器和作业调度系统</td></tr><tr><td>求解器</td><td>SPECFEM2D SPECFEM3D SPECFEM3D_GLOBE</td></tr><tr><td>非线性优化</td><td>梯度下降 非线性共轭梯度法 拟牛顿算法</td></tr><tr><td>预处理</td><td>波前 包络 瞬时相</td></tr><tr><td>后处理</td><td>通过平滑正则化 Tikhonov 总变换</td></tr></tbody></table><p>图 1. SeisFlows 包的结构。 为组成该包的六个部分中的每一个列出了一系列主要选项或设置。</p><p>本文分为四个部分。 首先，我们详细阐述了 SeisFlows 背后的动机。 其次，简要回顾了波形反演的理论。 第三，我们描述了六个组成部分中的每一个，以及它们如何协同工作来管理反演的复杂性。 最后，我们通过一个勘探地球物理示例来说明该软件包在 HPC 环境中的使用。</p><h3 id="2-动机"><a href="#2-动机" class="headerlink" title="2. 动机"></a>2. 动机</h3><p>大约五年前，普林斯顿大学的地震学小组从事了几个波形反演项目，但应用程序之间的差异和快速的开发速度导致我们的代码变得支离破碎。 这反过来又导致重复工作、易受错误影响以及难以让新成员跟上速度。 需要一个框架来简化我们的软件工作</p><p>除了需要灵活的研究工具外，我们还面临着涉及便携性的挑战。 我们的本地集群太小，无法执行我们当时正在工作的所有 3D 反演，并且其他集群的配置与我们自己的不同。 在开始使用新的 HPC 系统时，有时需要花费数周的设置工作才能简单地运行我们的代码。 尽管 SeisFlows 最初是一种研究工具，但用于提高研究灵活性的一些原则也有助于提供跨计算环境的可移植性。</p><p>下面，我们将更详细地讨论这些灵活性和可移植性设计目标，然后再进行更全面的封装概述和具有行业基准的实际演示。</p><h4 id="2-1-灵活性"><a href="#2-1-灵活性" class="headerlink" title="2.1. 灵活性"></a>2.1. 灵活性</h4><p>一个可以在不影响可维护性的情况下添加新功能的系统有助于一个包随着时间的推移保持有用，即使在快速发展的研究理念或高流动率的开发团队的情况下也是如此。 涉及模块化设计和面向对象编程的软件工程实践有助于开发灵活的软件（例如，Gamma 等，1995）。 然而，由于遗留代码带来的挑战，这些原则可能难以应用于科学项目。 我们发现，一个可行的回应是开发一个模块化的 Python 框架，其中遗留的可执行文件或原生 Python 代码都可以用于关键组件。 除了提供集成遗留求解器的选项外，Python 还为领域科学家提供了易用性、强大的面向对象功能以及越来越多的科学工具，包括用于线性代数的 numpy (Walt et al., 2011) 和用于地震数据的 obspy 处理（Krischer 等人，2015b）。</p><h4 id="2-2-可移植性"><a href="#2-2-可移植性" class="headerlink" title="2.2. 可移植性"></a>2.2. 可移植性</h4><p>对于 HPC 应用程序，可移植性可能是一个令人生畏的目标，因为集群环境千差万别。 要使 HPC 代码具有可移植性，可能需要能够使用不同的处理器架构、文件系统、内存配置和作业调度程序。</p><p>SeisFlows 中的方法是提供一个接口层，工作流通过该接口层与系统资源进行交互。 例如，要启动一组正向模拟，用户通过系统接口的 run 方法调用求解器的正向方法。 通过隔离依赖于环境的属性，系统接口提供了跨不同计算环境的一致命令集。</p><h3 id="3-原理"><a href="#3-原理" class="headerlink" title="3. 原理"></a>3. 原理</h3><p>作为介绍后续章节中使用的术语的一种方式，我们简要回顾一下波形反演（也称为全波形反演或 FWI）的理论。</p><p>波形反演是一种数据拟合过程，其中观察数据和合成数据之间的比较用于对对象的内部结构进行成像。 通过观察和合成之间拟合的定量测量，反演问题可以明确地转换为失配函数最小化问题。 misfit 函数的一个常见选择是</p><p>$$\chi (m) = \frac{1}{2} \displaystyle \sum_{i=1}^N \displaystyle \int|F[s_i(m;t)] - F[d_i(t)]| ^2 \mathrm{d}{t}, \tag{1}$$</p><p>其中 $s$ 是合成数据，$d$ 是观察到的数据，$F$ 是数据处理算子，总和由各种源和接收器 $(i = 1,…,N)$ 我们通常将 $F$ 称为“预处理”运算符，以将其与等式 (2) 中的 $R$ 区分开来。</p><p>给定感兴趣对象的材料属性模型 $m$ ，波动方程求解器的任务是通过数值模拟对象内的波传播来生成合成数据 $s$ 参见 Tromp，2015 年的介绍）。</p><p>观察到的和合成的数据通常需要某种信号处理来进行有意义的比较。 通常，算子 $F$ 只是一个带通滤波器，但有时需要额外的步骤，例如归一化、静音、去噪或重定数据（有关综合概述，请参阅 Yilmaz，1987 年）。</p><p>为了迭代更新模型并改善观察数据和合成数据之间的拟合，我们将非线性优化算法应用于失配函数 $\chi (m)$ 。 每次迭代，都会从之前的模型通过以下方式生成一个新模型</p><p>$$<br>m_ {k + 1} = m_k + \alpha_k H_k^{-1} R[-g_k], \tag{2}<br>$$<br>其中 $g$ 是 $\chi(m)$ 的一阶导数的梯度向量，$H$ 是 $\chi(m)$ 的二阶导数的 Hessian 矩阵，或者是依赖于所选非线性优化算法的 Hessian 近似值（参见 Nocedal 和 Wright，2006 年 更详尽的描述）。 最后，$\alpha$ 是由线搜索确定的步长，$R$ 是正则化、平滑或图像处理算子，我们通常将其称为“后处理”算子。</p><h3 id="4-包组织"><a href="#4-包组织" class="headerlink" title="4. 包组织"></a>4. 包组织</h3><p>如图 1 所示，SeisFlows 由六个组件组成。 虽然这种结构是硬连线的，但各个组件本身是高度可定制的</p><h4 id="4-1-求解器"><a href="#4-1-求解器" class="headerlink" title="4.1. 求解器"></a>4.1. 求解器</h4><p>求解器是一种模拟波传播的工具是反演的主要计算引擎。 在模型更新过程中，求解器首先用于生成方程(1)式中的合成数据 $s$ 。 然后通过反投影数据残差（例如，Tromp et al., 2005; Fichtner et al., 2006），求解器用于计算方程(2)中的 $g$ 。</p><p>异构介质中的声波或弹性波模拟的选择包括有限差分、有限元和谱元数值方案。 最适合特定反演的求解器类型取决于数据是否涉及体波、表面波或两者兼而有之； 地形或水深变化是小还是大； 以及材料特性在目标结构内是连续变化还是不连续变化。</p><p>虽然原则上 SeisFlows 可以与上述所有类型的求解器接口，但迄今为止，主存储库中仅包含谱元求解器接口。 提供了 SPECFEM2D、SPECFEM3D 和 SPECFEM3D_GLOBE 包的接口类，支持各种应用程序。 所有求解器接口都继承自一个通用基类，以避免代码重复。 一些研究人员将 SeisFlows 与有限差分求解器（Gian Matharu，个人通信）结合使用，但此类功能在主包中尚不可用。</p><h4 id="4-2-预处理"><a href="#4-2-预处理" class="headerlink" title="4.2. 预处理"></a>4.2. 预处理</h4><p>在我们的术语中，预处理是指对地震轨迹进行的操作，包括方程（1）中的 $\chi(m)$ 和 $F$ 。 该名称反映了这样一个事实，即此类操作通常在数据残差反投影之前执行。</p><p>默认预处理类处理时域数据，并依赖 obspy 来读写数据和信号处理。 如果 obspy 不支持文件格式，用户可以通过简单的插件系统贡献自己的读写实用程序。</p><p>默认类中包含各种数据处理选项。 提供高通、低通和带通滤波选项； traceby-trace 或 record 逐个记录部分归一化； 和静音早到或晚到</p><p>最后，提供了用于生成伴随迹线的机制，以与“优化然后离散化”求解器一起使用。 提供了对应于波形差、走时、包络和瞬时相位目标函数的伴随轨迹发生器。 可以再次通过插件系统添加对其他目标函数的支持。</p><h4 id="4-3-后处理"><a href="#4-3-后处理" class="headerlink" title="4.3. 后处理"></a>4.3. 后处理</h4><p>在我们的术语中，“后处理”是指对模型、敏感度内核或迁移图像的图像处理操作。该名称反映了此类操作通常在数据反投影之后执行的事实。</p><p>各种各样的操作都属于这一类。包括平滑、基础投影、Tikhonov 和总变化正则化在内的技术都涉及灵敏度内核的操作，并且已经使用 SeisFlows 实现（参见 Modrak 和 Tromp，2016 年的概述）。对源或接收器周围的现场效应或数值伪影的处理也属于后处理，在石油和天然气勘探环境中执行的空间过滤或锐化也是如此。</p><p>由于后处理操作有时直接在模型或内核上执行，如求解器使用的有限差分、有限元或谱元基础所表示的，求解器和后处理组件之间可能存在一些重叠。在 SeisFlows 中，我们使用 SPECFEM2D、SPECFEM3D 和 SPECFEM3D_GLOBE 包中包含的独立实用程序来平滑基于光谱元素的操作，而不是在 Python 中重新实现这些操作。</p><h4 id="4-4-非线性优化"><a href="#4-4-非线性优化" class="headerlink" title="4.4. 非线性优化"></a>4.4. 非线性优化</h4><p>在生成模型更新和减少数据失配方面，推动反演进展的是非线性优化过程。 波形反演的收敛速度取决于所选择的特定非线性优化算法。</p><p>在主程序包中，可用的非线性优化算法包括梯度下降、非线性共轭梯度 (NLCG) 和拟牛顿 (QN) 算法，实施中包含括号和回溯线搜索和重启保护措施（参见 Modrak 和 Tromp，2016 年 概述）。 默认数值设置应该适用于广泛的反演，但也提供了调整参数。 为了提高 NLCG 和 QN 提供的收敛之外的性能，可以通过插件系统加载预处理器。 最后，提供了一个集成测试，该测试使用 Rosenbrock 测试用例 (Rosenbrock, 1960) 检查非线性优化机制。</p><p>虽然比完全牛顿法或高斯牛顿法使用的内存要少得多，但共轭梯度和准牛顿算法使用的存储空间大约是简单梯度下降法的 2 到 10 倍。 换言之，NLCG 或 QN 所需的内存是存储单个梯度向量所需内存的 2-10 倍。 尽管求解器操作可以在任意数量的节点上并行执行，但使用 SeisFlows 的非线性优化操作目前仅在单个节点上执行。 如果非线性优化存储成本超过节点上可用的内存，则使用 numpy.memmap 将向量存储在虚拟内存中。 并行化非线性优化例程可以提高非常大的反演的性能，但原因在第 2 节中描述。 4.5，这不是当前的优先事项。</p><table><thead><tr><th>INVERSION WORKFLOW</th></tr></thead><tbody><tr><td>SOLVER(FORWARD)</td></tr><tr><td>PREPROCESS</td></tr><tr><td>SOLVER(ADJOINT)</td></tr><tr><td>POSTPROCESS</td></tr><tr><td>NONLINEAR OPTIMIZATION</td></tr></tbody></table><table><thead><tr><th>MIGRATION WORKFLOW</th></tr></thead><tbody><tr><td>SOLVER(FORWARD)</td></tr><tr><td>PREPROCESS</td></tr><tr><td>SOLVER(ADJOINT)</td></tr><tr><td>POSTPROCESS</td></tr></tbody></table><p>图 2. SeisFlows 提供的默认反演和迁移工作流程。 因为每个组成部分都是高度可定制的，所以上面只显示了一个非常示意性的表示。</p><h4 id="4-5-系统"><a href="#4-5-系统" class="headerlink" title="4.5. 系统"></a>4.5. 系统</h4><p>作为求解器和其他工作流组件与系统资源交互的软件层，“系统”组件提供了从一个环境到另一个环境的互操作性。主包中提供了一系列接口，其中一些用于工作站，另一些用于 LSF、SLURM 和 PBS 集群。在所有情况下，系统组件的想法是提供默认配置，以便在用户环境需要特殊处理的情况下进行定制。此类型自定义的示例可在 github.com/rmodrak/seisflows-hpc 中找到。</p><p>以 system.run 函数为例，该函数用于执行令人尴尬的并行任务。在具有单个可用 CPU 内核的计算机上运行时，用户应选择串行系统接口。导致 seisflows.system.serial.run 在运行时加载，它在循环中一次执行一个任务。或者，当在 SLURM 集群上运行小反转时，用户应该选择 slurm_sm 系统接口。这会导致 seisflows.system.slurm_sm.run 被加载，它使用在反转开始时分配的资源同时执行任务。对于较大的反转，用户应该选择以 lg 后缀结尾的系统接口，这会导致资源按需分配，而不是一开始就一次性分配。</p><table><thead><tr><th>特定领域的例子: 全球地震反演</th></tr></thead><tbody><tr><td>准备球形网格</td></tr><tr><td>从数据中删除仪器响应</td></tr><tr><td>过滤数据</td></tr></tbody></table><table><thead><tr><th>求解器(波前)</th></tr></thead></table><table><thead><tr><th>预处理</th></tr></thead><tbody><tr><td>过滤合成物</td></tr><tr><td>选择测量窗口</td></tr><tr><td>应用类别权重</td></tr><tr><td>比较数据和合成</td></tr><tr><td>生成用于“优化-然后-离散化”方法的伴随源</td></tr></tbody></table><table><thead><tr><th>求解器(伴随)</th></tr></thead></table><table><thead><tr><th>后处理</th></tr></thead><tbody><tr><td>删除源/接收器工件</td></tr><tr><td>合计来源贡献</td></tr><tr><td>将 edge_preserving 平滑应用于渐变</td></tr></tbody></table><table><thead><tr><th>非线性优化</th></tr></thead><tbody><tr><td>初始化拟牛顿求逆 Hessian 矩阵</td></tr><tr><td>生成准牛顿搜索方向</td></tr><tr><td>执行回溯线搜索</td></tr></tbody></table><p>图 3. 可以通过重载默认类在 SeisFlows 中实现的特定领域应用程序的一个示例。 特殊的梯度平滑操作可用于解决全球地震学中地震台站和地震的空间分布不均匀问题。 为此，用户可以从后处理类别中的现有选项中进行选择，或者提供他们自己的自定义后处理类。 上框中列出的步骤仅在反转开始时执行一次。 重复下框中列出的步骤，直到获得所需的失配减少水平。</p><table><thead><tr><th>特定领域的例子: 近地表地震反演</th></tr></thead><tbody><tr><td>准备笛卡尔求解器网格</td></tr><tr><td>筛选数据</td></tr></tbody></table><table><thead><tr><th>求解器(波前)</th></tr></thead></table><table><thead><tr><th>预处理</th></tr></thead><tbody><tr><td>过滤合成物</td></tr><tr><td>比较数据和合成</td></tr><tr><td>生成用于“优化然后离散化”方法的伴随源</td></tr></tbody></table><table><thead><tr><th>求解器(伴随)</th></tr></thead></table><table><thead><tr><th>后处理</th></tr></thead><tbody><tr><td>删除源/接收器工件</td></tr><tr><td>合计来源贡献</td></tr><tr><td>应用 tikhonov 惩罚函数贡献</td></tr></tbody></table><table><thead><tr><th>非线性优化</th></tr></thead><tbody><tr><td>初始化拟牛顿求逆 Hessian 矩阵</td></tr><tr><td>生成准牛顿搜索方向</td></tr><tr><td>执行回溯线搜索</td></tr></tbody></table><p>图 4. 可以通过重载默认类在 SeisFlows 中实现的域特定应用程序的另一个示例。 针对近地表数据开发了许多专门的数据预处理操作，这些数据缺乏表现良好的地壳、地幔和地核相的全地球数据。 为此，用户可以从预处理类别中的现有选项中进行选择，也可以提供自己的自定义预处理类。</p><h4 id="4-6-工作流"><a href="#4-6-工作流" class="headerlink" title="4.6. 工作流"></a>4.6. 工作流</h4><p>最后，将一切联系在一起的是“工作流程”。提供了默认的反演和偏移工作流程，可以直接使用，也可以作为可以在其上实施专门策略的基类。</p><p>在实践中，工作流的执行相当于单步执行包含在 workflow.main 中的代码。用户可以自由修改默认的反演和迁移工作流程，这些工作流程旨在轻松定制。例如，通过包含可用于在模型更新之前或之后进行任何必要设置或清理工作的初始化和完成方法。</p><p>图 2 描述了默认的反演和偏移工作流程。因为每个组成部分都是高度可定制的，所以只提供了一个非常示意性的表示。为了了解通过 SeisFlows 可能实现的特定领域应用的类型，图 3 和图 4 描绘了更专业的全地球和近地表反演工作流程。</p><p>反映我们小组将 SeisFlows 用作研究工具的情况，通过重载反演和偏移类实现了许多自定义策略。例如，随机反演、双差波形反演和全波形环境噪声反演都可以以这种方式实现。最后，除了执行反演和偏移之外，用户还可以通过以任何所需顺序调用求解器、预处理、后处理和非线性优化组件来编写全新的工作流程。速度分析或不确定性量化任务可以以这种方式实现，举一些例子。</p><h4 id="4-7-杂项"><a href="#4-7-杂项" class="headerlink" title="4.7. 杂项"></a>4.7. 杂项</h4><p>在这里，我们讨论了不属于上述类别的包组织的其他方面。</p><h5 id="4-7-1-测试"><a href="#4-7-1-测试" class="headerlink" title="4.7.1. 测试"></a>4.7.1. 测试</h5><p>Seisflows/tests 包含一组可直接调用的测试脚本。 run_- test_system 使用简单的“hello”消息测试系统接口，run_test_optimize 解决了一个廉价的非线性优化问题，run_test_tools 执行 seisflows/tools 单元测试。</p><h5 id="4-7-2-源代码仓库"><a href="#4-7-2-源代码仓库" class="headerlink" title="4.7.2. 源代码仓库"></a>4.7.2. 源代码仓库</h5><p>代码使用 GitHub (github.com/rmodrak/seisflows) 托管和协作开发。 在拉取请求之后，上述测试使用 Travis 持续集成 (travis-ci.org) 自动运行。 可在 seisflows.readthedocs.org 上查看文档。</p><h5 id="4-7-3-插件"><a href="#4-7-3-插件" class="headerlink" title="4.7.3. 插件"></a>4.7.3. 插件</h5><p>seisflows/plugins 中的每个文件或子目录都包含一组函数，它们共享完全相同的输入和输出语法。 可以通过使用已建立的语法创建新函数来添加新的“插件”。 例如，可以通过模仿现有 misfit 函数的输入和输出，将新的数据 misfit 函数添加到 seisflows/plugins/misfit.py。 因为语法非常简单，所以添加新插件通常需要很少的努力。</p><h5 id="4-7-4-参数和路径"><a href="#4-7-4-参数和路径" class="headerlink" title="4.7.4. 参数和路径"></a>4.7.4. 参数和路径</h5><p>提交工作流时，用户必须指定参数和路径输入文件。 检查值以便可以在不损失队列时间或运行时间的情况下检测到错误。 参数和路径存储在一个字典中，可以在 Python 代码的任何地方访问。</p><h3 id="5-示例：基于-SEAM-山麓模型的陆上油气勘探问题"><a href="#5-示例：基于-SEAM-山麓模型的陆上油气勘探问题" class="headerlink" title="5. 示例：基于 SEAM 山麓模型的陆上油气勘探问题"></a>5. 示例：基于 SEAM 山麓模型的陆上油气勘探问题</h3><p>在过去十年中，陆上地震勘探显着增加，但即使对于最先进的求解器来说，在复杂环境中模拟波传播仍然很困难（Oristaglio，2012 年）。 SEAM II 山麓模型具有山地逆冲带典型的极端地形和强烈的横向和垂直速度变化，是行业联盟为解决陆上建模挑战而创建的三个基准之一（Oristaglio，2013 年）。</p><p>下面我们介绍使用山麓数据获得的反演结果。 其中一些结果先前发表在鲍里索夫等人。 （2018）； 在这里，我们关注之前没有讨论过的计算成本、容错性和软件灵活性问题。</p><h4 id="5-1-方法"><a href="#5-1-方法" class="headerlink" title="5.1. 方法"></a>5.1. 方法</h4><p>为了降低实验的总体成本，我们选择了原始模型的 $25 km^2$部分。 所选体积，如图 5 所示，在 x、y 和 z 方向上分别为 $7 \times 3.5 \times 3 km$。 在 1-15 Hz 范围内工作，需要大约 $10^8$ 个数值网格点来进行精确的波模拟。 图 4 显示了模型和数值网格。 高达 0.9 公里的地形变化会导致显着的散射、聚焦和散焦效应。 目标模型包含 P 波和 S 波速度和密度的强烈变化，在某些地方 S 波速度的不连续性超过 1 km/s。 山麓模型的极端地形已被证明会导致有限差分方案出现问题，而诸如 SPECFEM3D 之类的有限元和谱元代码通常表现得更好（Oristaglio，2012 年）。</p><p><img src="https://gitee.com/erbiaoger/images/raw/master/img/202203071916133.jpg" alt="Fig. 5."></p><p>图5. 近地表地震反演实例。 (a) 目标 S 波速度模型。 (b) 数值网格。 增加了反演的挑战和计算成本，目标模型包含大的地形变化和复杂的折叠和断层结构。 非结构化光谱元素数值网格包含大约 $10^8$ 个积分点。</p><p><img src="https://gitee.com/erbiaoger/images/raw/master/img/202203071925082.jpg" alt="Fig.6."></p><p>图6. 近地表地震反演结果 垂直切片（左）和水平切片（右）。 (a,b) 真实模型； (c,d) 初始模型； (e,f) 包络差反演的结果； （ g ， h ）包络差反演的结果，然后是波形差反演。</p><p><img src="https://gitee.com/erbiaoger/images/raw/master/img/202203071949667.jpg" alt="Fig.7."></p><p>图7. SEAM II 期山麓模型拍摄记录，位移垂直分量。 左：观察到的痕迹，中：初始合成，右：包络 FWI 后的合成。</p><p>在陆上地震勘探中，地表记录的轨迹以高振幅色散地表波为主。与从数据中删除此类信息不同，面波可以用作对浅层结构的附加约束。不幸的是，几个主要障碍，包括面波数值模拟的困难和近地表复杂性的问题影响，使这种方法变得困难。</p><p>为了利用面波，反演过程需要灵活性。大多数反演包采用波形差异拟合测量，但这些都不太适合近地表复杂性中的面波反演，加剧了周期跳跃。为了减少循环跳跃，Bozdag 等人提出了包络失配函数。 （2011）。与许多新技术一样，包络目标函数需要在大规模生产之前进行微调。 SeisFlows 为此类测试提供了一个有用的框架。</p><p>对于反演，我们使用了 72 个源和 2502 个接收器，它们规则地分布在地表上。接收器之间的距离在 x 和 y 方向上分别为 50 米和 200 分钟，而两个方向上的发射器之间的距离为 600 米。每个镜头对应于在垂直方向上施加的力，其中 Ricker 小波作为源时间函数。我们使用了相对较高的频段（主频为 6 Hz）；我们没有像 Bunks 等人那样使用多尺度方法。 （1995 年）。此外，我们仅对所有接收器使用垂直分量。搜索方向是使用 L-BFGS 算法计算的，该算法在 SeisFlows 中带有提供稳定性的数值保障（例如，Dennis 和 Schnabel，1996）。</p><p>尽管裁剪了模型，但反演仍然超出了我们本地分配的容量，因此我们在 Total S.A. 提供的 2000 核 LSF 机器上运行它。只需对 SeisFlows 中的默认 LSF 接口进行少量修改，更改涉及资源队列和 MPI 库路径的规范。网格的内存需求超过了单个节点的容量，因此我们为每个波场模拟使用了多个节点。每个源 6 个节点和每个节点 16 个 CPU 内核，每个源需要 96 个内核。使用 seisflows/system/lsf_lg.py，模拟在作业数组中排队，在资源可用时执行。</p><h4 id="5-2-结果"><a href="#5-2-结果" class="headerlink" title="5.2. 结果"></a>5.2. 结果</h4><p>首先，我们使用包络失配函数来同时反转体波和面波。经过 30 次迭代后，S 波速度模型在浅层地下的精度显着提高（图 6e 和 f）。然后我们将此结果用作波形差异反演的输入，再次使用体波和面波。在进一步的 30 次迭代之后，浅层结构得到了更多的改进（图 6g 和 h）。由于灵敏度集中在自由表面并且振幅比体波大很多倍，因此面波在数据和模型更新方面都占主导地位，因此在面波减弱之前，预计不会恢复深层结构（Borisov 等人，2018 年） .此时使用体波和面波恢复了模型的浅部，可以使用传统的仅体波反演来改善深度恢复。记录位于 x 处的镜头部分 1 公里， 1.75 km如图7所示。由于真实模型的浅部具有很强的非均质性，观测数据以大振幅、色散的瑞利波为主。相比之下，初始合成中的面波的分散性要小得多，因为初始模型相对平滑。很明显，在使用基于包络的反演反演的模型上生成的合成炮集与观察到的更接近。</p><h3 id="6-结论"><a href="#6-结论" class="headerlink" title="6. 结论"></a>6. 结论</h3><p>通过 SEAM II 山麓测试用例，我们说明了 SeisFlows 在一个难题上的使用。 这个例子中的结果部分取决于反演软件的灵活设计，这使得非标准目标函数的实验成为可能。 成功还取决于 HPC 环境之间的可移植性，这使我们能够在超出本地集群分配后切换到 Total S.A. 提供的超级计算机。 除了上述油气勘探基准之外，SeisFlows 的其他用途包括检测非法隧道（Smith 等人，2017 年）； 桥面分层无损检测（Nguyen 和 Modrak，2018 年）； 超声波医学成像（Bachmann，2016）； 利用声学（Modrak 和 Tromp，2015 年）、各向同性弹性模型（Modrak 等人，2016 年）和横向各向异性模型（Rusmanugroho 等人，2017 年）进行油气勘探。 使用 Silwal 和 Tape (2016) 数据的地震层析成像目前正在使用该软件包进行。</p><h3 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h3><p>作者感谢 TOTAL S.A. 提供计算资源； SEAM 联盟提供山麓模型； 和 Etienne Bachmann、Wenjie Lei、Gian Matharu、Luan Nguyen、Youyi Ruan、Heru Rusmanugroho、Frederik Simons、James Smith、Yanhua Yuan 和两位匿名审稿人进行了非常有益的讨论。</p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3>]]></content>
      
      
      
        <tags>
            
            <tag> seisflows </tag>
            
            <tag> inversion </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
